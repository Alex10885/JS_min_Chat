5910df4f6d689b67e41d4fd23b9dd1de
const User = require('../../models/User');
describe('User Model', () => {
  describe('User Creation and Validation', () => {
    it('should create a user with valid data', async () => {
      const userData = {
        nickname: 'testuser',
        email: 'test@example.com',
        password: 'password123',
        role: 'member'
      };
      const user = new User(userData);
      const savedUser = await user.save();
      expect(savedUser.nickname).toBe(userData.nickname);
      expect(savedUser.email).toBe(userData.email.toLowerCase());
      expect(savedUser.role).toBe(userData.role);
      expect(savedUser.status).toBe('offline');
      expect(savedUser.createdAt).toBeDefined();
      expect(savedUser.lastActive).toBeDefined();
    });
    it('should require nickname, email and password', async () => {
      const user = new User({});
      let error;
      try {
        await user.save();
      } catch (err) {
        error = err;
      }
      expect(error).toBeDefined();
      expect(error.errors.nickname).toBeDefined();
      expect(error.errors.email).toBeDefined();
    });
    it('should enforce nickname length limits', async () => {
      const shortNickname = 'ab'; // too short
      let error;
      try {
        await new User({
          nickname: shortNickname,
          email: 'test@example.com',
          password: 'password123'
        }).save();
      } catch (err) {
        error = err;
      }
      expect(error).toBeDefined();
      expect(error.errors.nickname).toBeDefined();
      const longNickname = 'a'.repeat(51); // too long
      try {
        await new User({
          nickname: longNickname,
          email: 'test@example.com',
          password: 'password123'
        }).save();
      } catch (err) {
        error = err;
      }
      expect(error).toBeDefined();
      expect(error.errors.nickname).toBeDefined();
    });
    it('should enforce password length limits', async () => {
      const shortPassword = '12345'; // too short
      let error;
      try {
        await new User({
          nickname: 'testuser',
          email: 'test@example.com',
          password: shortPassword
        }).save();
      } catch (err) {
        error = err;
      }
      expect(error).toBeDefined();
      expect(error.errors.password).toBeDefined();
    });
  });
  describe('Password Hashing', () => {
    it('should hash password before saving', async () => {
      const password = 'testpassword123';
      const user = await new User({
        nickname: 'hashuser',
        email: 'hash@example.com',
        password: password
      }).save();

      // Password should be hashed, not stored in plain text
      expect(user.password).not.toBe(password);
      expect(user.password).toMatch(/^\$2[aby]\$/); // bcrypt hash format
    });
    it('should not rehash password if not modified', async () => {
      const user = await new User({
        nickname: 'norehash',
        email: 'norehash@example.com',
        password: 'original'
      }).save();
      const originalHash = user.password;

      // Update a non-password field
      user.role = 'admin';
      await user.save();

      // Password hash should remain the same
      expect(user.password).toBe(originalHash);
    });
  });
  describe('Password Comparison', () => {
    it('should correctly compare valid password', async () => {
      const password = 'testpassword123';
      const user = await new User({
        nickname: 'compuser',
        email: 'comp@example.com',
        password: password
      }).save();
      const isValid = await user.comparePassword(password);
      expect(isValid).toBe(true);
    });
    it('should reject invalid password', async () => {
      const user = await new User({
        nickname: 'wrongpass',
        email: 'wrong@example.com',
        password: 'correctpass'
      }).save();
      const isValid = await user.comparePassword('wrongpass');
      expect(isValid).toBe(false);
    });
  });
  describe('Unique Constraints', () => {
    it('should enforce unique nicknames', async () => {
      await new User({
        nickname: 'uniqueuser',
        email: 'first@example.com',
        password: 'password123'
      }).save();
      let error;
      try {
        await new User({
          nickname: 'uniqueuser',
          // duplicate
          email: 'second@example.com',
          password: 'password123'
        }).save();
      } catch (err) {
        error = err;
      }
      expect(error).toBeDefined();
      if (error.code === 11000) {
        expect(error.code).toBe(11000); // MongoDB duplicate key error
      }
    });
    it('should enforce unique emails', async () => {
      await new User({
        nickname: 'firstuser',
        email: 'unique@example.com',
        password: 'password123'
      }).save();
      let error;
      try {
        await new User({
          nickname: 'seconduser',
          email: 'unique@example.com',
          // duplicate
          password: 'password123'
        }).save();
      } catch (err) {
        error = err;
      }
      expect(error).toBeDefined();
      if (error.code === 11000) {
        expect(error.code).toBe(11000); // MongoDB duplicate key error
      }
    });
  });
  describe('User Roles', () => {
    it('should default to member role', async () => {
      const user = await new User({
        nickname: 'memberuser',
        email: 'member@example.com',
        password: 'password123'
      }).save();
      expect(user.role).toBe('member');
    });
    it('should allow admin role', async () => {
      const user = await new User({
        nickname: 'adminuser',
        email: 'admin@example.com',
        password: 'password123',
        role: 'admin'
      }).save();
      expect(user.role).toBe('admin');
    });
    it('should reject invalid roles', async () => {
      let error;
      try {
        await new User({
          nickname: 'invalidrole',
          email: 'invalid@example.com',
          password: 'password123',
          role: 'invalid'
        }).save();
      } catch (err) {
        error = err;
      }
      expect(error).toBeDefined();
      expect(error.errors.role).toBeDefined();
    });
  });
  describe('User Status', () => {
    it('should default to offline status', async () => {
      const user = await new User({
        nickname: 'offlineuser',
        email: 'offline@example.com',
        password: 'password123'
      }).save();
      expect(user.status).toBe('offline');
    });
    it('should allow online status', async () => {
      const user = await new User({
        nickname: 'onlineuser',
        email: 'online@example.com',
        password: 'password123',
        status: 'online'
      }).save();
      expect(user.status).toBe('online');
    });
    it('should reject invalid status values', async () => {
      let error;
      try {
        await new User({
          nickname: 'invalidstatus',
          email: 'invalid@example.com',
          password: 'password123',
          status: 'away' // invalid status
        }).save();
      } catch (err) {
        error = err;
      }
      expect(error).toBeDefined();
      expect(error.errors.status).toBeDefined();
    });
  });
  describe('Email Normalization', () => {
    it('should convert email to lowercase', async () => {
      const user = await new User({
        nickname: 'lowercase',
        email: 'USER@EXAMPLE.COM',
        password: 'password123'
      }).save();
      expect(user.email).toBe('user@example.com');
    });
    it('should trim email whitespace', async () => {
      const user = await new User({
        nickname: 'trimemail',
        email: '  user@example.com  ',
        password: 'password123'
      }).save();
      expect(user.email).toBe('user@example.com');
    });
  });
  describe('Password Reset Token', () => {
    it('should generate reset password token', async () => {
      const user = await new User({
        nickname: 'resettoken',
        email: 'reset@example.com',
        password: 'password123'
      }).save();
      const token = user.generateResetToken();
      expect(token).toBeDefined();
      expect(typeof token).toBe('string');
      expect(token.length).toBe(64); // hex representation of 32 bytes
      expect(user.resetPasswordToken).toBeDefined();
      expect(user.resetPasswordExpires).toBeDefined();
      expect(user.resetPasswordExpires.getTime()).toBeGreaterThan(Date.now());
    });
    it('should expire reset token after 1 hour', async () => {
      const user = await new User({
        nickname: 'expiretoken',
        email: 'expire@example.com',
        password: 'password123'
      }).save();
      user.generateResetToken();

      // Manually set expiry to past
      user.resetPasswordExpires = new Date(Date.now() - 1000);
      await user.save();
      expect(() => {
        user.resetPassword(Math.random().toString(36), 'newpassword');
      }).toThrow('Password reset token has expired');
    });
    it('should reject invalid reset token', async () => {
      const user = await new User({
        nickname: 'invalidtoken',
        email: 'invalidtoken@example.com',
        password: 'password123'
      }).save();
      user.generateResetToken();
      await user.save();
      expect(() => {
        user.resetPassword('invalidtoken123', 'newpassword');
      }).toThrow('Invalid or expired password reset token');
    });
    it('should successfully reset password with valid token', async () => {
      const user = await new User({
        nickname: 'validreset',
        email: 'validreset@example.com',
        password: 'password123'
      }).save();
      const resetToken = user.generateResetToken();
      await user.save();
      const newPassword = 'newsecurepassword';
      await user.resetPassword(resetToken, newPassword);

      // Verify new password works
      const isNewPasswordValid = await user.comparePassword(newPassword);
      expect(isNewPasswordValid).toBe(true);

      // Verify token is cleared
      expect(user.resetPasswordToken).toBeNull();
      expect(user.resetPasswordExpires).toBeNull();
    });
  });
  describe('JSON Serialization', () => {
    it('should exclude password from JSON output', async () => {
      const user = await new User({
        nickname: 'jsonuser',
        email: 'json@example.com',
        password: 'password123'
      }).save();
      const userJSON = user.toJSON();
      expect('password' in userJSON).toBe(false);
      expect(userJSON.nickname).toBeDefined();
      expect(userJSON.email).toBeDefined();
      expect(userJSON.role).toBeDefined();
    });
    it('should include all non-sensitive fields in JSON', async () => {
      const user = await new User({
        nickname: 'completeuser',
        email: 'complete@example.com',
        password: 'password123',
        role: 'admin'
      }).save();
      const userJSON = user.toJSON();
      expect(userJSON.nickname).toBe('completeuser');
      expect(userJSON.email).toBe('complete@example.com');
      expect(userJSON.role).toBe('admin');
      expect(userJSON.status).toBe('offline');
      expect(userJSON.createdAt).toBeDefined();
      expect(userJSON.lastActive).toBeDefined();
    });
  });
  describe('Timestamps', () => {
    it('should set createdAt timestamp', async () => {
      const beforeCreate = new Date();
      const user = await new User({
        nickname: 'timestampuser',
        email: 'timestamp@example.com',
        password: 'password123'
      }).save();
      const afterCreate = new Date();
      expect(user.createdAt).toBeDefined();
      expect(user.createdAt.getTime()).toBeGreaterThanOrEqual(beforeCreate.getTime());
      expect(user.createdAt.getTime()).toBeLessThanOrEqual(afterCreate.getTime());
    });
    it('should set lastActive timestamp', async () => {
      const user = await new User({
        nickname: 'activetimestamp',
        email: 'active@example.com',
        password: 'password123'
      }).save();
      expect(user.lastActive).toBeDefined();
      expect(user.lastActive.getTime()).toBeGreaterThanOrEqual(user.createdAt.getTime());
    });
  });
});
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJVc2VyIiwicmVxdWlyZSIsImRlc2NyaWJlIiwiaXQiLCJ1c2VyRGF0YSIsIm5pY2tuYW1lIiwiZW1haWwiLCJwYXNzd29yZCIsInJvbGUiLCJ1c2VyIiwic2F2ZWRVc2VyIiwic2F2ZSIsImV4cGVjdCIsInRvQmUiLCJ0b0xvd2VyQ2FzZSIsInN0YXR1cyIsImNyZWF0ZWRBdCIsInRvQmVEZWZpbmVkIiwibGFzdEFjdGl2ZSIsImVycm9yIiwiZXJyIiwiZXJyb3JzIiwic2hvcnROaWNrbmFtZSIsImxvbmdOaWNrbmFtZSIsInJlcGVhdCIsInNob3J0UGFzc3dvcmQiLCJub3QiLCJ0b01hdGNoIiwib3JpZ2luYWxIYXNoIiwiaXNWYWxpZCIsImNvbXBhcmVQYXNzd29yZCIsImNvZGUiLCJ0b2tlbiIsImdlbmVyYXRlUmVzZXRUb2tlbiIsImxlbmd0aCIsInJlc2V0UGFzc3dvcmRUb2tlbiIsInJlc2V0UGFzc3dvcmRFeHBpcmVzIiwiZ2V0VGltZSIsInRvQmVHcmVhdGVyVGhhbiIsIkRhdGUiLCJub3ciLCJyZXNldFBhc3N3b3JkIiwiTWF0aCIsInJhbmRvbSIsInRvU3RyaW5nIiwidG9UaHJvdyIsInJlc2V0VG9rZW4iLCJuZXdQYXNzd29yZCIsImlzTmV3UGFzc3dvcmRWYWxpZCIsInRvQmVOdWxsIiwidXNlckpTT04iLCJ0b0pTT04iLCJiZWZvcmVDcmVhdGUiLCJhZnRlckNyZWF0ZSIsInRvQmVHcmVhdGVyVGhhbk9yRXF1YWwiLCJ0b0JlTGVzc1RoYW5PckVxdWFsIl0sInNvdXJjZXMiOlsiVXNlci50ZXN0LmpzIl0sInNvdXJjZXNDb250ZW50IjpbImNvbnN0IFVzZXIgPSByZXF1aXJlKCcuLi8uLi9tb2RlbHMvVXNlcicpO1xuXG5kZXNjcmliZSgnVXNlciBNb2RlbCcsICgpID0+IHtcbiAgZGVzY3JpYmUoJ1VzZXIgQ3JlYXRpb24gYW5kIFZhbGlkYXRpb24nLCAoKSA9PiB7XG4gICAgaXQoJ3Nob3VsZCBjcmVhdGUgYSB1c2VyIHdpdGggdmFsaWQgZGF0YScsIGFzeW5jICgpID0+IHtcbiAgICAgIGNvbnN0IHVzZXJEYXRhID0ge1xuICAgICAgICBuaWNrbmFtZTogJ3Rlc3R1c2VyJyxcbiAgICAgICAgZW1haWw6ICd0ZXN0QGV4YW1wbGUuY29tJyxcbiAgICAgICAgcGFzc3dvcmQ6ICdwYXNzd29yZDEyMycsXG4gICAgICAgIHJvbGU6ICdtZW1iZXInXG4gICAgICB9O1xuXG4gICAgICBjb25zdCB1c2VyID0gbmV3IFVzZXIodXNlckRhdGEpO1xuICAgICAgY29uc3Qgc2F2ZWRVc2VyID0gYXdhaXQgdXNlci5zYXZlKCk7XG5cbiAgICAgIGV4cGVjdChzYXZlZFVzZXIubmlja25hbWUpLnRvQmUodXNlckRhdGEubmlja25hbWUpO1xuICAgICAgZXhwZWN0KHNhdmVkVXNlci5lbWFpbCkudG9CZSh1c2VyRGF0YS5lbWFpbC50b0xvd2VyQ2FzZSgpKTtcbiAgICAgIGV4cGVjdChzYXZlZFVzZXIucm9sZSkudG9CZSh1c2VyRGF0YS5yb2xlKTtcbiAgICAgIGV4cGVjdChzYXZlZFVzZXIuc3RhdHVzKS50b0JlKCdvZmZsaW5lJyk7XG4gICAgICBleHBlY3Qoc2F2ZWRVc2VyLmNyZWF0ZWRBdCkudG9CZURlZmluZWQoKTtcbiAgICAgIGV4cGVjdChzYXZlZFVzZXIubGFzdEFjdGl2ZSkudG9CZURlZmluZWQoKTtcbiAgICB9KTtcblxuICAgIGl0KCdzaG91bGQgcmVxdWlyZSBuaWNrbmFtZSwgZW1haWwgYW5kIHBhc3N3b3JkJywgYXN5bmMgKCkgPT4ge1xuICAgICAgY29uc3QgdXNlciA9IG5ldyBVc2VyKHt9KTtcbiAgICAgIGxldCBlcnJvcjtcblxuICAgICAgdHJ5IHtcbiAgICAgICAgYXdhaXQgdXNlci5zYXZlKCk7XG4gICAgICB9IGNhdGNoIChlcnIpIHtcbiAgICAgICAgZXJyb3IgPSBlcnI7XG4gICAgICB9XG5cbiAgICAgIGV4cGVjdChlcnJvcikudG9CZURlZmluZWQoKTtcbiAgICAgIGV4cGVjdChlcnJvci5lcnJvcnMubmlja25hbWUpLnRvQmVEZWZpbmVkKCk7XG4gICAgICBleHBlY3QoZXJyb3IuZXJyb3JzLmVtYWlsKS50b0JlRGVmaW5lZCgpO1xuICAgIH0pO1xuXG4gICAgaXQoJ3Nob3VsZCBlbmZvcmNlIG5pY2tuYW1lIGxlbmd0aCBsaW1pdHMnLCBhc3luYyAoKSA9PiB7XG4gICAgICBjb25zdCBzaG9ydE5pY2tuYW1lID0gJ2FiJzsgLy8gdG9vIHNob3J0XG4gICAgICBsZXQgZXJyb3I7XG5cbiAgICAgIHRyeSB7XG4gICAgICAgIGF3YWl0IG5ldyBVc2VyKHtcbiAgICAgICAgICBuaWNrbmFtZTogc2hvcnROaWNrbmFtZSxcbiAgICAgICAgICBlbWFpbDogJ3Rlc3RAZXhhbXBsZS5jb20nLFxuICAgICAgICAgIHBhc3N3b3JkOiAncGFzc3dvcmQxMjMnXG4gICAgICAgIH0pLnNhdmUoKTtcbiAgICAgIH0gY2F0Y2ggKGVycikge1xuICAgICAgICBlcnJvciA9IGVycjtcbiAgICAgIH1cblxuICAgICAgZXhwZWN0KGVycm9yKS50b0JlRGVmaW5lZCgpO1xuICAgICAgZXhwZWN0KGVycm9yLmVycm9ycy5uaWNrbmFtZSkudG9CZURlZmluZWQoKTtcblxuICAgICAgY29uc3QgbG9uZ05pY2tuYW1lID0gJ2EnLnJlcGVhdCg1MSk7IC8vIHRvbyBsb25nXG4gICAgICB0cnkge1xuICAgICAgICBhd2FpdCBuZXcgVXNlcih7XG4gICAgICAgICAgbmlja25hbWU6IGxvbmdOaWNrbmFtZSxcbiAgICAgICAgICBlbWFpbDogJ3Rlc3RAZXhhbXBsZS5jb20nLFxuICAgICAgICAgIHBhc3N3b3JkOiAncGFzc3dvcmQxMjMnXG4gICAgICAgIH0pLnNhdmUoKTtcbiAgICAgIH0gY2F0Y2ggKGVycikge1xuICAgICAgICBlcnJvciA9IGVycjtcbiAgICAgIH1cblxuICAgICAgZXhwZWN0KGVycm9yKS50b0JlRGVmaW5lZCgpO1xuICAgICAgZXhwZWN0KGVycm9yLmVycm9ycy5uaWNrbmFtZSkudG9CZURlZmluZWQoKTtcbiAgICB9KTtcblxuICAgIGl0KCdzaG91bGQgZW5mb3JjZSBwYXNzd29yZCBsZW5ndGggbGltaXRzJywgYXN5bmMgKCkgPT4ge1xuICAgICAgY29uc3Qgc2hvcnRQYXNzd29yZCA9ICcxMjM0NSc7IC8vIHRvbyBzaG9ydFxuICAgICAgbGV0IGVycm9yO1xuXG4gICAgICB0cnkge1xuICAgICAgICBhd2FpdCBuZXcgVXNlcih7XG4gICAgICAgICAgbmlja25hbWU6ICd0ZXN0dXNlcicsXG4gICAgICAgICAgZW1haWw6ICd0ZXN0QGV4YW1wbGUuY29tJyxcbiAgICAgICAgICBwYXNzd29yZDogc2hvcnRQYXNzd29yZFxuICAgICAgICB9KS5zYXZlKCk7XG4gICAgICB9IGNhdGNoIChlcnIpIHtcbiAgICAgICAgZXJyb3IgPSBlcnI7XG4gICAgICB9XG5cbiAgICAgIGV4cGVjdChlcnJvcikudG9CZURlZmluZWQoKTtcbiAgICAgIGV4cGVjdChlcnJvci5lcnJvcnMucGFzc3dvcmQpLnRvQmVEZWZpbmVkKCk7XG4gICAgfSk7XG4gIH0pO1xuXG4gIGRlc2NyaWJlKCdQYXNzd29yZCBIYXNoaW5nJywgKCkgPT4ge1xuICAgIGl0KCdzaG91bGQgaGFzaCBwYXNzd29yZCBiZWZvcmUgc2F2aW5nJywgYXN5bmMgKCkgPT4ge1xuICAgICAgY29uc3QgcGFzc3dvcmQgPSAndGVzdHBhc3N3b3JkMTIzJztcbiAgICAgIGNvbnN0IHVzZXIgPSBhd2FpdCBuZXcgVXNlcih7XG4gICAgICAgIG5pY2tuYW1lOiAnaGFzaHVzZXInLFxuICAgICAgICBlbWFpbDogJ2hhc2hAZXhhbXBsZS5jb20nLFxuICAgICAgICBwYXNzd29yZDogcGFzc3dvcmRcbiAgICAgIH0pLnNhdmUoKTtcblxuICAgICAgLy8gUGFzc3dvcmQgc2hvdWxkIGJlIGhhc2hlZCwgbm90IHN0b3JlZCBpbiBwbGFpbiB0ZXh0XG4gICAgICBleHBlY3QodXNlci5wYXNzd29yZCkubm90LnRvQmUocGFzc3dvcmQpO1xuICAgICAgZXhwZWN0KHVzZXIucGFzc3dvcmQpLnRvTWF0Y2goL15cXCQyW2FieV1cXCQvKTsgLy8gYmNyeXB0IGhhc2ggZm9ybWF0XG4gICAgfSk7XG5cbiAgICBpdCgnc2hvdWxkIG5vdCByZWhhc2ggcGFzc3dvcmQgaWYgbm90IG1vZGlmaWVkJywgYXN5bmMgKCkgPT4ge1xuICAgICAgY29uc3QgdXNlciA9IGF3YWl0IG5ldyBVc2VyKHtcbiAgICAgICAgbmlja25hbWU6ICdub3JlaGFzaCcsXG4gICAgICAgIGVtYWlsOiAnbm9yZWhhc2hAZXhhbXBsZS5jb20nLFxuICAgICAgICBwYXNzd29yZDogJ29yaWdpbmFsJ1xuICAgICAgfSkuc2F2ZSgpO1xuXG4gICAgICBjb25zdCBvcmlnaW5hbEhhc2ggPSB1c2VyLnBhc3N3b3JkO1xuXG4gICAgICAvLyBVcGRhdGUgYSBub24tcGFzc3dvcmQgZmllbGRcbiAgICAgIHVzZXIucm9sZSA9ICdhZG1pbic7XG4gICAgICBhd2FpdCB1c2VyLnNhdmUoKTtcblxuICAgICAgLy8gUGFzc3dvcmQgaGFzaCBzaG91bGQgcmVtYWluIHRoZSBzYW1lXG4gICAgICBleHBlY3QodXNlci5wYXNzd29yZCkudG9CZShvcmlnaW5hbEhhc2gpO1xuICAgIH0pO1xuICB9KTtcblxuICBkZXNjcmliZSgnUGFzc3dvcmQgQ29tcGFyaXNvbicsICgpID0+IHtcbiAgICBpdCgnc2hvdWxkIGNvcnJlY3RseSBjb21wYXJlIHZhbGlkIHBhc3N3b3JkJywgYXN5bmMgKCkgPT4ge1xuICAgICAgY29uc3QgcGFzc3dvcmQgPSAndGVzdHBhc3N3b3JkMTIzJztcbiAgICAgIGNvbnN0IHVzZXIgPSBhd2FpdCBuZXcgVXNlcih7XG4gICAgICAgIG5pY2tuYW1lOiAnY29tcHVzZXInLFxuICAgICAgICBlbWFpbDogJ2NvbXBAZXhhbXBsZS5jb20nLFxuICAgICAgICBwYXNzd29yZDogcGFzc3dvcmRcbiAgICAgIH0pLnNhdmUoKTtcblxuICAgICAgY29uc3QgaXNWYWxpZCA9IGF3YWl0IHVzZXIuY29tcGFyZVBhc3N3b3JkKHBhc3N3b3JkKTtcbiAgICAgIGV4cGVjdChpc1ZhbGlkKS50b0JlKHRydWUpO1xuICAgIH0pO1xuXG4gICAgaXQoJ3Nob3VsZCByZWplY3QgaW52YWxpZCBwYXNzd29yZCcsIGFzeW5jICgpID0+IHtcbiAgICAgIGNvbnN0IHVzZXIgPSBhd2FpdCBuZXcgVXNlcih7XG4gICAgICAgIG5pY2tuYW1lOiAnd3JvbmdwYXNzJyxcbiAgICAgICAgZW1haWw6ICd3cm9uZ0BleGFtcGxlLmNvbScsXG4gICAgICAgIHBhc3N3b3JkOiAnY29ycmVjdHBhc3MnXG4gICAgICB9KS5zYXZlKCk7XG5cbiAgICAgIGNvbnN0IGlzVmFsaWQgPSBhd2FpdCB1c2VyLmNvbXBhcmVQYXNzd29yZCgnd3JvbmdwYXNzJyk7XG4gICAgICBleHBlY3QoaXNWYWxpZCkudG9CZShmYWxzZSk7XG4gICAgfSk7XG4gIH0pO1xuXG4gIGRlc2NyaWJlKCdVbmlxdWUgQ29uc3RyYWludHMnLCAoKSA9PiB7XG4gICAgaXQoJ3Nob3VsZCBlbmZvcmNlIHVuaXF1ZSBuaWNrbmFtZXMnLCBhc3luYyAoKSA9PiB7XG4gICAgICBhd2FpdCBuZXcgVXNlcih7XG4gICAgICAgIG5pY2tuYW1lOiAndW5pcXVldXNlcicsXG4gICAgICAgIGVtYWlsOiAnZmlyc3RAZXhhbXBsZS5jb20nLFxuICAgICAgICBwYXNzd29yZDogJ3Bhc3N3b3JkMTIzJ1xuICAgICAgfSkuc2F2ZSgpO1xuXG4gICAgICBsZXQgZXJyb3I7XG4gICAgICB0cnkge1xuICAgICAgICBhd2FpdCBuZXcgVXNlcih7XG4gICAgICAgICAgbmlja25hbWU6ICd1bmlxdWV1c2VyJywgLy8gZHVwbGljYXRlXG4gICAgICAgICAgZW1haWw6ICdzZWNvbmRAZXhhbXBsZS5jb20nLFxuICAgICAgICAgIHBhc3N3b3JkOiAncGFzc3dvcmQxMjMnXG4gICAgICAgIH0pLnNhdmUoKTtcbiAgICAgIH0gY2F0Y2ggKGVycikge1xuICAgICAgICBlcnJvciA9IGVycjtcbiAgICAgIH1cblxuICAgICAgZXhwZWN0KGVycm9yKS50b0JlRGVmaW5lZCgpO1xuICAgICAgaWYgKGVycm9yLmNvZGUgPT09IDExMDAwKSB7XG4gICAgICAgIGV4cGVjdChlcnJvci5jb2RlKS50b0JlKDExMDAwKTsgLy8gTW9uZ29EQiBkdXBsaWNhdGUga2V5IGVycm9yXG4gICAgICB9XG4gICAgfSk7XG5cbiAgICBpdCgnc2hvdWxkIGVuZm9yY2UgdW5pcXVlIGVtYWlscycsIGFzeW5jICgpID0+IHtcbiAgICAgIGF3YWl0IG5ldyBVc2VyKHtcbiAgICAgICAgbmlja25hbWU6ICdmaXJzdHVzZXInLFxuICAgICAgICBlbWFpbDogJ3VuaXF1ZUBleGFtcGxlLmNvbScsXG4gICAgICAgIHBhc3N3b3JkOiAncGFzc3dvcmQxMjMnXG4gICAgICB9KS5zYXZlKCk7XG5cbiAgICAgIGxldCBlcnJvcjtcbiAgICAgIHRyeSB7XG4gICAgICAgIGF3YWl0IG5ldyBVc2VyKHtcbiAgICAgICAgICBuaWNrbmFtZTogJ3NlY29uZHVzZXInLFxuICAgICAgICAgIGVtYWlsOiAndW5pcXVlQGV4YW1wbGUuY29tJywgLy8gZHVwbGljYXRlXG4gICAgICAgICAgcGFzc3dvcmQ6ICdwYXNzd29yZDEyMydcbiAgICAgICAgfSkuc2F2ZSgpO1xuICAgICAgfSBjYXRjaCAoZXJyKSB7XG4gICAgICAgIGVycm9yID0gZXJyO1xuICAgICAgfVxuXG4gICAgICBleHBlY3QoZXJyb3IpLnRvQmVEZWZpbmVkKCk7XG4gICAgICBpZiAoZXJyb3IuY29kZSA9PT0gMTEwMDApIHtcbiAgICAgICAgZXhwZWN0KGVycm9yLmNvZGUpLnRvQmUoMTEwMDApOyAvLyBNb25nb0RCIGR1cGxpY2F0ZSBrZXkgZXJyb3JcbiAgICAgIH1cbiAgICB9KTtcbiAgfSk7XG5cbiAgZGVzY3JpYmUoJ1VzZXIgUm9sZXMnLCAoKSA9PiB7XG4gICAgaXQoJ3Nob3VsZCBkZWZhdWx0IHRvIG1lbWJlciByb2xlJywgYXN5bmMgKCkgPT4ge1xuICAgICAgY29uc3QgdXNlciA9IGF3YWl0IG5ldyBVc2VyKHtcbiAgICAgICAgbmlja25hbWU6ICdtZW1iZXJ1c2VyJyxcbiAgICAgICAgZW1haWw6ICdtZW1iZXJAZXhhbXBsZS5jb20nLFxuICAgICAgICBwYXNzd29yZDogJ3Bhc3N3b3JkMTIzJ1xuICAgICAgfSkuc2F2ZSgpO1xuXG4gICAgICBleHBlY3QodXNlci5yb2xlKS50b0JlKCdtZW1iZXInKTtcbiAgICB9KTtcblxuICAgIGl0KCdzaG91bGQgYWxsb3cgYWRtaW4gcm9sZScsIGFzeW5jICgpID0+IHtcbiAgICAgIGNvbnN0IHVzZXIgPSBhd2FpdCBuZXcgVXNlcih7XG4gICAgICAgIG5pY2tuYW1lOiAnYWRtaW51c2VyJyxcbiAgICAgICAgZW1haWw6ICdhZG1pbkBleGFtcGxlLmNvbScsXG4gICAgICAgIHBhc3N3b3JkOiAncGFzc3dvcmQxMjMnLFxuICAgICAgICByb2xlOiAnYWRtaW4nXG4gICAgICB9KS5zYXZlKCk7XG5cbiAgICAgIGV4cGVjdCh1c2VyLnJvbGUpLnRvQmUoJ2FkbWluJyk7XG4gICAgfSk7XG5cbiAgICBpdCgnc2hvdWxkIHJlamVjdCBpbnZhbGlkIHJvbGVzJywgYXN5bmMgKCkgPT4ge1xuICAgICAgbGV0IGVycm9yO1xuICAgICAgdHJ5IHtcbiAgICAgICAgYXdhaXQgbmV3IFVzZXIoe1xuICAgICAgICAgIG5pY2tuYW1lOiAnaW52YWxpZHJvbGUnLFxuICAgICAgICAgIGVtYWlsOiAnaW52YWxpZEBleGFtcGxlLmNvbScsXG4gICAgICAgICAgcGFzc3dvcmQ6ICdwYXNzd29yZDEyMycsXG4gICAgICAgICAgcm9sZTogJ2ludmFsaWQnXG4gICAgICAgIH0pLnNhdmUoKTtcbiAgICAgIH0gY2F0Y2ggKGVycikge1xuICAgICAgICBlcnJvciA9IGVycjtcbiAgICAgIH1cblxuICAgICAgZXhwZWN0KGVycm9yKS50b0JlRGVmaW5lZCgpO1xuICAgICAgZXhwZWN0KGVycm9yLmVycm9ycy5yb2xlKS50b0JlRGVmaW5lZCgpO1xuICAgIH0pO1xuICB9KTtcblxuICBkZXNjcmliZSgnVXNlciBTdGF0dXMnLCAoKSA9PiB7XG4gICAgaXQoJ3Nob3VsZCBkZWZhdWx0IHRvIG9mZmxpbmUgc3RhdHVzJywgYXN5bmMgKCkgPT4ge1xuICAgICAgY29uc3QgdXNlciA9IGF3YWl0IG5ldyBVc2VyKHtcbiAgICAgICAgbmlja25hbWU6ICdvZmZsaW5ldXNlcicsXG4gICAgICAgIGVtYWlsOiAnb2ZmbGluZUBleGFtcGxlLmNvbScsXG4gICAgICAgIHBhc3N3b3JkOiAncGFzc3dvcmQxMjMnXG4gICAgICB9KS5zYXZlKCk7XG5cbiAgICAgIGV4cGVjdCh1c2VyLnN0YXR1cykudG9CZSgnb2ZmbGluZScpO1xuICAgIH0pO1xuXG4gICAgaXQoJ3Nob3VsZCBhbGxvdyBvbmxpbmUgc3RhdHVzJywgYXN5bmMgKCkgPT4ge1xuICAgICAgY29uc3QgdXNlciA9IGF3YWl0IG5ldyBVc2VyKHtcbiAgICAgICAgbmlja25hbWU6ICdvbmxpbmV1c2VyJyxcbiAgICAgICAgZW1haWw6ICdvbmxpbmVAZXhhbXBsZS5jb20nLFxuICAgICAgICBwYXNzd29yZDogJ3Bhc3N3b3JkMTIzJyxcbiAgICAgICAgc3RhdHVzOiAnb25saW5lJ1xuICAgICAgfSkuc2F2ZSgpO1xuXG4gICAgICBleHBlY3QodXNlci5zdGF0dXMpLnRvQmUoJ29ubGluZScpO1xuICAgIH0pO1xuXG4gICAgaXQoJ3Nob3VsZCByZWplY3QgaW52YWxpZCBzdGF0dXMgdmFsdWVzJywgYXN5bmMgKCkgPT4ge1xuICAgICAgbGV0IGVycm9yO1xuICAgICAgdHJ5IHtcbiAgICAgICAgYXdhaXQgbmV3IFVzZXIoe1xuICAgICAgICAgIG5pY2tuYW1lOiAnaW52YWxpZHN0YXR1cycsXG4gICAgICAgICAgZW1haWw6ICdpbnZhbGlkQGV4YW1wbGUuY29tJyxcbiAgICAgICAgICBwYXNzd29yZDogJ3Bhc3N3b3JkMTIzJyxcbiAgICAgICAgICBzdGF0dXM6ICdhd2F5JyAvLyBpbnZhbGlkIHN0YXR1c1xuICAgICAgICB9KS5zYXZlKCk7XG4gICAgICB9IGNhdGNoIChlcnIpIHtcbiAgICAgICAgZXJyb3IgPSBlcnI7XG4gICAgICB9XG5cbiAgICAgIGV4cGVjdChlcnJvcikudG9CZURlZmluZWQoKTtcbiAgICAgIGV4cGVjdChlcnJvci5lcnJvcnMuc3RhdHVzKS50b0JlRGVmaW5lZCgpO1xuICAgIH0pO1xuICB9KTtcblxuICBkZXNjcmliZSgnRW1haWwgTm9ybWFsaXphdGlvbicsICgpID0+IHtcbiAgICBpdCgnc2hvdWxkIGNvbnZlcnQgZW1haWwgdG8gbG93ZXJjYXNlJywgYXN5bmMgKCkgPT4ge1xuICAgICAgY29uc3QgdXNlciA9IGF3YWl0IG5ldyBVc2VyKHtcbiAgICAgICAgbmlja25hbWU6ICdsb3dlcmNhc2UnLFxuICAgICAgICBlbWFpbDogJ1VTRVJARVhBTVBMRS5DT00nLFxuICAgICAgICBwYXNzd29yZDogJ3Bhc3N3b3JkMTIzJ1xuICAgICAgfSkuc2F2ZSgpO1xuXG4gICAgICBleHBlY3QodXNlci5lbWFpbCkudG9CZSgndXNlckBleGFtcGxlLmNvbScpO1xuICAgIH0pO1xuXG4gICAgaXQoJ3Nob3VsZCB0cmltIGVtYWlsIHdoaXRlc3BhY2UnLCBhc3luYyAoKSA9PiB7XG4gICAgICBjb25zdCB1c2VyID0gYXdhaXQgbmV3IFVzZXIoe1xuICAgICAgICBuaWNrbmFtZTogJ3RyaW1lbWFpbCcsXG4gICAgICAgIGVtYWlsOiAnICB1c2VyQGV4YW1wbGUuY29tICAnLFxuICAgICAgICBwYXNzd29yZDogJ3Bhc3N3b3JkMTIzJ1xuICAgICAgfSkuc2F2ZSgpO1xuXG4gICAgICBleHBlY3QodXNlci5lbWFpbCkudG9CZSgndXNlckBleGFtcGxlLmNvbScpO1xuICAgIH0pO1xuICB9KTtcblxuICBkZXNjcmliZSgnUGFzc3dvcmQgUmVzZXQgVG9rZW4nLCAoKSA9PiB7XG4gICAgaXQoJ3Nob3VsZCBnZW5lcmF0ZSByZXNldCBwYXNzd29yZCB0b2tlbicsIGFzeW5jICgpID0+IHtcbiAgICAgIGNvbnN0IHVzZXIgPSBhd2FpdCBuZXcgVXNlcih7XG4gICAgICAgIG5pY2tuYW1lOiAncmVzZXR0b2tlbicsXG4gICAgICAgIGVtYWlsOiAncmVzZXRAZXhhbXBsZS5jb20nLFxuICAgICAgICBwYXNzd29yZDogJ3Bhc3N3b3JkMTIzJ1xuICAgICAgfSkuc2F2ZSgpO1xuXG4gICAgICBjb25zdCB0b2tlbiA9IHVzZXIuZ2VuZXJhdGVSZXNldFRva2VuKCk7XG5cbiAgICAgIGV4cGVjdCh0b2tlbikudG9CZURlZmluZWQoKTtcbiAgICAgIGV4cGVjdCh0eXBlb2YgdG9rZW4pLnRvQmUoJ3N0cmluZycpO1xuICAgICAgZXhwZWN0KHRva2VuLmxlbmd0aCkudG9CZSg2NCk7IC8vIGhleCByZXByZXNlbnRhdGlvbiBvZiAzMiBieXRlc1xuICAgICAgZXhwZWN0KHVzZXIucmVzZXRQYXNzd29yZFRva2VuKS50b0JlRGVmaW5lZCgpO1xuICAgICAgZXhwZWN0KHVzZXIucmVzZXRQYXNzd29yZEV4cGlyZXMpLnRvQmVEZWZpbmVkKCk7XG4gICAgICBleHBlY3QodXNlci5yZXNldFBhc3N3b3JkRXhwaXJlcy5nZXRUaW1lKCkpLnRvQmVHcmVhdGVyVGhhbihEYXRlLm5vdygpKTtcbiAgICB9KTtcblxuICAgIGl0KCdzaG91bGQgZXhwaXJlIHJlc2V0IHRva2VuIGFmdGVyIDEgaG91cicsIGFzeW5jICgpID0+IHtcbiAgICAgIGNvbnN0IHVzZXIgPSBhd2FpdCBuZXcgVXNlcih7XG4gICAgICAgIG5pY2tuYW1lOiAnZXhwaXJldG9rZW4nLFxuICAgICAgICBlbWFpbDogJ2V4cGlyZUBleGFtcGxlLmNvbScsXG4gICAgICAgIHBhc3N3b3JkOiAncGFzc3dvcmQxMjMnXG4gICAgICB9KS5zYXZlKCk7XG5cbiAgICAgIHVzZXIuZ2VuZXJhdGVSZXNldFRva2VuKCk7XG5cbiAgICAgIC8vIE1hbnVhbGx5IHNldCBleHBpcnkgdG8gcGFzdFxuICAgICAgdXNlci5yZXNldFBhc3N3b3JkRXhwaXJlcyA9IG5ldyBEYXRlKERhdGUubm93KCkgLSAxMDAwKTtcbiAgICAgIGF3YWl0IHVzZXIuc2F2ZSgpO1xuXG4gICAgICBleHBlY3QoKCkgPT4ge1xuICAgICAgICB1c2VyLnJlc2V0UGFzc3dvcmQoTWF0aC5yYW5kb20oKS50b1N0cmluZygzNiksICduZXdwYXNzd29yZCcpO1xuICAgICAgfSkudG9UaHJvdygnUGFzc3dvcmQgcmVzZXQgdG9rZW4gaGFzIGV4cGlyZWQnKTtcbiAgICB9KTtcblxuICAgIGl0KCdzaG91bGQgcmVqZWN0IGludmFsaWQgcmVzZXQgdG9rZW4nLCBhc3luYyAoKSA9PiB7XG4gICAgICBjb25zdCB1c2VyID0gYXdhaXQgbmV3IFVzZXIoe1xuICAgICAgICBuaWNrbmFtZTogJ2ludmFsaWR0b2tlbicsXG4gICAgICAgIGVtYWlsOiAnaW52YWxpZHRva2VuQGV4YW1wbGUuY29tJyxcbiAgICAgICAgcGFzc3dvcmQ6ICdwYXNzd29yZDEyMydcbiAgICAgIH0pLnNhdmUoKTtcblxuICAgICAgdXNlci5nZW5lcmF0ZVJlc2V0VG9rZW4oKTtcbiAgICAgIGF3YWl0IHVzZXIuc2F2ZSgpO1xuXG4gICAgICBleHBlY3QoKCkgPT4ge1xuICAgICAgICB1c2VyLnJlc2V0UGFzc3dvcmQoJ2ludmFsaWR0b2tlbjEyMycsICduZXdwYXNzd29yZCcpO1xuICAgICAgfSkudG9UaHJvdygnSW52YWxpZCBvciBleHBpcmVkIHBhc3N3b3JkIHJlc2V0IHRva2VuJyk7XG4gICAgfSk7XG5cbiAgICBpdCgnc2hvdWxkIHN1Y2Nlc3NmdWxseSByZXNldCBwYXNzd29yZCB3aXRoIHZhbGlkIHRva2VuJywgYXN5bmMgKCkgPT4ge1xuICAgICAgY29uc3QgdXNlciA9IGF3YWl0IG5ldyBVc2VyKHtcbiAgICAgICAgbmlja25hbWU6ICd2YWxpZHJlc2V0JyxcbiAgICAgICAgZW1haWw6ICd2YWxpZHJlc2V0QGV4YW1wbGUuY29tJyxcbiAgICAgICAgcGFzc3dvcmQ6ICdwYXNzd29yZDEyMydcbiAgICAgIH0pLnNhdmUoKTtcblxuICAgICAgY29uc3QgcmVzZXRUb2tlbiA9IHVzZXIuZ2VuZXJhdGVSZXNldFRva2VuKCk7XG4gICAgICBhd2FpdCB1c2VyLnNhdmUoKTtcblxuICAgICAgY29uc3QgbmV3UGFzc3dvcmQgPSAnbmV3c2VjdXJlcGFzc3dvcmQnO1xuICAgICAgYXdhaXQgdXNlci5yZXNldFBhc3N3b3JkKHJlc2V0VG9rZW4sIG5ld1Bhc3N3b3JkKTtcblxuICAgICAgLy8gVmVyaWZ5IG5ldyBwYXNzd29yZCB3b3Jrc1xuICAgICAgY29uc3QgaXNOZXdQYXNzd29yZFZhbGlkID0gYXdhaXQgdXNlci5jb21wYXJlUGFzc3dvcmQobmV3UGFzc3dvcmQpO1xuICAgICAgZXhwZWN0KGlzTmV3UGFzc3dvcmRWYWxpZCkudG9CZSh0cnVlKTtcblxuICAgICAgLy8gVmVyaWZ5IHRva2VuIGlzIGNsZWFyZWRcbiAgICAgIGV4cGVjdCh1c2VyLnJlc2V0UGFzc3dvcmRUb2tlbikudG9CZU51bGwoKTtcbiAgICAgIGV4cGVjdCh1c2VyLnJlc2V0UGFzc3dvcmRFeHBpcmVzKS50b0JlTnVsbCgpO1xuICAgIH0pO1xuICB9KTtcblxuICBkZXNjcmliZSgnSlNPTiBTZXJpYWxpemF0aW9uJywgKCkgPT4ge1xuICAgIGl0KCdzaG91bGQgZXhjbHVkZSBwYXNzd29yZCBmcm9tIEpTT04gb3V0cHV0JywgYXN5bmMgKCkgPT4ge1xuICAgICAgY29uc3QgdXNlciA9IGF3YWl0IG5ldyBVc2VyKHtcbiAgICAgICAgbmlja25hbWU6ICdqc29udXNlcicsXG4gICAgICAgIGVtYWlsOiAnanNvbkBleGFtcGxlLmNvbScsXG4gICAgICAgIHBhc3N3b3JkOiAncGFzc3dvcmQxMjMnXG4gICAgICB9KS5zYXZlKCk7XG5cbiAgICAgIGNvbnN0IHVzZXJKU09OID0gdXNlci50b0pTT04oKTtcblxuICAgICAgZXhwZWN0KCdwYXNzd29yZCcgaW4gdXNlckpTT04pLnRvQmUoZmFsc2UpO1xuICAgICAgZXhwZWN0KHVzZXJKU09OLm5pY2tuYW1lKS50b0JlRGVmaW5lZCgpO1xuICAgICAgZXhwZWN0KHVzZXJKU09OLmVtYWlsKS50b0JlRGVmaW5lZCgpO1xuICAgICAgZXhwZWN0KHVzZXJKU09OLnJvbGUpLnRvQmVEZWZpbmVkKCk7XG4gICAgfSk7XG5cbiAgICBpdCgnc2hvdWxkIGluY2x1ZGUgYWxsIG5vbi1zZW5zaXRpdmUgZmllbGRzIGluIEpTT04nLCBhc3luYyAoKSA9PiB7XG4gICAgICBjb25zdCB1c2VyID0gYXdhaXQgbmV3IFVzZXIoe1xuICAgICAgICBuaWNrbmFtZTogJ2NvbXBsZXRldXNlcicsXG4gICAgICAgIGVtYWlsOiAnY29tcGxldGVAZXhhbXBsZS5jb20nLFxuICAgICAgICBwYXNzd29yZDogJ3Bhc3N3b3JkMTIzJyxcbiAgICAgICAgcm9sZTogJ2FkbWluJ1xuICAgICAgfSkuc2F2ZSgpO1xuXG4gICAgICBjb25zdCB1c2VySlNPTiA9IHVzZXIudG9KU09OKCk7XG5cbiAgICAgIGV4cGVjdCh1c2VySlNPTi5uaWNrbmFtZSkudG9CZSgnY29tcGxldGV1c2VyJyk7XG4gICAgICBleHBlY3QodXNlckpTT04uZW1haWwpLnRvQmUoJ2NvbXBsZXRlQGV4YW1wbGUuY29tJyk7XG4gICAgICBleHBlY3QodXNlckpTT04ucm9sZSkudG9CZSgnYWRtaW4nKTtcbiAgICAgIGV4cGVjdCh1c2VySlNPTi5zdGF0dXMpLnRvQmUoJ29mZmxpbmUnKTtcbiAgICAgIGV4cGVjdCh1c2VySlNPTi5jcmVhdGVkQXQpLnRvQmVEZWZpbmVkKCk7XG4gICAgICBleHBlY3QodXNlckpTT04ubGFzdEFjdGl2ZSkudG9CZURlZmluZWQoKTtcbiAgICB9KTtcbiAgfSk7XG5cbiAgZGVzY3JpYmUoJ1RpbWVzdGFtcHMnLCAoKSA9PiB7XG4gICAgaXQoJ3Nob3VsZCBzZXQgY3JlYXRlZEF0IHRpbWVzdGFtcCcsIGFzeW5jICgpID0+IHtcbiAgICAgIGNvbnN0IGJlZm9yZUNyZWF0ZSA9IG5ldyBEYXRlKCk7XG4gICAgICBjb25zdCB1c2VyID0gYXdhaXQgbmV3IFVzZXIoe1xuICAgICAgICBuaWNrbmFtZTogJ3RpbWVzdGFtcHVzZXInLFxuICAgICAgICBlbWFpbDogJ3RpbWVzdGFtcEBleGFtcGxlLmNvbScsXG4gICAgICAgIHBhc3N3b3JkOiAncGFzc3dvcmQxMjMnXG4gICAgICB9KS5zYXZlKCk7XG4gICAgICBjb25zdCBhZnRlckNyZWF0ZSA9IG5ldyBEYXRlKCk7XG5cbiAgICAgIGV4cGVjdCh1c2VyLmNyZWF0ZWRBdCkudG9CZURlZmluZWQoKTtcbiAgICAgIGV4cGVjdCh1c2VyLmNyZWF0ZWRBdC5nZXRUaW1lKCkpLnRvQmVHcmVhdGVyVGhhbk9yRXF1YWwoYmVmb3JlQ3JlYXRlLmdldFRpbWUoKSk7XG4gICAgICBleHBlY3QodXNlci5jcmVhdGVkQXQuZ2V0VGltZSgpKS50b0JlTGVzc1RoYW5PckVxdWFsKGFmdGVyQ3JlYXRlLmdldFRpbWUoKSk7XG4gICAgfSk7XG5cbiAgICBpdCgnc2hvdWxkIHNldCBsYXN0QWN0aXZlIHRpbWVzdGFtcCcsIGFzeW5jICgpID0+IHtcbiAgICAgIGNvbnN0IHVzZXIgPSBhd2FpdCBuZXcgVXNlcih7XG4gICAgICAgIG5pY2tuYW1lOiAnYWN0aXZldGltZXN0YW1wJyxcbiAgICAgICAgZW1haWw6ICdhY3RpdmVAZXhhbXBsZS5jb20nLFxuICAgICAgICBwYXNzd29yZDogJ3Bhc3N3b3JkMTIzJ1xuICAgICAgfSkuc2F2ZSgpO1xuXG4gICAgICBleHBlY3QodXNlci5sYXN0QWN0aXZlKS50b0JlRGVmaW5lZCgpO1xuICAgICAgZXhwZWN0KHVzZXIubGFzdEFjdGl2ZS5nZXRUaW1lKCkpLnRvQmVHcmVhdGVyVGhhbk9yRXF1YWwodXNlci5jcmVhdGVkQXQuZ2V0VGltZSgpKTtcbiAgICB9KTtcbiAgfSk7XG59KTsiXSwibWFwcGluZ3MiOiJBQUFBLE1BQU1BLElBQUksR0FBR0MsT0FBTyxDQUFDLG1CQUFtQixDQUFDO0FBRXpDQyxRQUFRLENBQUMsWUFBWSxFQUFFLE1BQU07RUFDM0JBLFFBQVEsQ0FBQyw4QkFBOEIsRUFBRSxNQUFNO0lBQzdDQyxFQUFFLENBQUMsc0NBQXNDLEVBQUUsWUFB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