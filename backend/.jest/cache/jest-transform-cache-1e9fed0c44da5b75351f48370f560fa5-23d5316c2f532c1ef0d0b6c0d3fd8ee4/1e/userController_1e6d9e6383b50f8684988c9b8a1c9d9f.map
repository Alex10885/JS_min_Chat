{"version":3,"names":["cov_2n41ah2l4d","actualCoverage","userService","s","require","logger","UserController","constructor","f","getAllUsers","req","res","users","info","user","nickname","userId","_id","totalUsers","length","console","log","json","error","message","status","code","getUsersPaginated","page","b","parseInt","query","limit","result","getUsersForAdmin","adminId","total","pagination","banUser","params","reason","duration","body","targetUser","bannedUserId","bannedById","id","banned","banReason","banExpires","unbanUser","unbannedUserId","unbannedById","warnUser","save","warnedUserId","warnedById","warning","issuedBy","issuedAt","Date","expires","now","warningsCount","getActiveWarningsCount","changeUserRole","role","newRole","toString","changedUserId","changedById","oldRole","muteUser","mutedUserId","mutedById","muteExpires","unmuteUser","unmutedUserId","unmutedById","module","exports"],"sources":["userController.js"],"sourcesContent":["const userService = require('../services/userService');\nconst { logger } = require('../middleware/auth');\n\nclass UserController {\n  constructor() {\n    this.logger = logger;\n  }\n\n  async getAllUsers(req, res) {\n    try {\n      const users = await userService.getAllUsers();\n\n      logger.info(`Users list requested by ${req.user.nickname}`, {\n        userId: req.user._id,\n        totalUsers: users.length\n      });\n\n      console.log('üì§ Returning users data:', users.length);\n      res.json(users);\n    } catch (error) {\n      this.logger.error('Error fetching users:', error);\n      console.error('‚ùå Error in GET /api/users:', error.message);\n      res.status(500).json({ error: 'Failed to fetch users', code: 'DATABASE_ERROR' });\n    }\n  }\n\n  async getUsersPaginated(req, res) {\n    try {\n      const page = parseInt(req.query.page) || 1;\n      const limit = parseInt(req.query.limit) || 50;\n\n      const result = await userService.getUsersForAdmin(page, limit);\n\n      logger.info(`Admin user list requested by ${req.user.nickname}`, {\n        adminId: req.user._id,\n        page,\n        limit,\n        total: result.pagination.total\n      });\n\n      res.json(result);\n    } catch (error) {\n      this.logger.error('Error fetching users for admin:', error);\n      res.status(500).json({ error: 'Failed to fetch users', code: 'DATABASE_ERROR' });\n    }\n  }\n\n  async banUser(req, res) {\n    try {\n      const { userId } = req.params;\n      const { reason, duration } = req.body;\n\n      const targetUser = await userService.banUser(req.user._id, userId, reason, duration);\n\n      logger.info(`User ${targetUser.nickname} banned by ${req.user.nickname}`, {\n        bannedUserId: userId,\n        bannedById: req.user._id,\n        reason,\n        duration\n      });\n\n      res.json({\n        message: `User ${targetUser.nickname} has been banned`,\n        user: {\n          id: targetUser._id,\n          nickname: targetUser.nickname,\n          banned: true,\n          banReason: reason,\n          banExpires: targetUser.banExpires\n        }\n      });\n    } catch (error) {\n      this.logger.error('Error banning user:', error);\n      if (error.message === 'User not found') {\n        res.status(404).json({ error: error.message });\n      } else {\n        res.status(500).json({ error: 'Failed to ban user' });\n      }\n    }\n  }\n\n  async unbanUser(req, res) {\n    try {\n      const { userId } = req.params;\n\n      const targetUser = await userService.unbanUser(userId);\n\n      logger.info(`User ${targetUser.nickname} unbanned by ${req.user.nickname}`, {\n        unbannedUserId: userId,\n        unbannedById: req.user._id\n      });\n\n      res.json({\n        message: `User ${targetUser.nickname} has been unbanned`,\n        user: {\n          id: targetUser._id,\n          nickname: targetUser.nickname,\n          banned: false\n        }\n      });\n    } catch (error) {\n      this.logger.error('Error unbanning user:', error);\n      res.status(500).json({ error: 'Failed to unban user' });\n    }\n  }\n\n  async warnUser(req, res) {\n    try {\n      const { userId } = req.params;\n      const { reason, duration } = req.body;\n\n      const targetUser = await userService.warnUser(req.user._id, userId, reason, duration);\n      await targetUser.save();\n\n      logger.info(`Warning issued to user ${targetUser.nickname} by ${req.user.nickname}`, {\n        warnedUserId: userId,\n        warnedById: req.user._id,\n        reason,\n        duration\n      });\n\n      res.json({\n        message: `Warning issued to user ${targetUser.nickname}`,\n        warning: {\n          reason,\n          issuedBy: req.user.nickname,\n          issuedAt: new Date(),\n          expires: duration ? new Date(Date.now() + duration) : null\n        },\n        user: {\n          id: targetUser._id,\n          nickname: targetUser.nickname,\n          warningsCount: targetUser.getActiveWarningsCount()\n        }\n      });\n    } catch (error) {\n      this.logger.error('Error warning user:', error);\n      if (error.message === 'User not found') {\n        res.status(404).json({ error: error.message });\n      } else {\n        res.status(500).json({ error: 'Failed to warn user' });\n      }\n    }\n  }\n\n  async changeUserRole(req, res) {\n    try {\n      const { userId } = req.params;\n      const { role: newRole } = req.body;\n\n      if (req.user._id.toString() === userId) {\n        return res.status(400).json({ error: 'Cannot modify your own role' });\n      }\n\n      if ((newRole === 'admin' || req.user.role !== 'admin') && req.user.role !== 'admin') {\n        return res.status(403).json({ error: 'Only administrators can manage admin roles' });\n      }\n\n      const targetUser = await userService.changeUserRole(req.user._id, userId, newRole);\n\n      logger.info(`User ${targetUser.nickname} role changed to ${newRole} by ${req.user.nickname}`, {\n        changedUserId: userId,\n        changedById: req.user._id,\n        oldRole: targetUser.role,\n        newRole\n      });\n\n      res.json({\n        message: `User ${targetUser.nickname} role changed to ${newRole}`,\n        user: {\n          id: targetUser._id,\n          nickname: targetUser.nickname,\n          role: newRole\n        }\n      });\n    } catch (error) {\n      this.logger.error('Error changing user role:', error);\n      if (error.message === 'User not found') {\n        res.status(404).json({ error: error.message });\n      } else {\n        res.status(500).json({ error: 'Failed to change user role' });\n      }\n    }\n  }\n\n  async muteUser(req, res) {\n    try {\n      const { userId } = req.params;\n      const { duration } = req.body;\n\n      const targetUser = await userService.muteUser(req.user._id, userId, duration);\n\n      logger.info(`User ${targetUser.nickname} muted by ${req.user.nickname}`, {\n        mutedUserId: userId,\n        mutedById: req.user._id,\n        duration\n      });\n\n      res.json({\n        message: `User ${targetUser.nickname} has been muted`,\n        user: {\n          id: targetUser._id,\n          nickname: targetUser.nickname,\n          muteExpires: targetUser.muteExpires\n        }\n      });\n    } catch (error) {\n      this.logger.error('Error muting user:', error);\n      if (error.message === 'User not found') {\n        res.status(404).json({ error: error.message });\n      } else {\n        res.status(500).json({ error: 'Failed to mute user' });\n      }\n    }\n  }\n\n  async unmuteUser(req, res) {\n    try {\n      const { userId } = req.params;\n      const targetUser = await userService.unmuteUser(req.user._id, userId);\n\n      logger.info(`User ${targetUser.nickname} unmuted by ${req.user.nickname}`, {\n        unmutedUserId: userId,\n        unmutedById: req.user._id\n      });\n\n      res.json({\n        message: `User ${targetUser.nickname} has been unmuted`,\n        user: {\n          id: targetUser._id,\n          nickname: targetUser.nickname,\n          muteExpires: null\n        }\n      });\n    } catch (error) {\n      this.logger.error('Error unmuting user:', error);\n      res.status(500).json({ error: 'Failed to unmute user' });\n    }\n  }\n}\n\nmodule.exports = new UserController();"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;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","ignoreList":[]}