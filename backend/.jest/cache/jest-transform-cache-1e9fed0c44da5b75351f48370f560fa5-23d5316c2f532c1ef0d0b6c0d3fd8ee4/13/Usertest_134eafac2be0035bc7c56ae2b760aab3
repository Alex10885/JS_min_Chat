832c89f0d33b6cc7cb81bdd2189c4828
const User = require('../../models/User');
describe('User Model', () => {
  describe('User Creation', () => {
    it('should create a user with valid data', async () => {
      const userData = {
        nickname: 'testuser',
        email: 'test@example.com',
        password: 'password123'
      };
      const user = new User(userData);
      const savedUser = await user.save();
      expect(savedUser.nickname).toBe(userData.nickname);
      expect(savedUser.email).toBe(userData.email);
      expect(savedUser.role).toBe('member');
      expect(savedUser.status).toBe('offline');
      expect(savedUser.createdAt).toBeDefined();
      expect(savedUser.lastActive).toBeDefined();
    });
    it('should require nickname, email and password', async () => {
      const user = new User({});
      let error;
      try {
        await user.save();
      } catch (err) {
        error = err;
      }
      expect(error).toBeDefined();
      expect(error.errors.nickname).toBeDefined();
      expect(error.errors.email).toBeDefined();
      expect(error.errors.password).toBeDefined();
    });
    it('should enforce unique constraints', async () => {
      const userData1 = {
        nickname: 'duplicateuser',
        email: 'duplicate@example.com',
        password: 'password123'
      };
      const userData2 = {
        nickname: 'duplicateuser',
        email: 'another@example.com',
        password: 'password123'
      };
      await new User(userData1).save();
      let error;
      try {
        await new User(userData2).save();
      } catch (err) {
        error = err;
      }
      expect(error).toBeDefined();
      expect(error.code).toBe(11000); // MongoDB duplicate key error
    });
  });
  describe('Password Methods', () => {
    it('should hash password before saving', async () => {
      const userData = {
        nickname: 'hashuser',
        email: 'hash@example.com',
        password: 'plainpassword'
      };
      const user = new User(userData);
      await user.save();
      expect(user.password).not.toBe(userData.password);
      expect(user.password).toMatch(/^\$2[ayb]\$.{56}$/); // bcrypt hash pattern
    });
    it('should compare passwords correctly', async () => {
      const userData = {
        nickname: 'compareuser',
        email: 'compare@example.com',
        password: 'testpassword'
      };
      const user = new User(userData);
      await user.save();
      const isValidPassword = await user.comparePassword('testpassword');
      const isInvalidPassword = await user.comparePassword('wrongpassword');
      expect(isValidPassword).toBe(true);
      expect(isInvalidPassword).toBe(false);
    });
  });
  describe('JSON Serialization', () => {
    it('should exclude password from JSON output', async () => {
      const userData = {
        nickname: 'jsonuser',
        email: 'json@example.com',
        password: 'password123'
      };
      const user = new User(userData);
      await user.save();
      const jsonUser = user.toJSON();
      expect(jsonUser.password).toBeUndefined();
      expect(jsonUser.nickname).toBe(userData.nickname);
      expect(jsonUser.email).toBe(userData.email);
    });
  });
  describe('Validation', () => {
    it('should enforce nickname length constraints', async () => {
      const shortNickname = new User({
        nickname: 'ab',
        email: 'test@example.com',
        password: 'password123'
      });
      const longNickname = new User({
        nickname: 'a'.repeat(51),
        email: 'test@example.com',
        password: 'password123'
      });
      let shortError, longError;
      try {
        await shortNickname.save();
      } catch (err) {
        shortError = err;
      }
      try {
        await longNickname.save();
      } catch (err) {
        longError = err;
      }
      expect(shortError).toBeDefined();
      expect(longError).toBeDefined();
    });
    it('should normalize email format', async () => {
      const user = new User({
        nickname: 'emailtest',
        email: 'TEST@EXAMPLE.COM',
        password: 'password123'
      });
      await user.save();
      expect(user.email).toBe('test@example.com'); // Normalized to lowercase
    });
  });
  describe('Status Management', () => {
    it('should update lastActive timestamp', async () => {
      const userData = {
        nickname: 'activetest',
        email: 'active@example.com',
        password: 'password123'
      };
      const user = new User(userData);
      const originalLastActive = user.lastActive;
      await new Promise(resolve => setTimeout(resolve, 10)); // Small delay

      user.lastActive = new Date();
      await user.save();
      expect(user.lastActive.getTime()).toBeGreaterThan(originalLastActive.getTime());
    });
    it('should handle online/offline status correctly', async () => {
      const userData = {
        nickname: 'statustest',
        email: 'status@example.com',
        password: 'password123'
      };
      const user = new User(userData);
      expect(user.status).toBe('offline');
      user.status = 'online';
      await user.save();
      const foundUser = await User.findById(user._id);
      expect(foundUser.status).toBe('online');
    });
  });
  describe('Role Management', () => {
    it('should default to member role', async () => {
      const userData = {
        nickname: 'roledefault',
        email: 'role@example.com',
        password: 'password123'
      };
      const user = new User(userData);
      await user.save();
      expect(user.role).toBe('member');
    });
    it('should accept admin role', async () => {
      const userData = {
        nickname: 'admintest',
        email: 'admin@example.com',
        password: 'password123',
        role: 'admin'
      };
      const user = new User(userData);
      await user.save();
      expect(user.role).toBe('admin');
    });
    it('should reject invalid roles', async () => {
      const userData = {
        nickname: 'invalidrole',
        email: 'invalid@example.com',
        password: 'password123',
        role: 'superuser'
      };
      const user = new User(userData);
      let error;
      try {
        await user.save();
      } catch (err) {
        error = err;
      }
      expect(error).toBeDefined();
      expect(error.errors.role).toBeDefined();
    });
  });
  describe('Edge Cases', () => {
    it('should handle empty strings properly', async () => {
      const userData = {
        nickname: '   ',
        email: 'spaces@example.com',
        password: 'password123'
      };
      const user = new User(userData);
      let error;
      try {
        await user.save();
      } catch (err) {
        error = err;
      }
      expect(error).toBeDefined();
      expect(error.errors.nickname).toBeDefined();
    });
    it('should trim whitespace from fields', async () => {
      const userData = {
        nickname: '  trimmed ',
        email: 'trim@example.com',
        password: 'password123'
      };
      const user = new User(userData);
      await user.save();
      expect(user.nickname).toBe('trimmed');
      expect(user.email).toBe('trim@example.com');
    });
  });
});
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJVc2VyIiwicmVxdWlyZSIsImRlc2NyaWJlIiwiaXQiLCJ1c2VyRGF0YSIsIm5pY2tuYW1lIiwiZW1haWwiLCJwYXNzd29yZCIsInVzZXIiLCJzYXZlZFVzZXIiLCJzYXZlIiwiZXhwZWN0IiwidG9CZSIsInJvbGUiLCJzdGF0dXMiLCJjcmVhdGVkQXQiLCJ0b0JlRGVmaW5lZCIsImxhc3RBY3RpdmUiLCJlcnJvciIsImVyciIsImVycm9ycyIsInVzZXJEYXRhMSIsInVzZXJEYXRhMiIsImNvZGUiLCJub3QiLCJ0b01hdGNoIiwiaXNWYWxpZFBhc3N3b3JkIiwiY29tcGFyZVBhc3N3b3JkIiwiaXNJbnZhbGlkUGFzc3dvcmQiLCJqc29uVXNlciIsInRvSlNPTiIsInRvQmVVbmRlZmluZWQiLCJzaG9ydE5pY2tuYW1lIiwibG9uZ05pY2tuYW1lIiwicmVwZWF0Iiwic2hvcnRFcnJvciIsImxvbmdFcnJvciIsIm9yaWdpbmFsTGFzdEFjdGl2ZSIsIlByb21pc2UiLCJyZXNvbHZlIiwic2V0VGltZW91dCIsIkRhdGUiLCJnZXRUaW1lIiwidG9CZUdyZWF0ZXJUaGFuIiwiZm91bmRVc2VyIiwiZmluZEJ5SWQiLCJfaWQiXSwic291cmNlcyI6WyJVc2VyLnRlc3QuanMiXSwic291cmNlc0NvbnRlbnQiOlsiY29uc3QgVXNlciA9IHJlcXVpcmUoJy4uLy4uL21vZGVscy9Vc2VyJyk7XG5cbmRlc2NyaWJlKCdVc2VyIE1vZGVsJywgKCkgPT4ge1xuICBkZXNjcmliZSgnVXNlciBDcmVhdGlvbicsICgpID0+IHtcbiAgICBpdCgnc2hvdWxkIGNyZWF0ZSBhIHVzZXIgd2l0aCB2YWxpZCBkYXRhJywgYXN5bmMgKCkgPT4ge1xuICAgICAgY29uc3QgdXNlckRhdGEgPSB7XG4gICAgICAgIG5pY2tuYW1lOiAndGVzdHVzZXInLFxuICAgICAgICBlbWFpbDogJ3Rlc3RAZXhhbXBsZS5jb20nLFxuICAgICAgICBwYXNzd29yZDogJ3Bhc3N3b3JkMTIzJ1xuICAgICAgfTtcblxuICAgICAgY29uc3QgdXNlciA9IG5ldyBVc2VyKHVzZXJEYXRhKTtcbiAgICAgIGNvbnN0IHNhdmVkVXNlciA9IGF3YWl0IHVzZXIuc2F2ZSgpO1xuXG4gICAgICBleHBlY3Qoc2F2ZWRVc2VyLm5pY2tuYW1lKS50b0JlKHVzZXJEYXRhLm5pY2tuYW1lKTtcbiAgICAgIGV4cGVjdChzYXZlZFVzZXIuZW1haWwpLnRvQmUodXNlckRhdGEuZW1haWwpO1xuICAgICAgZXhwZWN0KHNhdmVkVXNlci5yb2xlKS50b0JlKCdtZW1iZXInKTtcbiAgICAgIGV4cGVjdChzYXZlZFVzZXIuc3RhdHVzKS50b0JlKCdvZmZsaW5lJyk7XG4gICAgICBleHBlY3Qoc2F2ZWRVc2VyLmNyZWF0ZWRBdCkudG9CZURlZmluZWQoKTtcbiAgICAgIGV4cGVjdChzYXZlZFVzZXIubGFzdEFjdGl2ZSkudG9CZURlZmluZWQoKTtcbiAgICB9KTtcblxuICAgIGl0KCdzaG91bGQgcmVxdWlyZSBuaWNrbmFtZSwgZW1haWwgYW5kIHBhc3N3b3JkJywgYXN5bmMgKCkgPT4ge1xuICAgICAgY29uc3QgdXNlciA9IG5ldyBVc2VyKHt9KTtcbiAgICAgIGxldCBlcnJvcjtcblxuICAgICAgdHJ5IHtcbiAgICAgICAgYXdhaXQgdXNlci5zYXZlKCk7XG4gICAgICB9IGNhdGNoIChlcnIpIHtcbiAgICAgICAgZXJyb3IgPSBlcnI7XG4gICAgICB9XG5cbiAgICAgIGV4cGVjdChlcnJvcikudG9CZURlZmluZWQoKTtcbiAgICAgIGV4cGVjdChlcnJvci5lcnJvcnMubmlja25hbWUpLnRvQmVEZWZpbmVkKCk7XG4gICAgICBleHBlY3QoZXJyb3IuZXJyb3JzLmVtYWlsKS50b0JlRGVmaW5lZCgpO1xuICAgICAgZXhwZWN0KGVycm9yLmVycm9ycy5wYXNzd29yZCkudG9CZURlZmluZWQoKTtcbiAgICB9KTtcblxuICAgIGl0KCdzaG91bGQgZW5mb3JjZSB1bmlxdWUgY29uc3RyYWludHMnLCBhc3luYyAoKSA9PiB7XG4gICAgICBjb25zdCB1c2VyRGF0YTEgPSB7XG4gICAgICAgIG5pY2tuYW1lOiAnZHVwbGljYXRldXNlcicsXG4gICAgICAgIGVtYWlsOiAnZHVwbGljYXRlQGV4YW1wbGUuY29tJyxcbiAgICAgICAgcGFzc3dvcmQ6ICdwYXNzd29yZDEyMydcbiAgICAgIH07XG5cbiAgICAgIGNvbnN0IHVzZXJEYXRhMiA9IHtcbiAgICAgICAgbmlja25hbWU6ICdkdXBsaWNhdGV1c2VyJyxcbiAgICAgICAgZW1haWw6ICdhbm90aGVyQGV4YW1wbGUuY29tJyxcbiAgICAgICAgcGFzc3dvcmQ6ICdwYXNzd29yZDEyMydcbiAgICAgIH07XG5cbiAgICAgIGF3YWl0IG5ldyBVc2VyKHVzZXJEYXRhMSkuc2F2ZSgpO1xuXG4gICAgICBsZXQgZXJyb3I7XG4gICAgICB0cnkge1xuICAgICAgICBhd2FpdCBuZXcgVXNlcih1c2VyRGF0YTIpLnNhdmUoKTtcbiAgICAgIH0gY2F0Y2ggKGVycikge1xuICAgICAgICBlcnJvciA9IGVycjtcbiAgICAgIH1cblxuICAgICAgZXhwZWN0KGVycm9yKS50b0JlRGVmaW5lZCgpO1xuICAgICAgZXhwZWN0KGVycm9yLmNvZGUpLnRvQmUoMTEwMDApOyAvLyBNb25nb0RCIGR1cGxpY2F0ZSBrZXkgZXJyb3JcbiAgICB9KTtcbiAgfSk7XG5cbiAgZGVzY3JpYmUoJ1Bhc3N3b3JkIE1ldGhvZHMnLCAoKSA9PiB7XG4gICAgaXQoJ3Nob3VsZCBoYXNoIHBhc3N3b3JkIGJlZm9yZSBzYXZpbmcnLCBhc3luYyAoKSA9PiB7XG4gICAgICBjb25zdCB1c2VyRGF0YSA9IHtcbiAgICAgICAgbmlja25hbWU6ICdoYXNodXNlcicsXG4gICAgICAgIGVtYWlsOiAnaGFzaEBleGFtcGxlLmNvbScsXG4gICAgICAgIHBhc3N3b3JkOiAncGxhaW5wYXNzd29yZCdcbiAgICAgIH07XG5cbiAgICAgIGNvbnN0IHVzZXIgPSBuZXcgVXNlcih1c2VyRGF0YSk7XG4gICAgICBhd2FpdCB1c2VyLnNhdmUoKTtcblxuICAgICAgZXhwZWN0KHVzZXIucGFzc3dvcmQpLm5vdC50b0JlKHVzZXJEYXRhLnBhc3N3b3JkKTtcbiAgICAgIGV4cGVjdCh1c2VyLnBhc3N3b3JkKS50b01hdGNoKC9eXFwkMltheWJdXFwkLns1Nn0kLyk7IC8vIGJjcnlwdCBoYXNoIHBhdHRlcm5cbiAgICB9KTtcblxuICAgIGl0KCdzaG91bGQgY29tcGFyZSBwYXNzd29yZHMgY29ycmVjdGx5JywgYXN5bmMgKCkgPT4ge1xuICAgICAgY29uc3QgdXNlckRhdGEgPSB7XG4gICAgICAgIG5pY2tuYW1lOiAnY29tcGFyZXVzZXInLFxuICAgICAgICBlbWFpbDogJ2NvbXBhcmVAZXhhbXBsZS5jb20nLFxuICAgICAgICBwYXNzd29yZDogJ3Rlc3RwYXNzd29yZCdcbiAgICAgIH07XG5cbiAgICAgIGNvbnN0IHVzZXIgPSBuZXcgVXNlcih1c2VyRGF0YSk7XG4gICAgICBhd2FpdCB1c2VyLnNhdmUoKTtcblxuICAgICAgY29uc3QgaXNWYWxpZFBhc3N3b3JkID0gYXdhaXQgdXNlci5jb21wYXJlUGFzc3dvcmQoJ3Rlc3RwYXNzd29yZCcpO1xuICAgICAgY29uc3QgaXNJbnZhbGlkUGFzc3dvcmQgPSBhd2FpdCB1c2VyLmNvbXBhcmVQYXNzd29yZCgnd3JvbmdwYXNzd29yZCcpO1xuXG4gICAgICBleHBlY3QoaXNWYWxpZFBhc3N3b3JkKS50b0JlKHRydWUpO1xuICAgICAgZXhwZWN0KGlzSW52YWxpZFBhc3N3b3JkKS50b0JlKGZhbHNlKTtcbiAgICB9KTtcbiAgfSk7XG5cbiAgZGVzY3JpYmUoJ0pTT04gU2VyaWFsaXphdGlvbicsICgpID0+IHtcbiAgICBpdCgnc2hvdWxkIGV4Y2x1ZGUgcGFzc3dvcmQgZnJvbSBKU09OIG91dHB1dCcsIGFzeW5jICgpID0+IHtcbiAgICAgIGNvbnN0IHVzZXJEYXRhID0ge1xuICAgICAgICBuaWNrbmFtZTogJ2pzb251c2VyJyxcbiAgICAgICAgZW1haWw6ICdqc29uQGV4YW1wbGUuY29tJyxcbiAgICAgICAgcGFzc3dvcmQ6ICdwYXNzd29yZDEyMydcbiAgICAgIH07XG5cbiAgICAgIGNvbnN0IHVzZXIgPSBuZXcgVXNlcih1c2VyRGF0YSk7XG4gICAgICBhd2FpdCB1c2VyLnNhdmUoKTtcblxuICAgICAgY29uc3QganNvblVzZXIgPSB1c2VyLnRvSlNPTigpO1xuXG4gICAgICBleHBlY3QoanNvblVzZXIucGFzc3dvcmQpLnRvQmVVbmRlZmluZWQoKTtcbiAgICAgIGV4cGVjdChqc29uVXNlci5uaWNrbmFtZSkudG9CZSh1c2VyRGF0YS5uaWNrbmFtZSk7XG4gICAgICBleHBlY3QoanNvblVzZXIuZW1haWwpLnRvQmUodXNlckRhdGEuZW1haWwpO1xuICAgIH0pO1xuICB9KTtcblxuICBkZXNjcmliZSgnVmFsaWRhdGlvbicsICgpID0+IHtcbiAgICBpdCgnc2hvdWxkIGVuZm9yY2Ugbmlja25hbWUgbGVuZ3RoIGNvbnN0cmFpbnRzJywgYXN5bmMgKCkgPT4ge1xuICAgICAgY29uc3Qgc2hvcnROaWNrbmFtZSA9IG5ldyBVc2VyKHtcbiAgICAgICAgbmlja25hbWU6ICdhYicsXG4gICAgICAgIGVtYWlsOiAndGVzdEBleGFtcGxlLmNvbScsXG4gICAgICAgIHBhc3N3b3JkOiAncGFzc3dvcmQxMjMnXG4gICAgICB9KTtcblxuICAgICAgY29uc3QgbG9uZ05pY2tuYW1lID0gbmV3IFVzZXIoe1xuICAgICAgICBuaWNrbmFtZTogJ2EnLnJlcGVhdCg1MSksXG4gICAgICAgIGVtYWlsOiAndGVzdEBleGFtcGxlLmNvbScsXG4gICAgICAgIHBhc3N3b3JkOiAncGFzc3dvcmQxMjMnXG4gICAgICB9KTtcblxuICAgICAgbGV0IHNob3J0RXJyb3IsIGxvbmdFcnJvcjtcblxuICAgICAgdHJ5IHsgYXdhaXQgc2hvcnROaWNrbmFtZS5zYXZlKCk7IH0gY2F0Y2ggKGVycikgeyBzaG9ydEVycm9yID0gZXJyOyB9XG4gICAgICB0cnkgeyBhd2FpdCBsb25nTmlja25hbWUuc2F2ZSgpOyB9IGNhdGNoIChlcnIpIHsgbG9uZ0Vycm9yID0gZXJyOyB9XG5cbiAgICAgIGV4cGVjdChzaG9ydEVycm9yKS50b0JlRGVmaW5lZCgpO1xuICAgICAgZXhwZWN0KGxvbmdFcnJvcikudG9CZURlZmluZWQoKTtcbiAgICB9KTtcblxuICAgIGl0KCdzaG91bGQgbm9ybWFsaXplIGVtYWlsIGZvcm1hdCcsIGFzeW5jICgpID0+IHtcbiAgICAgIGNvbnN0IHVzZXIgPSBuZXcgVXNlcih7XG4gICAgICAgIG5pY2tuYW1lOiAnZW1haWx0ZXN0JyxcbiAgICAgICAgZW1haWw6ICdURVNUQEVYQU1QTEUuQ09NJyxcbiAgICAgICAgcGFzc3dvcmQ6ICdwYXNzd29yZDEyMydcbiAgICAgIH0pO1xuXG4gICAgICBhd2FpdCB1c2VyLnNhdmUoKTtcbiAgICAgIGV4cGVjdCh1c2VyLmVtYWlsKS50b0JlKCd0ZXN0QGV4YW1wbGUuY29tJyk7IC8vIE5vcm1hbGl6ZWQgdG8gbG93ZXJjYXNlXG4gICAgfSk7XG4gIH0pO1xuXG4gIGRlc2NyaWJlKCdTdGF0dXMgTWFuYWdlbWVudCcsICgpID0+IHtcbiAgICBpdCgnc2hvdWxkIHVwZGF0ZSBsYXN0QWN0aXZlIHRpbWVzdGFtcCcsIGFzeW5jICgpID0+IHtcbiAgICAgIGNvbnN0IHVzZXJEYXRhID0ge1xuICAgICAgICBuaWNrbmFtZTogJ2FjdGl2ZXRlc3QnLFxuICAgICAgICBlbWFpbDogJ2FjdGl2ZUBleGFtcGxlLmNvbScsXG4gICAgICAgIHBhc3N3b3JkOiAncGFzc3dvcmQxMjMnXG4gICAgICB9O1xuXG4gICAgICBjb25zdCB1c2VyID0gbmV3IFVzZXIodXNlckRhdGEpO1xuICAgICAgY29uc3Qgb3JpZ2luYWxMYXN0QWN0aXZlID0gdXNlci5sYXN0QWN0aXZlO1xuXG4gICAgICBhd2FpdCBuZXcgUHJvbWlzZShyZXNvbHZlID0+IHNldFRpbWVvdXQocmVzb2x2ZSwgMTApKTsgLy8gU21hbGwgZGVsYXlcblxuICAgICAgdXNlci5sYXN0QWN0aXZlID0gbmV3IERhdGUoKTtcbiAgICAgIGF3YWl0IHVzZXIuc2F2ZSgpO1xuXG4gICAgICBleHBlY3QodXNlci5sYXN0QWN0aXZlLmdldFRpbWUoKSkudG9CZUdyZWF0ZXJUaGFuKG9yaWdpbmFsTGFzdEFjdGl2ZS5nZXRUaW1lKCkpO1xuICAgIH0pO1xuXG4gICAgaXQoJ3Nob3VsZCBoYW5kbGUgb25saW5lL29mZmxpbmUgc3RhdHVzIGNvcnJlY3RseScsIGFzeW5jICgpID0+IHtcbiAgICAgIGNvbnN0IHVzZXJEYXRhID0ge1xuICAgICAgICBuaWNrbmFtZTogJ3N0YXR1c3Rlc3QnLFxuICAgICAgICBlbWFpbDogJ3N0YXR1c0BleGFtcGxlLmNvbScsXG4gICAgICAgIHBhc3N3b3JkOiAncGFzc3dvcmQxMjMnXG4gICAgICB9O1xuXG4gICAgICBjb25zdCB1c2VyID0gbmV3IFVzZXIodXNlckRhdGEpO1xuICAgICAgZXhwZWN0KHVzZXIuc3RhdHVzKS50b0JlKCdvZmZsaW5lJyk7XG5cbiAgICAgIHVzZXIuc3RhdHVzID0gJ29ubGluZSc7XG4gICAgICBhd2FpdCB1c2VyLnNhdmUoKTtcblxuICAgICAgY29uc3QgZm91bmRVc2VyID0gYXdhaXQgVXNlci5maW5kQnlJZCh1c2VyLl9pZCk7XG4gICAgICBleHBlY3QoZm91bmRVc2VyLnN0YXR1cykudG9CZSgnb25saW5lJyk7XG4gICAgfSk7XG4gIH0pO1xuXG4gIGRlc2NyaWJlKCdSb2xlIE1hbmFnZW1lbnQnLCAoKSA9PiB7XG4gICAgaXQoJ3Nob3VsZCBkZWZhdWx0IHRvIG1lbWJlciByb2xlJywgYXN5bmMgKCkgPT4ge1xuICAgICAgY29uc3QgdXNlckRhdGEgPSB7XG4gICAgICAgIG5pY2tuYW1lOiAncm9sZWRlZmF1bHQnLFxuICAgICAgICBlbWFpbDogJ3JvbGVAZXhhbXBsZS5jb20nLFxuICAgICAgICBwYXNzd29yZDogJ3Bhc3N3b3JkMTIzJ1xuICAgICAgfTtcblxuICAgICAgY29uc3QgdXNlciA9IG5ldyBVc2VyKHVzZXJEYXRhKTtcbiAgICAgIGF3YWl0IHVzZXIuc2F2ZSgpO1xuXG4gICAgICBleHBlY3QodXNlci5yb2xlKS50b0JlKCdtZW1iZXInKTtcbiAgICB9KTtcblxuICAgIGl0KCdzaG91bGQgYWNjZXB0IGFkbWluIHJvbGUnLCBhc3luYyAoKSA9PiB7XG4gICAgICBjb25zdCB1c2VyRGF0YSA9IHtcbiAgICAgICAgbmlja25hbWU6ICdhZG1pbnRlc3QnLFxuICAgICAgICBlbWFpbDogJ2FkbWluQGV4YW1wbGUuY29tJyxcbiAgICAgICAgcGFzc3dvcmQ6ICdwYXNzd29yZDEyMycsXG4gICAgICAgIHJvbGU6ICdhZG1pbidcbiAgICAgIH07XG5cbiAgICAgIGNvbnN0IHVzZXIgPSBuZXcgVXNlcih1c2VyRGF0YSk7XG4gICAgICBhd2FpdCB1c2VyLnNhdmUoKTtcblxuICAgICAgZXhwZWN0KHVzZXIucm9sZSkudG9CZSgnYWRtaW4nKTtcbiAgICB9KTtcblxuICAgIGl0KCdzaG91bGQgcmVqZWN0IGludmFsaWQgcm9sZXMnLCBhc3luYyAoKSA9PiB7XG4gICAgICBjb25zdCB1c2VyRGF0YSA9IHtcbiAgICAgICAgbmlja25hbWU6ICdpbnZhbGlkcm9sZScsXG4gICAgICAgIGVtYWlsOiAnaW52YWxpZEBleGFtcGxlLmNvbScsXG4gICAgICAgIHBhc3N3b3JkOiAncGFzc3dvcmQxMjMnLFxuICAgICAgICByb2xlOiAnc3VwZXJ1c2VyJ1xuICAgICAgfTtcblxuICAgICAgY29uc3QgdXNlciA9IG5ldyBVc2VyKHVzZXJEYXRhKTtcbiAgICAgIGxldCBlcnJvcjtcblxuICAgICAgdHJ5IHtcbiAgICAgICAgYXdhaXQgdXNlci5zYXZlKCk7XG4gICAgICB9IGNhdGNoIChlcnIpIHtcbiAgICAgICAgZXJyb3IgPSBlcnI7XG4gICAgICB9XG5cbiAgICAgIGV4cGVjdChlcnJvcikudG9CZURlZmluZWQoKTtcbiAgICAgIGV4cGVjdChlcnJvci5lcnJvcnMucm9sZSkudG9CZURlZmluZWQoKTtcbiAgICB9KTtcbiAgfSk7XG5cbiAgZGVzY3JpYmUoJ0VkZ2UgQ2FzZXMnLCAoKSA9PiB7XG4gICAgaXQoJ3Nob3VsZCBoYW5kbGUgZW1wdHkgc3RyaW5ncyBwcm9wZXJseScsIGFzeW5jICgpID0+IHtcbiAgICAgIGNvbnN0IHVzZXJEYXRhID0ge1xuICAgICAgICBuaWNrbmFtZTogJyAgICcsXG4gICAgICAgIGVtYWlsOiAnc3BhY2VzQGV4YW1wbGUuY29tJyxcbiAgICAgICAgcGFzc3dvcmQ6ICdwYXNzd29yZDEyMydcbiAgICAgIH07XG5cbiAgICAgIGNvbnN0IHVzZXIgPSBuZXcgVXNlcih1c2VyRGF0YSk7XG4gICAgICBsZXQgZXJyb3I7XG5cbiAgICAgIHRyeSB7XG4gICAgICAgIGF3YWl0IHVzZXIuc2F2ZSgpO1xuICAgICAgfSBjYXRjaCAoZXJyKSB7XG4gICAgICAgIGVycm9yID0gZXJyO1xuICAgICAgfVxuXG4gICAgICBleHBlY3QoZXJyb3IpLnRvQmVEZWZpbmVkKCk7XG4gICAgICBleHBlY3QoZXJyb3IuZXJyb3JzLm5pY2tuYW1lKS50b0JlRGVmaW5lZCgpO1xuICAgIH0pO1xuXG4gICAgaXQoJ3Nob3VsZCB0cmltIHdoaXRlc3BhY2UgZnJvbSBmaWVsZHMnLCBhc3luYyAoKSA9PiB7XG4gICAgICBjb25zdCB1c2VyRGF0YSA9IHtcbiAgICAgICAgbmlja25hbWU6ICcgIHRyaW1tZWQgJyxcbiAgICAgICAgZW1haWw6ICd0cmltQGV4YW1wbGUuY29tJyxcbiAgICAgICAgcGFzc3dvcmQ6ICdwYXNzd29yZDEyMydcbiAgICAgIH07XG5cbiAgICAgIGNvbnN0IHVzZXIgPSBuZXcgVXNlcih1c2VyRGF0YSk7XG4gICAgICBhd2FpdCB1c2VyLnNhdmUoKTtcblxuICAgICAgZXhwZWN0KHVzZXIubmlja25hbWUpLnRvQmUoJ3RyaW1tZWQnKTtcbiAgICAgIGV4cGVjdCh1c2VyLmVtYWlsKS50b0JlKCd0cmltQGV4YW1wbGUuY29tJyk7XG4gICAgfSk7XG4gIH0pO1xufSk7Il0sIm1hcHBpbmdzIjoiQUFBQSxNQUFNQSxJQUFJLEdBQUdDLE9BQU8sQ0FBQyxtQkFBbUIsQ0FBQztBQUV6Q0MsUUFBUSxDQUFDLFlBQVks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