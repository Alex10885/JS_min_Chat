9ddc4adb17accbf8c966c4f211da8f07
const request = require('supertest');
const jwt = require('jsonwebtoken');
const mongoose = require('mongoose');
const {
  MongoMemoryServer
} = require('mongodb-memory-server');

// Create minimal app for middleware testing
const express = require('express');
const cors = require('cors');
const helmet = require('helmet');
const {
  body,
  validationResult
} = require('express-validator');
const User = require('../../models/User');
let mongoServer;
let app;
describe('Middleware Tests', () => {
  beforeAll(async () => {
    // Start in-memory MongoDB
    mongoServer = await MongoMemoryServer.create({
      binary: {
        version: '6.0.0'
      }
    });
    const mongoUri = mongoServer.getUri();
    await mongoose.connect(mongoUri);

    // Create minimal app with middleware
    app = express();

    // Middleware setup
    app.use(cors());
    app.use(express.json({
      limit: '10mb'
    }));
    app.use(helmet({
      contentSecurityPolicy: {
        directives: {
          defaultSrc: ["'self'"],
          styleSrc: ["'self'", "'unsafe-inline'", "https://fonts.googleapis.com"],
          fontSrc: ["'self'", "https://fonts.gstatic.com"],
          imgSrc: ["'self'", "data:"],
          scriptSrc: ["'self'", "'unsafe-inline'"],
          connectSrc: ["'self'"]
        }
      },
      crossOriginEmbedderPolicy: false
    }));

    // Error handler middleware (copied from server.js)
    const errorHandler = (err, req, res, next) => {
      console.error('Unhandled error:', err.message);
      if (err.name === 'ValidationError') {
        const errors = Object.values(err.errors).map(e => ({
          field: e.path,
          message: e.message,
          value: e.value
        }));
        return res.status(422).json({
          error: 'Validation failed',
          details: errors,
          code: 'VALIDATION_ERROR'
        });
      }
      if (err.code === 11000) {
        const field = Object.keys(err.keyValue)[0];
        const value = err.keyValue[field];
        return res.status(409).json({
          error: `${field} '${value}' already exists`,
          code: 'DUPLICATE_ERROR'
        });
      }
      res.status(500).json({
        error: 'Internal server error',
        code: 'INTERNAL_ERROR'
      });
    };

    // Authenticate token middleware (copied from server.js)
    const authenticateToken = async (req, res, next) => {
      try {
        const authHeader = req.headers['authorization'];
        const token = authHeader && authHeader.split(' ')[1];
        if (!token) {
          return res.status(401).json({
            error: 'Access token required',
            code: 'NO_TOKEN'
          });
        }
        const decoded = jwt.verify(token, process.env.JWT_SECRET || 'test-secret');
        const user = await User.findById(decoded.userId);
        if (!user) {
          return res.status(401).json({
            error: 'User not found',
            code: 'USER_NOT_FOUND'
          });
        }
        req.user = user;
        next();
      } catch (error) {
        if (error.name === 'JsonWebTokenError') {
          return res.status(401).json({
            error: 'Invalid token format',
            code: 'INVALID_TOKEN_FORMAT'
          });
        }
        if (error.name === 'TokenExpiredError') {
          return res.status(401).json({
            error: 'Token has expired',
            code: 'TOKEN_EXPIRED'
          });
        }
        return res.status(401).json({
          error: 'Token verification failed',
          code: 'TOKEN_VERIFICATION_FAILED'
        });
      }
    };

    // Request logging middleware (simplified version)
    app.use((req, res, next) => {
      const start = Date.now();
      res.on('finish', () => {
        const duration = Date.now() - start;
        console.log(`${req.method} ${req.url} - ${res.statusCode} (${duration}ms)`);
      });
      next();
    });

    // Test routes
    app.get('/protected', authenticateToken, (req, res) => {
      res.json({
        userId: req.user._id,
        nickname: req.user.nickname
      });
    });
    app.post('/validation-test', [body('nickname').isLength({
      min: 3,
      max: 50
    }).trim().escape(), body('email').isEmail().normalizeEmail()], (req, res) => {
      const errors = validationResult(req);
      if (!errors.isEmpty()) {
        return res.status(400).json({
          errors: errors.array()
        });
      }
      res.json({
        success: true,
        data: req.body
      });
    });
    app.post('/duplicate-test', async (req, res) => {
      try {
        const user = new User({
          nickname: req.body.nickname,
          email: req.body.email,
          password: 'password123'
        });
        await user.save();
        res.status(201).json({
          user
        });
      } catch (error) {
        // Let error handler middleware handle it
        throw error;
      }
    });
    app.get('/test-cors', (req, res) => {
      res.json({
        cors: 'enabled'
      });
    });
    app.get('/test-helmet', (req, res) => {
      res.json({
        helmet: 'enabled'
      });
    });

    // Error handler middleware must be last
    app.use(errorHandler);

    // 404 handler
    app.use((req, res) => {
      res.status(404).json({
        error: 'Endpoint not found',
        path: req.url,
        method: req.method,
        code: 'NOT_FOUND'
      });
    });
  });
  afterAll(async () => {
    await mongoose.disconnect();
    if (mongoServer) {
      await mongoServer.stop();
    }
  });
  beforeEach(async () => {
    await User.deleteMany({});
  });
  describe('authenticateToken Middleware', () => {
    let testUser;
    let validToken;
    beforeEach(async () => {
      testUser = await new User({
        nickname: 'authtest',
        email: 'auth@example.com',
        password: 'password123'
      }).save();
      validToken = jwt.sign({
        userId: testUser._id,
        nickname: testUser.nickname
      }, process.env.JWT_SECRET || 'test-secret', {
        expiresIn: '1h'
      });
    });
    it('should pass with valid token', async () => {
      const response = await request(app).get('/protected').set('Authorization', `Bearer ${validToken}`).expect(200);
      expect(response.body.userId).toBe(testUser._id.toString());
      expect(response.body.nickname).toBe('authtest');
    });
    it('should reject without token', async () => {
      const response = await request(app).get('/protected').expect(401);
      expect(response.body.code).toBe('NO_TOKEN');
      expect(response.body.error).toBe('Access token required');
    });
    it('should reject with invalid token format', async () => {
      const response = await request(app).get('/protected').set('Authorization', 'InvalidToken').expect(401);
      expect(response.body.code).toBe('INVALID_TOKEN_FORMAT');
    });
    it('should reject with expired token', async () => {
      const expiredToken = jwt.sign({
        userId: testUser._id,
        nickname: testUser.nickname
      }, process.env.JWT_SECRET || 'test-secret', {
        expiresIn: '-1h'
      });
      const response = await request(app).get('/protected').set('Authorization', `Bearer ${expiredToken}`).expect(401);
      expect(response.body.code).toBe('TOKEN_EXPIRED');
    });
    it('should reject with valid token but non-existent user', async () => {
      // Delete the user after creating token
      await User.findByIdAndDelete(testUser._id);
      const response = await request(app).get('/protected').set('Authorization', `Bearer ${validToken}`).expect(401);
      expect(response.body.code).toBe('USER_NOT_FOUND');
    });
  });
  describe('CORS Middleware', () => {
    it('should handle CORS preflight requests', async () => {
      const response = await request(app).options('/test-cors').set('Origin', 'http://localhost:3000').set('Access-Control-Request-Method', 'GET').expect(204);
      expect(response.headers['access-control-allow-origin']).toBeDefined();
    });
    it('should include CORS headers in response', async () => {
      const response = await request(app).get('/test-cors').set('Origin', 'http://localhost:3000').expect(200);
      expect(response.headers['access-control-allow-origin']).toBeDefined();
    });
  });
  describe('Helmet Security Headers', () => {
    it('should set security headers', async () => {
      const response = await request(app).get('/test-helmet').expect(200);
      expect(response.headers['x-frame-options']).toBeDefined();
      expect(response.headers['x-content-type-options']).toBeDefined();
      expect(response.headers['content-security-policy']).toBeDefined();
    });
    it('should have CSP header configured', async () => {
      const response = await request(app).get('/test-helmet').expect(200);
      const cspHeader = response.headers['content-security-policy'];
      expect(cspHeader).toContain("default-src 'self'");
      expect(cspHeader).toContain("script-src 'self' 'unsafe-inline'");
    });
  });
  describe('Error Handler Middleware', () => {
    it('should handle validation errors', async () => {
      const response = await request(app).post('/validation-test').send({
        nickname: 'ab',
        email: 'invalid-email'
      }).expect(400);
      expect(response.body.errors).toBeDefined();
      expect(Array.isArray(response.body.errors)).toBe(true);
    });
    it('should handle duplicate key errors', async () => {
      // Create user first
      await new User({
        nickname: 'duplicateuser',
        email: 'duplicate@example.com',
        password: 'password123'
      }).save();

      // Try to create another with same data
      const response = await request(app).post('/duplicate-test').send({
        nickname: 'duplicateuser',
        email: 'duplicate@example.com'
      }).expect(409);
      expect(response.body.code).toBe('DUPLICATE_ERROR');
      expect(response.body.error).toContain('already exists');
    });
    it('should handle 404 errors', async () => {
      const response = await request(app).get('/nonexistent-route').expect(404);
      expect(response.body.code).toBe('NOT_FOUND');
      expect(response.body.path).toBe('/nonexistent-route');
    });
    it('should handle general server errors', async () => {
      // Create a route that will throw an error
      app.get('/error-test', (req, res) => {
        throw new Error('Test error');
      });
      const response = await request(app).get('/error-test').expect(500);
      expect(response.body.code).toBe('INTERNAL_ERROR');
      expect(response.body.error).toBe('Internal server error');
    });
  });
  describe('Request Logging Middleware', () => {
    it('should log request timing', async () => {
      const startTime = Date.now();
      await request(app).get('/test-helmet').expect(200);
      const endTime = Date.now();
      expect(endTime - startTime).toBeGreaterThanOrEqual(0);
    });
  });
});
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJyZXF1ZXN0IiwicmVxdWlyZSIsImp3dCIsIm1vbmdvb3NlIiwiTW9uZ29NZW1vcnlTZXJ2ZXIiLCJleHByZXNzIiwiY29ycyIsImhlbG1ldCIsImJvZHkiLCJ2YWxpZGF0aW9uUmVzdWx0IiwiVXNlciIsIm1vbmdvU2VydmVyIiwiYXBwIiwiZGVzY3JpYmUiLCJiZWZvcmVBbGwiLCJjcmVhdGUiLCJiaW5hcnkiLCJ2ZXJzaW9uIiwibW9uZ29VcmkiLCJnZXRVcmkiLCJjb25uZWN0IiwidXNlIiwianNvbiIsImxpbWl0IiwiY29udGVudFNlY3VyaXR5UG9saWN5IiwiZGlyZWN0aXZlcyIsImRlZmF1bHRTcmMiLCJzdHlsZVNyYyIsImZvbnRTcmMiLCJpbWdTcmMiLCJzY3JpcHRTcmMiLCJjb25uZWN0U3JjIiwiY3Jvc3NPcmlnaW5FbWJlZGRlclBvbGljeSIsImVycm9ySGFuZGxlciIsImVyciIsInJlcSIsInJlcyIsIm5leHQiLCJjb25zb2xlIiwiZXJyb3IiLCJtZXNzYWdlIiwibmFtZSIsImVycm9ycyIsIk9iamVjdCIsInZhbHVlcyIsIm1hcCIsImUiLCJmaWVsZCIsInBhdGgiLCJ2YWx1ZSIsInN0YXR1cyIsImRldGFpbHMiLCJjb2RlIiwia2V5cyIsImtleVZhbHVlIiwiYXV0aGVudGljYXRlVG9rZW4iLCJhdXRoSGVhZGVyIiwiaGVhZGVycyIsInRva2VuIiwic3BsaXQiLCJkZWNvZGVkIiwidmVyaWZ5IiwicHJvY2VzcyIsImVudiIsIkpXVF9TRUNSRVQiLCJ1c2VyIiwiZmluZEJ5SWQiLCJ1c2VySWQiLCJzdGFydCIsIkRhdGUiLCJub3ciLCJvbiIsImR1cmF0aW9uIiwibG9nIiwibWV0aG9kIiwidXJsIiwic3RhdHVzQ29kZSIsImdldCIsIl9pZCIsIm5pY2tuYW1lIiwicG9zdCIsImlzTGVuZ3RoIiwibWluIiwibWF4IiwidHJpbSIsImVzY2FwZSIsImlzRW1haWwiLCJub3JtYWxpemVFbWFpbCIsImlzRW1wdHkiLCJhcnJheSIsInN1Y2Nlc3MiLCJkYXRhIiwiZW1haWwiLCJwYXNzd29yZCIsInNhdmUiLCJhZnRlckFsbCIsImRpc2Nvbm5lY3QiLCJzdG9wIiwiYmVmb3JlRWFjaCIsImRlbGV0ZU1hbnkiLCJ0ZXN0VXNlciIsInZhbGlkVG9rZW4iLCJzaWduIiwiZXhwaXJlc0luIiwiaXQiLCJyZXNwb25zZSIsInNldCIsImV4cGVjdCIsInRvQmUiLCJ0b1N0cmluZyIsImV4cGlyZWRUb2tlbiIsImZpbmRCeUlkQW5kRGVsZXRlIiwib3B0aW9ucyIsInRvQmVEZWZpbmVkIiwiY3NwSGVhZGVyIiwidG9Db250YWluIiwic2VuZCIsIkFycmF5IiwiaXNBcnJheSIsIkVycm9yIiwic3RhcnRUaW1lIiwiZW5kVGltZSIsInRvQmVHcmVhdGVyVGhhbk9yRXF1YWwiXSwic291cmNlcyI6WyJtaWRkbGV3YXJlLnRlc3QuanMiXSwic291cmNlc0NvbnRlbnQiOlsiY29uc3QgcmVxdWVzdCA9IHJlcXVpcmUoJ3N1cGVydGVzdCcpO1xuY29uc3Qgand0ID0gcmVxdWlyZSgnanNvbndlYnRva2VuJyk7XG5jb25zdCBtb25nb29zZSA9IHJlcXVpcmUoJ21vbmdvb3NlJyk7XG5jb25zdCB7IE1vbmdvTWVtb3J5U2VydmVyIH0gPSByZXF1aXJlKCdtb25nb2RiLW1lbW9yeS1zZXJ2ZXInKTtcblxuLy8gQ3JlYXRlIG1pbmltYWwgYXBwIGZvciBtaWRkbGV3YXJlIHRlc3RpbmdcbmNvbnN0IGV4cHJlc3MgPSByZXF1aXJlKCdleHByZXNzJyk7XG5jb25zdCBjb3JzID0gcmVxdWlyZSgnY29ycycpO1xuY29uc3QgaGVsbWV0ID0gcmVxdWlyZSgnaGVsbWV0Jyk7XG5jb25zdCB7IGJvZHksIHZhbGlkYXRpb25SZXN1bHQgfSA9IHJlcXVpcmUoJ2V4cHJlc3MtdmFsaWRhdG9yJyk7XG5jb25zdCBVc2VyID0gcmVxdWlyZSgnLi4vLi4vbW9kZWxzL1VzZXInKTtcblxubGV0IG1vbmdvU2VydmVyO1xubGV0IGFwcDtcblxuZGVzY3JpYmUoJ01pZGRsZXdhcmUgVGVzdHMnLCAoKSA9PiB7XG4gIGJlZm9yZUFsbChhc3luYyAoKSA9PiB7XG4gICAgLy8gU3RhcnQgaW4tbWVtb3J5IE1vbmdvREJcbiAgICBtb25nb1NlcnZlciA9IGF3YWl0IE1vbmdvTWVtb3J5U2VydmVyLmNyZWF0ZSh7IGJpbmFyeTogeyB2ZXJzaW9uOiAnNi4wLjAnIH0gfSk7XG4gICAgY29uc3QgbW9uZ29VcmkgPSBtb25nb1NlcnZlci5nZXRVcmkoKTtcbiAgICBhd2FpdCBtb25nb29zZS5jb25uZWN0KG1vbmdvVXJpKTtcblxuICAgIC8vIENyZWF0ZSBtaW5pbWFsIGFwcCB3aXRoIG1pZGRsZXdhcmVcbiAgICBhcHAgPSBleHByZXNzKCk7XG5cbiAgICAvLyBNaWRkbGV3YXJlIHNldHVwXG4gICAgYXBwLnVzZShjb3JzKCkpO1xuICAgIGFwcC51c2UoZXhwcmVzcy5qc29uKHsgbGltaXQ6ICcxMG1iJyB9KSk7XG4gICAgYXBwLnVzZShoZWxtZXQoe1xuICAgICAgY29udGVudFNlY3VyaXR5UG9saWN5OiB7XG4gICAgICAgIGRpcmVjdGl2ZXM6IHtcbiAgICAgICAgICBkZWZhdWx0U3JjOiBbXCInc2VsZidcIl0sXG4gICAgICAgICAgc3R5bGVTcmM6IFtcIidzZWxmJ1wiLCBcIid1bnNhZmUtaW5saW5lJ1wiLCBcImh0dHBzOi8vZm9udHMuZ29vZ2xlYXBpcy5jb21cIl0sXG4gICAgICAgICAgZm9udFNyYzogW1wiJ3NlbGYnXCIsIFwiaHR0cHM6Ly9mb250cy5nc3RhdGljLmNvbVwiXSxcbiAgICAgICAgICBpbWdTcmM6IFtcIidzZWxmJ1wiLCBcImRhdGE6XCJdLFxuICAgICAgICAgIHNjcmlwdFNyYzogW1wiJ3NlbGYnXCIsIFwiJ3Vuc2FmZS1pbmxpbmUnXCJdLFxuICAgICAgICAgIGNvbm5lY3RTcmM6IFtcIidzZWxmJ1wiXVxuICAgICAgICB9XG4gICAgICB9LFxuICAgICAgY3Jvc3NPcmlnaW5FbWJlZGRlclBvbGljeTogZmFsc2VcbiAgICB9KSk7XG5cbiAgICAvLyBFcnJvciBoYW5kbGVyIG1pZGRsZXdhcmUgKGNvcGllZCBmcm9tIHNlcnZlci5qcylcbiAgICBjb25zdCBlcnJvckhhbmRsZXIgPSAoZXJyLCByZXEsIHJlcywgbmV4dCkgPT4ge1xuICAgICAgY29uc29sZS5lcnJvcignVW5oYW5kbGVkIGVycm9yOicsIGVyci5tZXNzYWdlKTtcbiAgICAgIGlmIChlcnIubmFtZSA9PT0gJ1ZhbGlkYXRpb25FcnJvcicpIHtcbiAgICAgICAgY29uc3QgZXJyb3JzID0gT2JqZWN0LnZhbHVlcyhlcnIuZXJyb3JzKS5tYXAoZSA9PiAoe1xuICAgICAgICAgIGZpZWxkOiBlLnBhdGgsXG4gICAgICAgICAgbWVzc2FnZTogZS5tZXNzYWdlLFxuICAgICAgICAgIHZhbHVlOiBlLnZhbHVlXG4gICAgICAgIH0pKTtcbiAgICAgICAgcmV0dXJuIHJlcy5zdGF0dXMoNDIyKS5qc29uKHtcbiAgICAgICAgICBlcnJvcjogJ1ZhbGlkYXRpb24gZmFpbGVkJyxcbiAgICAgICAgICBkZXRhaWxzOiBlcnJvcnMsXG4gICAgICAgICAgY29kZTogJ1ZBTElEQVRJT05fRVJST1InXG4gICAgICAgIH0pO1xuICAgICAgfVxuICAgICAgaWYgKGVyci5jb2RlID09PSAxMTAwMCkge1xuICAgICAgICBjb25zdCBmaWVsZCA9IE9iamVjdC5rZXlzKGVyci5rZXlWYWx1ZSlbMF07XG4gICAgICAgIGNvbnN0IHZhbHVlID0gZXJyLmtleVZhbHVlW2ZpZWxkXTtcbiAgICAgICAgcmV0dXJuIHJlcy5zdGF0dXMoNDA5KS5qc29uKHtcbiAgICAgICAgICBlcnJvcjogYCR7ZmllbGR9ICcke3ZhbHVlfScgYWxyZWFkeSBleGlzdHNgLFxuICAgICAgICAgIGNvZGU6ICdEVVBMSUNBVEVfRVJST1InXG4gICAgICAgIH0pO1xuICAgICAgfVxuICAgICAgcmVzLnN0YXR1cyg1MDApLmpzb24oe1xuICAgICAgICBlcnJvcjogJ0ludGVybmFsIHNlcnZlciBlcnJvcicsXG4gICAgICAgIGNvZGU6ICdJTlRFUk5BTF9FUlJPUidcbiAgICAgIH0pO1xuICAgIH07XG5cbiAgICAvLyBBdXRoZW50aWNhdGUgdG9rZW4gbWlkZGxld2FyZSAoY29waWVkIGZyb20gc2VydmVyLmpzKVxuICAgIGNvbnN0IGF1dGhlbnRpY2F0ZVRva2VuID0gYXN5bmMgKHJlcSwgcmVzLCBuZXh0KSA9PiB7XG4gICAgICB0cnkge1xuICAgICAgICBjb25zdCBhdXRoSGVhZGVyID0gcmVxLmhlYWRlcnNbJ2F1dGhvcml6YXRpb24nXTtcbiAgICAgICAgY29uc3QgdG9rZW4gPSBhdXRoSGVhZGVyICYmIGF1dGhIZWFkZXIuc3BsaXQoJyAnKVsxXTtcbiAgICAgICAgaWYgKCF0b2tlbikge1xuICAgICAgICAgIHJldHVybiByZXMuc3RhdHVzKDQwMSkuanNvbih7XG4gICAgICAgICAgICBlcnJvcjogJ0FjY2VzcyB0b2tlbiByZXF1aXJlZCcsXG4gICAgICAgICAgICBjb2RlOiAnTk9fVE9LRU4nXG4gICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgZGVjb2RlZCA9IGp3dC52ZXJpZnkodG9rZW4sIHByb2Nlc3MuZW52LkpXVF9TRUNSRVQgfHwgJ3Rlc3Qtc2VjcmV0Jyk7XG4gICAgICAgIGNvbnN0IHVzZXIgPSBhd2FpdCBVc2VyLmZpbmRCeUlkKGRlY29kZWQudXNlcklkKTtcbiAgICAgICAgaWYgKCF1c2VyKSB7XG4gICAgICAgICAgcmV0dXJuIHJlcy5zdGF0dXMoNDAxKS5qc29uKHtcbiAgICAgICAgICAgIGVycm9yOiAnVXNlciBub3QgZm91bmQnLFxuICAgICAgICAgICAgY29kZTogJ1VTRVJfTk9UX0ZPVU5EJ1xuICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICAgIHJlcS51c2VyID0gdXNlcjtcbiAgICAgICAgbmV4dCgpO1xuICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgaWYgKGVycm9yLm5hbWUgPT09ICdKc29uV2ViVG9rZW5FcnJvcicpIHtcbiAgICAgICAgICByZXR1cm4gcmVzLnN0YXR1cyg0MDEpLmpzb24oe1xuICAgICAgICAgICAgZXJyb3I6ICdJbnZhbGlkIHRva2VuIGZvcm1hdCcsXG4gICAgICAgICAgICBjb2RlOiAnSU5WQUxJRF9UT0tFTl9GT1JNQVQnXG4gICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGVycm9yLm5hbWUgPT09ICdUb2tlbkV4cGlyZWRFcnJvcicpIHtcbiAgICAgICAgICByZXR1cm4gcmVzLnN0YXR1cyg0MDEpLmpzb24oe1xuICAgICAgICAgICAgZXJyb3I6ICdUb2tlbiBoYXMgZXhwaXJlZCcsXG4gICAgICAgICAgICBjb2RlOiAnVE9LRU5fRVhQSVJFRCdcbiAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gcmVzLnN0YXR1cyg0MDEpLmpzb24oe1xuICAgICAgICAgIGVycm9yOiAnVG9rZW4gdmVyaWZpY2F0aW9uIGZhaWxlZCcsXG4gICAgICAgICAgY29kZTogJ1RPS0VOX1ZFUklGSUNBVElPTl9GQUlMRUQnXG4gICAgICAgIH0pO1xuICAgICAgfVxuICAgIH07XG5cbiAgICAvLyBSZXF1ZXN0IGxvZ2dpbmcgbWlkZGxld2FyZSAoc2ltcGxpZmllZCB2ZXJzaW9uKVxuICAgIGFwcC51c2UoKHJlcSwgcmVzLCBuZXh0KSA9PiB7XG4gICAgICBjb25zdCBzdGFydCA9IERhdGUubm93KCk7XG4gICAgICByZXMub24oJ2ZpbmlzaCcsICgpID0+IHtcbiAgICAgICAgY29uc3QgZHVyYXRpb24gPSBEYXRlLm5vdygpIC0gc3RhcnQ7XG4gICAgICAgIGNvbnNvbGUubG9nKGAke3JlcS5tZXRob2R9ICR7cmVxLnVybH0gLSAke3Jlcy5zdGF0dXNDb2RlfSAoJHtkdXJhdGlvbn1tcylgKTtcbiAgICAgIH0pO1xuICAgICAgbmV4dCgpO1xuICAgIH0pO1xuXG4gICAgLy8gVGVzdCByb3V0ZXNcbiAgICBhcHAuZ2V0KCcvcHJvdGVjdGVkJywgYXV0aGVudGljYXRlVG9rZW4sIChyZXEsIHJlcykgPT4ge1xuICAgICAgcmVzLmpzb24oeyB1c2VySWQ6IHJlcS51c2VyLl9pZCwgbmlja25hbWU6IHJlcS51c2VyLm5pY2tuYW1lIH0pO1xuICAgIH0pO1xuXG4gICAgYXBwLnBvc3QoJy92YWxpZGF0aW9uLXRlc3QnLCBbXG4gICAgICBib2R5KCduaWNrbmFtZScpLmlzTGVuZ3RoKHsgbWluOiAzLCBtYXg6IDUwIH0pLnRyaW0oKS5lc2NhcGUoKSxcbiAgICAgIGJvZHkoJ2VtYWlsJykuaXNFbWFpbCgpLm5vcm1hbGl6ZUVtYWlsKClcbiAgICBdLCAocmVxLCByZXMpID0+IHtcbiAgICAgIGNvbnN0IGVycm9ycyA9IHZhbGlkYXRpb25SZXN1bHQocmVxKTtcbiAgICAgIGlmICghZXJyb3JzLmlzRW1wdHkoKSkge1xuICAgICAgICByZXR1cm4gcmVzLnN0YXR1cyg0MDApLmpzb24oeyBlcnJvcnM6IGVycm9ycy5hcnJheSgpIH0pO1xuICAgICAgfVxuICAgICAgcmVzLmpzb24oeyBzdWNjZXNzOiB0cnVlLCBkYXRhOiByZXEuYm9keSB9KTtcbiAgICB9KTtcblxuICAgIGFwcC5wb3N0KCcvZHVwbGljYXRlLXRlc3QnLCBhc3luYyAocmVxLCByZXMpID0+IHtcbiAgICAgIHRyeSB7XG4gICAgICAgIGNvbnN0IHVzZXIgPSBuZXcgVXNlcih7XG4gICAgICAgICAgbmlja25hbWU6IHJlcS5ib2R5Lm5pY2tuYW1lLFxuICAgICAgICAgIGVtYWlsOiByZXEuYm9keS5lbWFpbCxcbiAgICAgICAgICBwYXNzd29yZDogJ3Bhc3N3b3JkMTIzJ1xuICAgICAgICB9KTtcbiAgICAgICAgYXdhaXQgdXNlci5zYXZlKCk7XG4gICAgICAgIHJlcy5zdGF0dXMoMjAxKS5qc29uKHsgdXNlciB9KTtcbiAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgIC8vIExldCBlcnJvciBoYW5kbGVyIG1pZGRsZXdhcmUgaGFuZGxlIGl0XG4gICAgICAgIHRocm93IGVycm9yO1xuICAgICAgfVxuICAgIH0pO1xuXG4gICAgYXBwLmdldCgnL3Rlc3QtY29ycycsIChyZXEsIHJlcykgPT4ge1xuICAgICAgcmVzLmpzb24oeyBjb3JzOiAnZW5hYmxlZCcgfSk7XG4gICAgfSk7XG5cbiAgICBhcHAuZ2V0KCcvdGVzdC1oZWxtZXQnLCAocmVxLCByZXMpID0+IHtcbiAgICAgIHJlcy5qc29uKHsgaGVsbWV0OiAnZW5hYmxlZCcgfSk7XG4gICAgfSk7XG5cbiAgICAvLyBFcnJvciBoYW5kbGVyIG1pZGRsZXdhcmUgbXVzdCBiZSBsYXN0XG4gICAgYXBwLnVzZShlcnJvckhhbmRsZXIpO1xuXG4gICAgLy8gNDA0IGhhbmRsZXJcbiAgICBhcHAudXNlKChyZXEsIHJlcykgPT4ge1xuICAgICAgcmVzLnN0YXR1cyg0MDQpLmpzb24oe1xuICAgICAgICBlcnJvcjogJ0VuZHBvaW50IG5vdCBmb3VuZCcsXG4gICAgICAgIHBhdGg6IHJlcS51cmwsXG4gICAgICAgIG1ldGhvZDogcmVxLm1ldGhvZCxcbiAgICAgICAgY29kZTogJ05PVF9GT1VORCdcbiAgICAgIH0pO1xuICAgIH0pO1xuICB9KTtcblxuICBhZnRlckFsbChhc3luYyAoKSA9PiB7XG4gICAgYXdhaXQgbW9uZ29vc2UuZGlzY29ubmVjdCgpO1xuICAgIGlmIChtb25nb1NlcnZlcikge1xuICAgICAgYXdhaXQgbW9uZ29TZXJ2ZXIuc3RvcCgpO1xuICAgIH1cbiAgfSk7XG5cbiAgYmVmb3JlRWFjaChhc3luYyAoKSA9PiB7XG4gICAgYXdhaXQgVXNlci5kZWxldGVNYW55KHt9KTtcbiAgfSk7XG5cbiAgZGVzY3JpYmUoJ2F1dGhlbnRpY2F0ZVRva2VuIE1pZGRsZXdhcmUnLCAoKSA9PiB7XG4gICAgbGV0IHRlc3RVc2VyO1xuICAgIGxldCB2YWxpZFRva2VuO1xuXG4gICAgYmVmb3JlRWFjaChhc3luYyAoKSA9PiB7XG4gICAgICB0ZXN0VXNlciA9IGF3YWl0IG5ldyBVc2VyKHtcbiAgICAgICAgbmlja25hbWU6ICdhdXRodGVzdCcsXG4gICAgICAgIGVtYWlsOiAnYXV0aEBleGFtcGxlLmNvbScsXG4gICAgICAgIHBhc3N3b3JkOiAncGFzc3dvcmQxMjMnXG4gICAgICB9KS5zYXZlKCk7XG5cbiAgICAgIHZhbGlkVG9rZW4gPSBqd3Quc2lnbihcbiAgICAgICAgeyB1c2VySWQ6IHRlc3RVc2VyLl9pZCwgbmlja25hbWU6IHRlc3RVc2VyLm5pY2tuYW1lIH0sXG4gICAgICAgIHByb2Nlc3MuZW52LkpXVF9TRUNSRVQgfHwgJ3Rlc3Qtc2VjcmV0JyxcbiAgICAgICAgeyBleHBpcmVzSW46ICcxaCcgfVxuICAgICAgKTtcbiAgICB9KTtcblxuICAgIGl0KCdzaG91bGQgcGFzcyB3aXRoIHZhbGlkIHRva2VuJywgYXN5bmMgKCkgPT4ge1xuICAgICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCByZXF1ZXN0KGFwcClcbiAgICAgICAgLmdldCgnL3Byb3RlY3RlZCcpXG4gICAgICAgIC5zZXQoJ0F1dGhvcml6YXRpb24nLCBgQmVhcmVyICR7dmFsaWRUb2tlbn1gKVxuICAgICAgICAuZXhwZWN0KDIwMCk7XG5cbiAgICAgIGV4cGVjdChyZXNwb25zZS5ib2R5LnVzZXJJZCkudG9CZSh0ZXN0VXNlci5faWQudG9TdHJpbmcoKSk7XG4gICAgICBleHBlY3QocmVzcG9uc2UuYm9keS5uaWNrbmFtZSkudG9CZSgnYXV0aHRlc3QnKTtcbiAgICB9KTtcblxuICAgIGl0KCdzaG91bGQgcmVqZWN0IHdpdGhvdXQgdG9rZW4nLCBhc3luYyAoKSA9PiB7XG4gICAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IHJlcXVlc3QoYXBwKVxuICAgICAgICAuZ2V0KCcvcHJvdGVjdGVkJylcbiAgICAgICAgLmV4cGVjdCg0MDEpO1xuXG4gICAgICBleHBlY3QocmVzcG9uc2UuYm9keS5jb2RlKS50b0JlKCdOT19UT0tFTicpO1xuICAgICAgZXhwZWN0KHJlc3BvbnNlLmJvZHkuZXJyb3IpLnRvQmUoJ0FjY2VzcyB0b2tlbiByZXF1aXJlZCcpO1xuICAgIH0pO1xuXG4gICAgaXQoJ3Nob3VsZCByZWplY3Qgd2l0aCBpbnZhbGlkIHRva2VuIGZvcm1hdCcsIGFzeW5jICgpID0+IHtcbiAgICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgcmVxdWVzdChhcHApXG4gICAgICAgIC5nZXQoJy9wcm90ZWN0ZWQnKVxuICAgICAgICAuc2V0KCdBdXRob3JpemF0aW9uJywgJ0ludmFsaWRUb2tlbicpXG4gICAgICAgIC5leHBlY3QoNDAxKTtcblxuICAgICAgZXhwZWN0KHJlc3BvbnNlLmJvZHkuY29kZSkudG9CZSgnSU5WQUxJRF9UT0tFTl9GT1JNQVQnKTtcbiAgICB9KTtcblxuICAgIGl0KCdzaG91bGQgcmVqZWN0IHdpdGggZXhwaXJlZCB0b2tlbicsIGFzeW5jICgpID0+IHtcbiAgICAgIGNvbnN0IGV4cGlyZWRUb2tlbiA9IGp3dC5zaWduKFxuICAgICAgICB7IHVzZXJJZDogdGVzdFVzZXIuX2lkLCBuaWNrbmFtZTogdGVzdFVzZXIubmlja25hbWUgfSxcbiAgICAgICAgcHJvY2Vzcy5lbnYuSldUX1NFQ1JFVCB8fCAndGVzdC1zZWNyZXQnLFxuICAgICAgICB7IGV4cGlyZXNJbjogJy0xaCcgfVxuICAgICAgKTtcblxuICAgICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCByZXF1ZXN0KGFwcClcbiAgICAgICAgLmdldCgnL3Byb3RlY3RlZCcpXG4gICAgICAgIC5zZXQoJ0F1dGhvcml6YXRpb24nLCBgQmVhcmVyICR7ZXhwaXJlZFRva2VufWApXG4gICAgICAgIC5leHBlY3QoNDAxKTtcblxuICAgICAgZXhwZWN0KHJlc3BvbnNlLmJvZHkuY29kZSkudG9CZSgnVE9LRU5fRVhQSVJFRCcpO1xuICAgIH0pO1xuXG4gICAgaXQoJ3Nob3VsZCByZWplY3Qgd2l0aCB2YWxpZCB0b2tlbiBidXQgbm9uLWV4aXN0ZW50IHVzZXInLCBhc3luYyAoKSA9PiB7XG4gICAgICAvLyBEZWxldGUgdGhlIHVzZXIgYWZ0ZXIgY3JlYXRpbmcgdG9rZW5cbiAgICAgIGF3YWl0IFVzZXIuZmluZEJ5SWRBbmREZWxldGUodGVzdFVzZXIuX2lkKTtcblxuICAgICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCByZXF1ZXN0KGFwcClcbiAgICAgICAgLmdldCgnL3Byb3RlY3RlZCcpXG4gICAgICAgIC5zZXQoJ0F1dGhvcml6YXRpb24nLCBgQmVhcmVyICR7dmFsaWRUb2tlbn1gKVxuICAgICAgICAuZXhwZWN0KDQwMSk7XG5cbiAgICAgIGV4cGVjdChyZXNwb25zZS5ib2R5LmNvZGUpLnRvQmUoJ1VTRVJfTk9UX0ZPVU5EJyk7XG4gICAgfSk7XG4gIH0pO1xuXG5cbiAgZGVzY3JpYmUoJ0NPUlMgTWlkZGxld2FyZScsICgpID0+IHtcbiAgICBpdCgnc2hvdWxkIGhhbmRsZSBDT1JTIHByZWZsaWdodCByZXF1ZXN0cycsIGFzeW5jICgpID0+IHtcbiAgICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgcmVxdWVzdChhcHApXG4gICAgICAgIC5vcHRpb25zKCcvdGVzdC1jb3JzJylcbiAgICAgICAgLnNldCgnT3JpZ2luJywgJ2h0dHA6Ly9sb2NhbGhvc3Q6MzAwMCcpXG4gICAgICAgIC5zZXQoJ0FjY2Vzcy1Db250cm9sLVJlcXVlc3QtTWV0aG9kJywgJ0dFVCcpXG4gICAgICAgIC5leHBlY3QoMjA0KTtcblxuICAgICAgZXhwZWN0KHJlc3BvbnNlLmhlYWRlcnNbJ2FjY2Vzcy1jb250cm9sLWFsbG93LW9yaWdpbiddKS50b0JlRGVmaW5lZCgpO1xuICAgIH0pO1xuXG4gICAgaXQoJ3Nob3VsZCBpbmNsdWRlIENPUlMgaGVhZGVycyBpbiByZXNwb25zZScsIGFzeW5jICgpID0+IHtcbiAgICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgcmVxdWVzdChhcHApXG4gICAgICAgIC5nZXQoJy90ZXN0LWNvcnMnKVxuICAgICAgICAuc2V0KCdPcmlnaW4nLCAnaHR0cDovL2xvY2FsaG9zdDozMDAwJylcbiAgICAgICAgLmV4cGVjdCgyMDApO1xuXG4gICAgICBleHBlY3QocmVzcG9uc2UuaGVhZGVyc1snYWNjZXNzLWNvbnRyb2wtYWxsb3ctb3JpZ2luJ10pLnRvQmVEZWZpbmVkKCk7XG4gICAgfSk7XG4gIH0pO1xuXG4gIGRlc2NyaWJlKCdIZWxtZXQgU2VjdXJpdHkgSGVhZGVycycsICgpID0+IHtcbiAgICBpdCgnc2hvdWxkIHNldCBzZWN1cml0eSBoZWFkZXJzJywgYXN5bmMgKCkgPT4ge1xuICAgICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCByZXF1ZXN0KGFwcClcbiAgICAgICAgLmdldCgnL3Rlc3QtaGVsbWV0JylcbiAgICAgICAgLmV4cGVjdCgyMDApO1xuXG4gICAgICBleHBlY3QocmVzcG9uc2UuaGVhZGVyc1sneC1mcmFtZS1vcHRpb25zJ10pLnRvQmVEZWZpbmVkKCk7XG4gICAgICBleHBlY3QocmVzcG9uc2UuaGVhZGVyc1sneC1jb250ZW50LXR5cGUtb3B0aW9ucyddKS50b0JlRGVmaW5lZCgpO1xuICAgICAgZXhwZWN0KHJlc3BvbnNlLmhlYWRlcnNbJ2NvbnRlbnQtc2VjdXJpdHktcG9saWN5J10pLnRvQmVEZWZpbmVkKCk7XG4gICAgfSk7XG5cbiAgICBpdCgnc2hvdWxkIGhhdmUgQ1NQIGhlYWRlciBjb25maWd1cmVkJywgYXN5bmMgKCkgPT4ge1xuICAgICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCByZXF1ZXN0KGFwcClcbiAgICAgICAgLmdldCgnL3Rlc3QtaGVsbWV0JylcbiAgICAgICAgLmV4cGVjdCgyMDApO1xuXG4gICAgICBjb25zdCBjc3BIZWFkZXIgPSByZXNwb25zZS5oZWFkZXJzWydjb250ZW50LXNlY3VyaXR5LXBvbGljeSddO1xuICAgICAgZXhwZWN0KGNzcEhlYWRlcikudG9Db250YWluKFwiZGVmYXVsdC1zcmMgJ3NlbGYnXCIpO1xuICAgICAgZXhwZWN0KGNzcEhlYWRlcikudG9Db250YWluKFwic2NyaXB0LXNyYyAnc2VsZicgJ3Vuc2FmZS1pbmxpbmUnXCIpO1xuICAgIH0pO1xuICB9KTtcblxuICBkZXNjcmliZSgnRXJyb3IgSGFuZGxlciBNaWRkbGV3YXJlJywgKCkgPT4ge1xuICAgIGl0KCdzaG91bGQgaGFuZGxlIHZhbGlkYXRpb24gZXJyb3JzJywgYXN5bmMgKCkgPT4ge1xuICAgICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCByZXF1ZXN0KGFwcClcbiAgICAgICAgLnBvc3QoJy92YWxpZGF0aW9uLXRlc3QnKVxuICAgICAgICAuc2VuZCh7IG5pY2tuYW1lOiAnYWInLCBlbWFpbDogJ2ludmFsaWQtZW1haWwnIH0pXG4gICAgICAgIC5leHBlY3QoNDAwKTtcblxuICAgICAgZXhwZWN0KHJlc3BvbnNlLmJvZHkuZXJyb3JzKS50b0JlRGVmaW5lZCgpO1xuICAgICAgZXhwZWN0KEFycmF5LmlzQXJyYXkocmVzcG9uc2UuYm9keS5lcnJvcnMpKS50b0JlKHRydWUpO1xuICAgIH0pO1xuXG4gICAgaXQoJ3Nob3VsZCBoYW5kbGUgZHVwbGljYXRlIGtleSBlcnJvcnMnLCBhc3luYyAoKSA9PiB7XG4gICAgICAvLyBDcmVhdGUgdXNlciBmaXJzdFxuICAgICAgYXdhaXQgbmV3IFVzZXIoe1xuICAgICAgICBuaWNrbmFtZTogJ2R1cGxpY2F0ZXVzZXInLFxuICAgICAgICBlbWFpbDogJ2R1cGxpY2F0ZUBleGFtcGxlLmNvbScsXG4gICAgICAgIHBhc3N3b3JkOiAncGFzc3dvcmQxMjMnXG4gICAgICB9KS5zYXZlKCk7XG5cbiAgICAgIC8vIFRyeSB0byBjcmVhdGUgYW5vdGhlciB3aXRoIHNhbWUgZGF0YVxuICAgICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCByZXF1ZXN0KGFwcClcbiAgICAgICAgLnBvc3QoJy9kdXBsaWNhdGUtdGVzdCcpXG4gICAgICAgIC5zZW5kKHtcbiAgICAgICAgICBuaWNrbmFtZTogJ2R1cGxpY2F0ZXVzZXInLFxuICAgICAgICAgIGVtYWlsOiAnZHVwbGljYXRlQGV4YW1wbGUuY29tJ1xuICAgICAgICB9KVxuICAgICAgICAuZXhwZWN0KDQwOSk7XG5cbiAgICAgIGV4cGVjdChyZXNwb25zZS5ib2R5LmNvZGUpLnRvQmUoJ0RVUExJQ0FURV9FUlJPUicpO1xuICAgICAgZXhwZWN0KHJlc3BvbnNlLmJvZHkuZXJyb3IpLnRvQ29udGFpbignYWxyZWFkeSBleGlzdHMnKTtcbiAgICB9KTtcblxuICAgIGl0KCdzaG91bGQgaGFuZGxlIDQwNCBlcnJvcnMnLCBhc3luYyAoKSA9PiB7XG4gICAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IHJlcXVlc3QoYXBwKVxuICAgICAgICAuZ2V0KCcvbm9uZXhpc3RlbnQtcm91dGUnKVxuICAgICAgICAuZXhwZWN0KDQwNCk7XG5cbiAgICAgIGV4cGVjdChyZXNwb25zZS5ib2R5LmNvZGUpLnRvQmUoJ05PVF9GT1VORCcpO1xuICAgICAgZXhwZWN0KHJlc3BvbnNlLmJvZHkucGF0aCkudG9CZSgnL25vbmV4aXN0ZW50LXJvdXRlJyk7XG4gICAgfSk7XG5cbiAgICBpdCgnc2hvdWxkIGhhbmRsZSBnZW5lcmFsIHNlcnZlciBlcnJvcnMnLCBhc3luYyAoKSA9PiB7XG4gICAgICAvLyBDcmVhdGUgYSByb3V0ZSB0aGF0IHdpbGwgdGhyb3cgYW4gZXJyb3JcbiAgICAgIGFwcC5nZXQoJy9lcnJvci10ZXN0JywgKHJlcSwgcmVzKSA9PiB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcignVGVzdCBlcnJvcicpO1xuICAgICAgfSk7XG5cbiAgICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgcmVxdWVzdChhcHApXG4gICAgICAgIC5nZXQoJy9lcnJvci10ZXN0JylcbiAgICAgICAgLmV4cGVjdCg1MDApO1xuXG4gICAgICBleHBlY3QocmVzcG9uc2UuYm9keS5jb2RlKS50b0JlKCdJTlRFUk5BTF9FUlJPUicpO1xuICAgICAgZXhwZWN0KHJlc3BvbnNlLmJvZHkuZXJyb3IpLnRvQmUoJ0ludGVybmFsIHNlcnZlciBlcnJvcicpO1xuICAgIH0pO1xuICB9KTtcblxuICBkZXNjcmliZSgnUmVxdWVzdCBMb2dnaW5nIE1pZGRsZXdhcmUnLCAoKSA9PiB7XG4gICAgaXQoJ3Nob3VsZCBsb2cgcmVxdWVzdCB0aW1pbmcnLCBhc3luYyAoKSA9PiB7XG4gICAgICBjb25zdCBzdGFydFRpbWUgPSBEYXRlLm5vdygpO1xuXG4gICAgICBhd2FpdCByZXF1ZXN0KGFwcClcbiAgICAgICAgLmdldCgnL3Rlc3QtaGVsbWV0JylcbiAgICAgICAgLmV4cGVjdCgyMDApO1xuXG4gICAgICBjb25zdCBlbmRUaW1lID0gRGF0ZS5ub3coKTtcbiAgICAgIGV4cGVjdChlbmRUaW1lIC0gc3RhcnRUaW1lKS50b0JlR3JlYXRlclRoYW5PckVxdWFsKDApO1xuICAgIH0pO1xuICB9KTtcbn0pOyJdLCJtYXBwaW5ncyI6IkFBQUEsTUFBTUEsT0FBTyxHQUFHQyxPQUFPLENBQUMsV0FBVyxDQUFDO0FBQ3BDLE1BQU1DLEdBQUcsR0FBR0QsT0FBTyxDQUFDLGNBQWMsQ0FBQztBQUNuQyxNQUFNRSxRQUFRLEdBQUdGLE9BQU8sQ0FBQyxVQUFVLENBQUM7QUFDcEMsTUFBTTtFQUFFRztBQUFrQixDQUFDLEdBQUdILE9BQU8sQ0FBQyx1QkFBdUIsQ0FBQzs7QUFFOUQ7QUFDQSxNQUFNSSxPQUFPLEdBQUdKLE9BQU8sQ0FBQyxTQUFTLENBQUM7QUFDbEMsTUFBTUssSUFBSSxHQUFHTCxPQUFPLENBQUMsTUFBTSxDQUFDO0FBQzVCLE1BQU1NLE1BQU0sR0FBR04sT0FBTyxDQUFDLFFBQVEsQ0FBQztBQUNoQyxNQUFNO0VBQUVPLElBQUk7RUFBRUM7QUFBaUIsQ0FBQyxHQUFHUixPQUFPLENBQUMsbUJBQW1CLENBQUM7QUFDL0QsTUFBTVMsSUFBSSxHQUFHVCxPQUFPLENBQUMsbUJBQW1CLENBQUM7QUFFekMsSUFBSVUsV0FBVztBQUNmLElBQUlDLEdBQUc7QUFFUEMsUUFBUSxDQUFDLGtCQUFrQixFQUFFLE1BQU07RUFDakNDLFNBQVMsQ0FBQyxZQUFZO0lBQ3BCO0lBQ0FILFdBQVcsR0FBRyxNQUFNUCxpQkFBaUIsQ0FBQ1csTUFBTSxDQUFDO01BQUVDLE1BQU0sRUFBRTtRQUFFQyxPQUFPLEVBQUU7TUFBUTtJQUFFLENBQUMsQ0FBQztJQUM5RSxNQUFNQyxRQUFRLEdBQUdQLFdBQVcsQ0FBQ1EsTUFBTSxDQUFDLENBQUM7SUFDckMsTUFBTWhCLFFBQVEsQ0FBQ2lCLE9BQU8sQ0FBQ0YsUUFBUSxDQUFDOztJQUVoQztJQUNBTixHQUFHLEdBQUdQLE9BQU8sQ0FBQyxDQUFDOztJQUVmO0lBQ0FPLEdBQUcsQ0FBQ1MsR0FBRyxDQUFDZixJQUFJLENBQUMsQ0FBQyxDQUFDO0lBQ2ZNLEdBQUcsQ0FBQ1MsR0FBRyxDQUFDaEIsT0FBTyxDQUFDaUIsSUFBSSxDQUFDO01BQUVDLEtBQUssRUFBRTtJQUFPLENBQUMsQ0FBQyxDQUFDO0lBQ3hDWCxHQUFHLENBQUNTLEdBQUcsQ0FBQ2QsTUFBTSxDQUFDO01BQ2JpQixxQkFBcUIsRUFBRTtRQUNyQkMsVUFBVSxFQUFFO1VBQ1ZDLFVBQVUsRUFBRSxDQUFDLFFBQVEsQ0FBQztVQUN0QkMsUUFBUSxFQUFFLENBQUMsUUFBUSxFQUFFLGlCQUFpQixFQUFFLDhCQUE4QixDQUFDO1VBQ3ZFQyxPQUFPLEVBQUUsQ0FBQyxRQUFRLEVBQUUsMkJBQTJCLENBQUM7VUFDaERDLE1BQU0sRUFBRSxDQUFDLFFBQVEsRUFBRSxPQUFPLENBQUM7VUFDM0JDLFNBQVMsRUFBRSxDQUFDLFFBQVEsRUFBRSxpQkFBaUIsQ0FBQztVQUN4Q0MsVUFBVSxFQUFFLENBQUMsUUFBUTtRQUN2QjtNQUNGLENBQUM7TUFDREMseUJBQXlCLEVBQUU7SUFDN0IsQ0FBQyxDQUFDLENBQUM7O0lBRUg7SUFDQSxNQUFNQyxZQUFZLEdBQUdBLENBQUNDLEdBQUcsRUFBRUMsR0FBRyxFQUFFQyxHQUFHLEVBQUVDLElBQUksS0FBSztNQUM1Q0MsT0FBTyxDQUFDQyxLQUFLLENBQUMsa0JBQWtCLEVBQUVMLEdBQUcsQ0FBQ00sT0FBTyxDQUFDO01BQzlDLElBQUlOLEdBQUcsQ0FBQ08sSUFBSSxLQUFLLGlCQUFpQixFQUFFO1FBQ2xDLE1BQU1DLE1BQU0sR0FBR0MsTUFBTSxDQUFDQyxNQUFNLENBQUNWLEdBQUcsQ0FBQ1EsTUFBTSxDQUFDLENBQUNHLEdBQUcsQ0FBQ0MsQ0FBQyxLQUFLO1VBQ2pEQyxLQUFLLEVBQUVELENBQUMsQ0FBQ0UsSUFBSTtVQUNiUixPQUFPLEVBQUVNLENBQUMsQ0FBQ04sT0FBTztVQUNsQlMsS0FBSyxFQUFFSCxDQUFDLENBQUNHO1FBQ1gsQ0FBQyxDQUFDLENBQUM7UUFDSCxPQUFPYixHQUFHLENBQUNjLE1BQU0sQ0FBQyxHQUFHLENBQUMsQ0FBQzVCLElBQUksQ0FBQztVQUMxQmlCLEtBQUssRUFBRSxtQkFBbUI7VUFDMUJZLE9BQU8sRUFBRVQsTUFBTTtVQUNmVSxJQUFJLEVBQUU7UUFDUixDQUFDLENBQUM7TUFDSjtNQUNBLElBQUlsQixHQUFHLENBQUNrQixJQUFJLEtBQUssS0FBSyxFQUFFO1FBQ3RCLE1BQU1MLEtBQUssR0FBR0osTUFBTSxDQUFDVSxJQUFJLENBQUNuQixHQUFHLENBQUNvQixRQUFRLENBQUMsQ0FBQyxDQUFDLENBQUM7UUFDMUMsTUFBTUwsS0FBSyxHQUFHZixHQUFHLENBQUNvQixRQUFRLENBQUNQLEtBQUssQ0FBQztRQUNqQyxPQUFPWCxHQUFHLENBQUNjLE1BQU0sQ0FBQyxHQUFHLENBQUMsQ0FBQzVCLElBQUksQ0FBQztVQUMxQmlCLEtBQUssRUFBRSxHQUFHUSxLQUFLLEtBQUtFLEtBQUssa0JBQWtCO1VBQzNDRyxJQUFJLEVBQUU7UUFDUixDQUFDLENBQUM7TUFDSjtNQUNBaEIsR0FBRyxDQUFDYyxNQUFNLENBQUMsR0FBRyxDQUFDLENBQUM1QixJQUFJLENBQUM7UUFDbkJpQixLQUFLLEVBQUUsdUJBQXVCO1FBQzlCYSxJQUFJLEVBQUU7TUFDUixDQUFDLENBQUM7SUFDSixDQUFDOztJQUVEO0lBQ0EsTUFBTUcsaUJBQWlCLEdBQUcsTUFBQUEsQ0FBT3BCLEdBQUcsRUFBRUMsR0FBRyxFQUFFQyxJQUFJLEtBQUs7TUFDbEQsSUFBSTtRQUNGLE1BQU1tQixVQUFVLEdBQUdyQixHQUFHLENBQUNzQixPQUFPLENBQUMsZUFBZSxDQUFDO1FBQy9DLE1BQU1DLEtBQUssR0FBR0YsVUFBVSxJQUFJQSxVQUFVLENBQUNHLEtBQUssQ0FBQyxHQUFHLENBQUMsQ0FBQyxDQUFDLENBQUM7UUFDcEQsSUFBSSxDQUFDRCxLQUFLLEVBQUU7VUFDVixPQUFPdEIsR0FBRyxDQUFDYyxNQUFNLENBQUMsR0FBRyxDQUFDLENBQUM1QixJQUFJLENBQUM7WUFDMUJpQixLQUFLLEVBQUUsdUJBQXVCO1lBQzlCYSxJQUFJLEVBQUU7VUFDUixDQUFDLENBQUM7UUFDSjtRQUNBLE1BQU1RLE9BQU8sR0FBRzFELEdBQUcsQ0FBQzJELE1BQU0sQ0FBQ0gsS0FBSyxFQUFFSSxPQUFPLENBQUNDLEdBQUcsQ0FBQ0MsVUFBVSxJQUFJLGFBQWEsQ0FBQztRQUMxRSxNQUFNQyxJQUFJLEdBQUcsTUFBTXZELElBQUksQ0FBQ3dELFFBQVEsQ0FBQ04sT0FBTyxDQUFDTyxNQUFNLENBQUM7UUFDaEQsSUFBSSxDQUFDRixJQUFJLEVBQUU7VUFDVCxPQUFPN0IsR0FBRyxDQUFDYyxNQUFNLENBQUMsR0FBRyxDQUFDLENBQUM1QixJQUFJLENBQUM7WUFDMUJpQixLQUFLLEVBQUUsZ0JBQWdCO1lBQ3ZCYSxJQUFJLEVBQUU7VUFDUixDQUFDLENBQUM7UUFDSjtRQUNBakIsR0FBRyxDQUFDOEIsSUFBSSxHQUFHQSxJQUFJO1FBQ2Y1QixJQUFJLENBQUMsQ0FBQztNQUNSLENBQUMsQ0FBQyxPQUFPRSxLQUFLLEVBQUU7UUFDZCxJQUFJQSxLQUFLLENBQUNFLElBQUksS0FBSyxtQkFBbUIsRUFBRTtVQUN0QyxPQUFPTCxHQUFHLENBQUNjLE1BQU0sQ0FBQyxHQUFHLENBQUMsQ0FBQzVCLElBQUksQ0FBQztZQUMxQmlCLEtBQUssRUFBRSxzQkFBc0I7WUFDN0JhLElBQUksRUFBRTtVQUNSLENBQUMsQ0FBQztRQUNKO1FBQ0EsSUFBSWIsS0FBSyxDQUFDRSxJQUFJLEtBQUssbUJBQW1CLEVBQUU7VUFDdEMsT0FBT0wsR0FBRyxDQUFDYyxNQUFNLENBQUMsR0FBRyxDQUFDLENBQUM1QixJQUFJLENBQUM7WUFDMUJpQixLQUFLLEVBQUUsbUJBQW1CO1lBQzFCYSxJQUFJLEVBQUU7VUFDUixDQUFDLENBQUM7UUFDSjtRQUNBLE9BQU9oQixHQUFHLENBQUNjLE1BQU0sQ0FBQyxHQUFHLENBQUMsQ0FBQzVCLElBQUksQ0FBQztVQUMxQmlCLEtBQUssRUFBRSwyQkFBMkI7VUFDbENhLElBQUksRUFBRTtRQUNSLENBQUMsQ0FBQztNQUNKO0lBQ0YsQ0FBQzs7SUFFRDtJQUNBeEMsR0FBRyxDQUFDUyxHQUFHLENBQUMsQ0FBQ2MsR0FBRyxFQUFFQyxHQUFHLEVBQUVDLElBQUksS0FBSztNQUMxQixNQUFNK0IsS0FBSyxHQUFHQyxJQUFJLENBQUNDLEdBQUcsQ0FBQyxDQUFDO01BQ3hCbEMsR0FBRyxDQUFDbUMsRUFBRSxDQUFDLFFBQVEsRUFBRSxNQUFNO1FBQ3JCLE1BQU1DLFFBQVEsR0FBR0gsSUFBSSxDQUFDQyxHQUFHLENBQUMsQ0FBQyxHQUFHRixLQUFLO1FBQ25DOUIsT0FBTyxDQUFDbUMsR0FBRyxDQUFDLEdBQUd0QyxHQUFHLENBQUN1QyxNQUFNLElBQUl2QyxHQUFHLENBQUN3QyxHQUFHLE1BQU12QyxHQUFHLENBQUN3QyxVQUFVLEtBQUtKLFFBQVEsS0FBSyxDQUFDO01BQzdFLENBQUMsQ0FBQztNQUNGbkMsSUFBSSxDQUFDLENBQUM7SUFDUixDQUFDLENBQUM7O0lBRUY7SUFDQXpCLEdBQUcsQ0FBQ2lFLEdBQUcsQ0FBQyxZQUFZLEVBQUV0QixpQkFBaUIsRUFBRSxDQUFDcEIsR0FBRyxFQUFFQyxHQUFHLEtBQUs7TUFDckRBLEdBQUcsQ0FBQ2QsSUFBSSxDQUFDO1FBQUU2QyxNQUFNLEVBQUVoQyxHQUFHLENBQUM4QixJQUFJLENBQUNhLEdBQUc7UUFBRUMsUUFBUSxFQUFFNUMsR0FBRyxDQUFDOEIsSUFBSSxDQUFDYztNQUFTLENBQUMsQ0FBQztJQUNqRSxDQUFDLENBQUM7SUFFRm5FLEdBQUcsQ0FBQ29FLElBQUksQ0FBQyxrQkFBa0IsRUFBRSxDQUMzQnhFLElBQUksQ0FBQyxVQUFVLENBQUMsQ0FBQ3lFLFFBQVEsQ0FBQztNQUFFQyxHQUFHLEVBQUUsQ0FBQztNQUFFQyxHQUFHLEVBQUU7SUFBRyxDQUFDLENBQUMsQ0FBQ0MsSUFBSSxDQUFDLENBQUMsQ0FBQ0MsTUFBTSxDQUFDLENBQUMsRUFDOUQ3RSxJQUFJLENBQUMsT0FBTyxDQUFDLENBQUM4RSxPQUFPLENBQUMsQ0FBQyxDQUFDQyxjQUFjLENBQUMsQ0FBQyxDQUN6QyxFQUFFLENBQUNwRCxHQUFHLEVBQUVDLEdBQUcsS0FBSztNQUNmLE1BQU1NLE1BQU0sR0FBR2pDLGdCQUFnQixDQUFDMEIsR0FBRyxDQUFDO01BQ3BDLElBQUksQ0FBQ08sTUFBTSxDQUFDOEMsT0FBTyxDQUFDLENBQUMsRUFBRTtRQUNyQixPQUFPcEQsR0FBRyxDQUFDYyxNQUFNLENBQUMsR0FBRyxDQUFDLENBQUM1QixJQUFJLENBQUM7VUFBRW9CLE1BQU0sRUFBRUEsTUFBTSxDQUFDK0MsS0FBSyxDQUFDO1FBQUUsQ0FBQyxDQUFDO01BQ3pEO01BQ0FyRCxHQUFHLENBQUNkLElBQUksQ0FBQztRQUFFb0UsT0FBTyxFQUFFLElBQUk7UUFBRUMsSUFBSSxFQUFFeEQsR0FBRyxDQUFDM0I7TUFBSyxDQUFDLENBQUM7SUFDN0MsQ0FBQyxDQUFDO0lBRUZJLEdBQUcsQ0FBQ29FLElBQUksQ0FBQyxpQkFBaUIsRUFBRSxPQUFPN0MsR0FBRyxFQUFFQyxHQUFHLEtBQUs7TUFDOUMsSUFBSTtRQUNGLE1BQU02QixJQUFJLEdBQUcsSUFBSXZELElBQUksQ0FBQztVQUNwQnFFLFFBQVEsRUFBRTVDLEdBQUcsQ0FBQzNCLElBQUksQ0FBQ3VFLFFBQVE7VUFDM0JhLEtBQUssRUFBRXpELEdBQUcsQ0FBQzNCLElBQUksQ0FBQ29GLEtBQUs7VUFDckJDLFFBQVEsRUFBRTtRQUNaLENBQUMsQ0FBQztRQUNGLE1BQU01QixJQUFJLENBQUM2QixJQUFJLENBQUMsQ0FBQztRQUNqQjFELEdBQUcsQ0FBQ2MsTUFBTSxDQUFDLEdBQUcsQ0FBQyxDQUFDNUIsSUFBSSxDQUFDO1VBQUUyQztRQUFLLENBQUMsQ0FBQztNQUNoQyxDQUFDLENBQUMsT0FBTzFCLEtBQUssRUFBRTtRQUNkO1FBQ0EsTUFBTUEsS0FBSztNQUNiO0lBQ0YsQ0FBQyxDQUFDO0lBRUYzQixHQUFHLENBQUNpRSxHQUFHLENBQUMsWUFBWSxFQUFFLENBQUMxQyxHQUFHLEVBQUVDLEdBQUcsS0FBSztNQUNsQ0EsR0FBRyxDQUFDZCxJQUFJLENBQUM7UUFBRWhCLElBQUksRUFBRTtNQUFVLENBQUMsQ0FBQztJQUMvQixDQUFDLENBQUM7SUFFRk0sR0FBRyxDQUFDaUUsR0FBRyxDQUFDLGNBQWMsRUFBRSxDQUFDMUMsR0FBRyxFQUFFQyxHQUFHLEtBQUs7TUFDcENBLEdBQUcsQ0FBQ2QsSUFBSSxDQUFDO1FBQUVmLE1BQU0sRUFBRTtNQUFVLENBQUMsQ0FBQztJQUNqQyxDQUFDLENBQUM7O0lBRUY7SUFDQUssR0FBRyxDQUFDUyxHQUFHLENBQUNZLFlBQVksQ0FBQzs7SUFFckI7SUFDQXJCLEdBQUcsQ0FBQ1MsR0FBRyxDQUFDLENBQUNjLEdBQUcsRUFBRUMsR0FBRyxLQUFLO01BQ3BCQSxHQUFHLENBQUNjLE1BQU0sQ0FBQyxHQUFHLENBQUMsQ0FBQzVCLElBQUksQ0FBQztRQUNuQmlCLEtBQUssRUFBRSxvQkFBb0I7UUFDM0JTLElBQUksRUFBRWIsR0FBRyxDQUFDd0MsR0FBRztRQUNiRCxNQUFNLEVBQUV2QyxHQUFHLENBQUN1QyxNQUFNO1FBQ2xCdEIsSUFBSSxFQUFFO01BQ1IsQ0FBQyxDQUFDO0lBQ0osQ0FBQyxDQUFDO0VBQ0osQ0FBQyxDQUFDO0VBRUYyQyxRQUFRLENBQUMsWUFBWTtJQUNuQixNQUFNNUYsUUFBUSxDQUFDNkYsVUFBVSxDQUFDLENBQUM7SUFDM0IsSUFBSXJGLFdBQVcsRUFBRTtNQUNmLE1BQU1BLFdBQVcsQ0FBQ3NGLElBQUksQ0FBQyxDQUFDO0lBQzFCO0VBQ0YsQ0FBQyxDQUFDO0VBRUZDLFVBQVUsQ0FBQyxZQUFZO0lBQ3JCLE1BQU14RixJQUFJLENBQUN5RixVQUFVLENBQUMsQ0FBQyxDQUFDLENBQUM7RUFDM0IsQ0FBQyxDQUFDO0VBRUZ0RixRQUFRLENBQUMsOEJBQThCLEVBQUUsTUFBTTtJQUM3QyxJQUFJdUYsUUFBUTtJQUNaLElBQUlDLFVBQVU7SUFFZEgsVUFBVSxDQUFDLFlBQVk7TUFDckJFLFFBQVEsR0FBRyxNQUFNLElBQUkxRixJQUFJLENBQUM7UUFDeEJxRSxRQUFRLEVBQUUsVUFBVTtRQUNwQmEsS0FBSyxFQUFFLGtCQUFrQjtRQUN6QkMsUUFBUSxFQUFFO01BQ1osQ0FBQyxDQUFDLENBQUNDLElBQUksQ0FBQyxDQUFDO01BRVRPLFVBQVUsR0FBR25HLEdBQUcsQ0FBQ29HLElBQUksQ0FDbkI7UUFBRW5DLE1BQU0sRUFBRWlDLFFBQVEsQ0FBQ3RCLEdBQUc7UUFBRUMsUUFBUSxFQUFFcUIsUUFBUSxDQUFDckI7TUFBUyxDQUFDLEVBQ3JEakIsT0FBTyxDQUFDQyxHQUFHLENBQUNDLFVBQVUsSUFBSSxhQUFhLEVBQ3ZDO1FBQUV1QyxTQUFTLEVBQUU7TUFBSyxDQUNwQixDQUFDO0lBQ0gsQ0FBQyxDQUFDO0lBRUZDLEVBQUUsQ0FBQyw4QkFBOEIsRUFBRSxZQUFZO01BQzdDLE1BQU1DLFFBQVEsR0FBRyxNQUFNekcsT0FBTyxDQUFDWSxHQUFHLENBQUMsQ0FDaENpRSxHQUFHLENBQUMsWUFBWSxDQUFDLENBQ2pCNkIsR0FBRyxDQUFDLGVBQWUsRUFBRSxVQUFVTCxVQUFVLEVBQUUsQ0FBQyxDQUM1Q00sTUFBTSxDQUFDLEdBQUcsQ0FBQztNQUVkQSxNQUFNLENBQUNGLFFBQVEsQ0FBQ2pHLElBQUksQ0FBQzJELE1BQU0sQ0FBQyxDQUFDeUMsSUFBSSxDQUFDUixRQUFRLENBQUN0QixHQUFHLENBQUMrQixRQUFRLENBQUMsQ0FBQyxDQUFDO01BQzFERixNQUFNLENBQUNGLFFBQVEsQ0FBQ2pHLElBQUksQ0FBQ3VFLFFBQVEsQ0FBQyxDQUFDNkIsSUFBSSxDQUFDLFVBQVUsQ0FBQztJQUNqRCxDQUFDLENBQUM7SUFFRkosRUFBRSxDQUFDLDZCQUE2QixFQUFFLFlBQVk7TUFDNUMsTUFBTUMsUUFBUSxHQUFHLE1BQU16RyxPQUFPLENBQUNZLEdBQUcsQ0FBQyxDQUNoQ2lFLEdBQUcsQ0FBQyxZQUFZLENBQUMsQ0FDakI4QixNQUFNLENBQUMsR0FBRyxDQUFDO01BRWRBLE1BQU0sQ0FBQ0YsUUFBUSxDQUFDakcsSUFBSSxDQUFDNEMsSUFBSSxDQUFDLENBQUN3RCxJQUFJLENBQUMsVUFBVSxDQUFDO01BQzNDRCxNQUFNLENBQUNGLFFBQVEsQ0FBQ2pHLElBQUksQ0FBQytCLEtBQUssQ0FBQyxDQUFDcUUsSUFBSSxDQUFDLHVCQUF1QixDQUFDO0lBQzNELENBQUMsQ0FBQztJQUVGSixFQUFFLENBQUMseUNBQXlDLEVBQUUsWUFBWTtNQUN4RCxNQUFNQyxRQUFRLEdBQUcsTUFBTXpHLE9BQU8sQ0FBQ1ksR0FBRyxDQUFDLENBQ2hDaUUsR0FBRyxDQUFDLFlBQVksQ0FBQyxDQUNqQjZCLEdBQUcsQ0FBQyxlQUFlLEVBQUUsY0FBYyxDQUFDLENBQ3BDQyxNQUFNLENBQUMsR0FBRyxDQUFDO01BRWRBLE1BQU0sQ0FBQ0YsUUFBUSxDQUFDakcsSUFBSSxDQUFDNEMsSUFBSSxDQUFDLENBQUN3RCxJQUFJLENBQUMsc0JBQXNCLENBQUM7SUFDekQsQ0FBQyxDQUFDO0lBRUZKLEVBQUUsQ0FBQyxrQ0FBa0MsRUFBRSxZQUFZO01BQ2pELE1BQU1NLFlBQVksR0FBRzVHLEdBQUcsQ0FBQ29HLElBQUksQ0FDM0I7UUFBRW5DLE1BQU0sRUFBRWlDLFFBQVEsQ0FBQ3RCLEdBQUc7UUFBRUMsUUFBUSxFQUFFcUIsUUFBUSxDQUFDckI7TUFBUyxDQUFDLEVBQ3JEakIsT0FBTyxDQUFDQyxHQUFHLENBQUNDLFVBQVUsSUFBSSxhQUFhLEVBQ3ZDO1FBQUV1QyxTQUFTLEVBQUU7TUFBTSxDQUNyQixDQUFDO01BRUQsTUFBTUUsUUFBUSxHQUFHLE1BQU16RyxPQUFPLENBQUNZLEdBQUcsQ0FBQyxDQUNoQ2lFLEdBQUcsQ0FBQyxZQUFZLENBQUMsQ0FDakI2QixHQUFHLENBQUMsZUFBZSxFQUFFLFVBQVVJLFlBQVksRUFBRSxDQUFDLENBQzlDSCxNQUFNLENBQUMsR0FBRyxDQUFDO01BRWRBLE1BQU0sQ0FBQ0YsUUFBUSxDQUFDakcsSUFBSSxDQUFDNEMsSUFBSSxDQUFDLENBQUN3RCxJQUFJLENBQUMsZUFBZSxDQUFDO0lBQ2xELENBQUMsQ0FBQztJQUVGSixFQUFFLENBQUMsc0RBQXNELEVBQUUsWUFBWTtNQUNyRTtNQUNBLE1BQU05RixJQUFJLENBQUNxRyxpQkFBaUIsQ0FBQ1gsUUFBUSxDQUFDdEIsR0FBRyxDQUFDO01BRTFDLE1BQU0yQixRQUFRLEdBQUcsTUFBTXpHLE9BQU8sQ0FBQ1ksR0FBRyxDQUFDLENBQ2hDaUUsR0FBRyxDQUFDLFlBQVksQ0FBQyxDQUNqQjZCLEdBQUcsQ0FBQyxlQUFlLEVBQUUsVUFBVUwsVUFBVSxFQUFFLENBQUMsQ0FDNUNNLE1BQU0sQ0FBQyxHQUFHLENBQUM7TUFFZEEsTUFBTSxDQUFDRixRQUFRLENBQUNqRyxJQUFJLENBQUM0QyxJQUFJLENBQUMsQ0FBQ3dELElBQUksQ0FBQyxnQkFBZ0IsQ0FBQztJQUNuRCxDQUFDLENBQUM7RUFDSixDQUFDLENBQUM7RUFHRi9GLFFBQVEsQ0FBQyxpQkFBaUIsRUFBRSxNQUFNO0lBQ2hDMkYsRUFBRSxDQUFDLHVDQUF1QyxFQUFFLFlBQVk7TUFDdEQsTUFBTUMsUUFBUSxHQUFHLE1BQU16RyxPQUFPLENBQUNZLEdBQUcsQ0FBQyxDQUNoQ29HLE9BQU8sQ0FBQyxZQUFZLENBQUMsQ0FDckJOLEdBQUcsQ0FBQyxRQUFRLEVBQUUsdUJBQXVCLENBQUMsQ0FDdENBLEdBQUcsQ0FBQywrQkFBK0IsRUFBRSxLQUFLLENBQUMsQ0FDM0NDLE1BQU0sQ0FBQyxHQUFHLENBQUM7TUFFZEEsTUFBTSxDQUFDRixRQUFRLENBQUNoRCxPQUFPLENBQUMsNkJBQTZCLENBQUMsQ0FBQyxDQUFDd0QsV0FBVyxDQUFDLENBQUM7SUFDdkUsQ0FBQyxDQUFDO0lBRUZULEVBQUUsQ0FBQyx5Q0FBeUMsRUFBRSxZQUFZO01BQ3hELE1BQU1DLFFBQVEsR0FBRyxNQUFNekcsT0FBTyxDQUFDWSxHQUFHLENBQUMsQ0FDaENpRSxHQUFHLENBQUMsWUFBWSxDQUFDLENBQ2pCNkIsR0FBRyxDQUFDLFFBQVEsRUFBRSx1QkFBdUIsQ0FBQyxDQUN0Q0MsTUFBTSxDQUFDLEdBQUcsQ0FBQztNQUVkQSxNQUFNLENBQUNGLFFBQVEsQ0FBQ2hELE9BQU8sQ0FBQyw2QkFBNkIsQ0FBQyxDQUFDLENBQUN3RCxXQUFXLENBQUMsQ0FBQztJQUN2RSxDQUFDLENBQUM7RUFDSixDQUFDLENBQUM7RUFFRnBHLFFBQVEsQ0FBQyx5QkFBeUIsRUFBRSxNQUFNO0lBQ3hDMkYsRUFBRSxDQUFDLDZCQUE2QixFQUFFLFlBQVk7TUFDNUMsTUFBTUMsUUFBUSxHQUFHLE1BQU16RyxPQUFPLENBQUNZLEdBQUcsQ0FBQyxDQUNoQ2lFLEdBQUcsQ0FBQyxjQUFjLENBQUMsQ0FDbkI4QixNQUFNLENBQUMsR0FBRyxDQUFDO01BRWRBLE1BQU0sQ0FBQ0YsUUFBUSxDQUFDaEQsT0FBTyxDQUFDLGlCQUFpQixDQUFDLENBQUMsQ0FBQ3dELFdBQVcsQ0FBQyxDQUFDO01BQ3pETixNQUFNLENBQUNGLFFBQVEsQ0FBQ2hELE9BQU8sQ0FBQyx3QkFBd0IsQ0FBQyxDQUFDLENBQUN3RCxXQUFXLENBQUMsQ0FBQztNQUNoRU4sTUFBTSxDQUFDRixRQUFRLENBQUNoRCxPQUFPLENBQUMseUJBQXlCLENBQUMsQ0FBQyxDQUFDd0QsV0FBVyxDQUFDLENBQUM7SUFDbkUsQ0FBQyxDQUFDO0lBRUZULEVBQUUsQ0FBQyxtQ0FBbUMsRUFBRSxZQUFZO01BQ2xELE1BQU1DLFFBQVEsR0FBRyxNQUFNekcsT0FBTyxDQUFDWSxHQUFHLENBQUMsQ0FDaENpRSxHQUFHLENBQUMsY0FBYyxDQUFDLENBQ25COEIsTUFBTSxDQUFDLEdBQUcsQ0FBQztNQUVkLE1BQU1PLFNBQVMsR0FBR1QsUUFBUSxDQUFDaEQsT0FBTyxDQUFDLHlCQUF5QixDQUFDO01BQzdEa0QsTUFBTSxDQUFDTyxTQUFTLENBQUMsQ0FBQ0MsU0FBUyxDQUFDLG9CQUFvQixDQUFDO01BQ2pEUixNQUFNLENBQUNPLFNBQVMsQ0FBQyxDQUFDQyxTQUFTLENBQUMsbUNBQW1DLENBQUM7SUFDbEUsQ0FBQyxDQUFDO0VBQ0osQ0FBQyxDQUFDO0VBRUZ0RyxRQUFRLENBQUMsMEJBQTBCLEVBQUUsTUFBTTtJQUN6QzJGLEVBQUUsQ0FBQyxpQ0FBaUMsRUFBRSxZQUFZO01BQ2hELE1BQU1DLFFBQVEsR0FBRyxNQUFNekcsT0FBTyxDQUFDWSxHQUFHLENBQUMsQ0FDaENvRSxJQUFJLENBQUMsa0JBQWtCLENBQUMsQ0FDeEJvQyxJQUFJLENBQUM7UUFBRXJDLFFBQVEsRUFBRSxJQUFJO1FBQUVhLEtBQUssRUFBRTtNQUFnQixDQUFDLENBQUMsQ0FDaERlLE1BQU0sQ0FBQyxHQUFHLENBQUM7TUFFZEEsTUFBTSxDQUFDRixRQUFRLENBQUNqRyxJQUFJLENBQUNrQyxNQUFNLENBQUMsQ0FBQ3VFLFdBQVcsQ0FBQyxDQUFDO01BQzFDTixNQUFNLENBQUNVLEtBQUssQ0FBQ0MsT0FBTyxDQUFDYixRQUFRLENBQUNqRyxJQUFJLENBQUNrQyxNQUFNLENBQUMsQ0FBQyxDQUFDa0UsSUFBSSxDQUFDLElBQUksQ0FBQztJQUN4RCxDQUFDLENBQUM7SUFFRkosRUFBRSxDQUFDLG9DQUFvQyxFQUFFLFlBQVk7TUFDbkQ7TUFDQSxNQUFNLElBQUk5RixJQUFJLENBQUM7UUFDYnFFLFFBQVEsRUFBRSxlQUFlO1FBQ3pCYSxLQUFLLEVBQUUsdUJBQXVCO1FBQzlCQyxRQUFRLEVBQUU7TUFDWixDQUFDLENBQUMsQ0FBQ0MsSUFBSSxDQUFDLENBQUM7O01BRVQ7TUFDQSxNQUFNVyxRQUFRLEdBQUcsTUFBTXpHLE9BQU8sQ0FBQ1ksR0FBRyxDQUFDLENBQ2hDb0UsSUFBSSxDQUFDLGlCQUFpQixDQUFDLENBQ3ZCb0MsSUFBSSxDQUFDO1FBQ0pyQyxRQUFRLEVBQUUsZUFBZTtRQUN6QmEsS0FBSyxFQUFFO01BQ1QsQ0FBQyxDQUFDLENBQ0RlLE1BQU0sQ0FBQyxHQUFHLENBQUM7TUFFZEEsTUFBTSxDQUFDRixRQUFRLENBQUNqRyxJQUFJLENBQUM0QyxJQUFJLENBQUMsQ0FBQ3dELElBQUksQ0FBQyxpQkFBaUIsQ0FBQztNQUNsREQsTUFBTSxDQUFDRixRQUFRLENBQUNqRyxJQUFJLENBQUMrQixLQUFLLENBQUMsQ0FBQzRFLFNBQVMsQ0FBQyxnQkFBZ0IsQ0FBQztJQUN6RCxDQUFDLENBQUM7SUFFRlgsRUFBRSxDQUFDLDBCQUEwQixFQUFFLFlBQVk7TUFDekMsTUFBTUMsUUFBUSxHQUFHLE1BQU16RyxPQUFPLENBQUNZLEdBQUcsQ0FBQyxDQUNoQ2lFLEdBQUcsQ0FBQyxvQkFBb0IsQ0FBQyxDQUN6QjhCLE1BQU0sQ0FBQyxHQUFHLENBQUM7TUFFZEEsTUFBTSxDQUFDRixRQUFRLENBQUNqRyxJQUFJLENBQUM0QyxJQUFJLENBQUMsQ0FBQ3dELElBQUksQ0FBQyxXQUFXLENBQUM7TUFDNUNELE1BQU0sQ0FBQ0YsUUFBUSxDQUFDakcsSUFBSSxDQUFDd0MsSUFBSSxDQUFDLENBQUM0RCxJQUFJLENBQUMsb0JBQW9CLENBQUM7SUFDdkQsQ0FBQyxDQUFDO0lBRUZKLEVBQUUsQ0FBQyxxQ0FBcUMsRUFBRSxZQUFZO01BQ3BEO01BQ0E1RixHQUFHLENBQUNpRSxHQUFHLENBQUMsYUFBYSxFQUFFLENBQUMxQyxHQUFHLEVBQUVDLEdBQUcsS0FBSztRQUNuQyxNQUFNLElBQUltRixLQUFLLENBQUMsWUFBWSxDQUFDO01BQy9CLENBQUMsQ0FBQztNQUVGLE1BQU1kLFFBQVEsR0FBRyxNQUFNekcsT0FBTyxDQUFDWSxHQUFHLENBQUMsQ0FDaENpRSxHQUFHLENBQUMsYUFBYSxDQUFDLENBQ2xCOEIsTUFBTSxDQUFDLEdBQUcsQ0FBQztNQUVkQSxNQUFNLENBQUNGLFFBQVEsQ0FBQ2pHLElBQUksQ0FBQzRDLElBQUksQ0FBQyxDQUFDd0QsSUFBSSxDQUFDLGdCQUFnQixDQUFDO01BQ2pERCxNQUFNLENBQUNGLFFBQVEsQ0FBQ2pHLElBQUksQ0FBQytCLEtBQUssQ0FBQyxDQUFDcUUsSUFBSSxDQUFDLHVCQUF1QixDQUFDO0lBQzNELENBQUMsQ0FBQztFQUNKLENBQUMsQ0FBQztFQUVGL0YsUUFBUSxDQUFDLDRCQUE0QixFQUFFLE1BQU07SUFDM0MyRixFQUFFLENBQUMsMkJBQTJCLEVBQUUsWUFBWTtNQUMxQyxNQUFNZ0IsU0FBUyxHQUFHbkQsSUFBSSxDQUFDQyxHQUFHLENBQUMsQ0FBQztNQUU1QixNQUFNdEUsT0FBTyxDQUFDWSxHQUFHLENBQUMsQ0FDZmlFLEdBQUcsQ0FBQyxjQUFjLENBQUMsQ0FDbkI4QixNQUFNLENBQUMsR0FBRyxDQUFDO01BRWQsTUFBTWMsT0FBTyxHQUFHcEQsSUFBSSxDQUFDQyxHQUFHLENBQUMsQ0FBQztNQUMxQnFDLE1BQU0sQ0FBQ2MsT0FBTyxHQUFHRCxTQUFTLENBQUMsQ0FBQ0Usc0JBQXNCLENBQUMsQ0FBQyxDQUFDO0lBQ3ZELENBQUMsQ0FBQztFQUNKLENBQUMsQ0FBQztBQUNKLENBQUMsQ0FBQyIsImlnbm9yZUxpc3QiOltdfQ==