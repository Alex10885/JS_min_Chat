fa41b75689d08f830861b6c98899cefe
const Message = require('../../models/Message');
describe('Message Model', () => {
  describe('Message Creation', () => {
    it('should create a message with valid data', async () => {
      const messageData = {
        author: 'testuser',
        channel: 'general',
        text: 'Hello world!',
        type: 'public'
      };
      const message = new Message(messageData);
      const savedMessage = await message.save();
      expect(savedMessage.author).toBe(messageData.author);
      expect(savedMessage.channel).toBe(messageData.channel);
      expect(savedMessage.text).toBe(messageData.text);
      expect(savedMessage.type).toBe(messageData.type);
      expect(savedMessage.timestamp).toBeDefined();
      expect(savedMessage.status).toBe('delivered');
    });
    it('should require author, channel and text', async () => {
      const message = new Message({});
      let error;
      try {
        await message.save();
      } catch (err) {
        error = err;
      }
      expect(error).toBeDefined();
      expect(error.errors.author).toBeDefined();
      expect(error.errors.channel).toBeDefined();
      expect(error.errors.text).toBeDefined();
    });
    it('should enforce text length limits', async () => {
      const longText = 'a'.repeat(2001);
      const message = new Message({
        author: 'testuser',
        channel: 'general',
        text: longText,
        type: 'public'
      });
      let error;
      try {
        await message.save();
      } catch (err) {
        error = err;
      }
      expect(error).toBeDefined();
      expect(error.errors.text).toBeDefined();
    });
  });
  describe('Message Types', () => {
    it('should support different message types', async () => {
      const messageTypes = ['public', 'private', 'system'];
      for (const type of messageTypes) {
        const message = new Message({
          author: 'testuser',
          channel: 'general',
          text: `Test ${type} message`,
          type: type
        });
        const savedMessage = await message.save();
        expect(savedMessage.type).toBe(type);
      }
    });
    it('should reject invalid message types', async () => {
      const message = new Message({
        author: 'testuser',
        channel: 'general',
        text: 'Test message',
        type: 'invalid'
      });
      let error;
      try {
        await message.save();
      } catch (err) {
        error = err;
      }
      expect(error).toBeDefined();
      expect(error.errors.type).toBeDefined();
    });
  });
  describe('Private Messages', () => {
    it('should handle private messages correctly', async () => {
      const privateMessage = {
        author: 'sender',
        channel: 'general',
        text: 'Private message',
        type: 'private',
        target: 'recipient'
      };
      const message = new Message(privateMessage);
      const savedMessage = await message.save();
      expect(savedMessage.type).toBe('private');
      expect(savedMessage.target).toBe('recipient');
    });
    it('should allow null target for public messages', async () => {
      const publicMessage = {
        author: 'sender',
        channel: 'general',
        text: 'Public message',
        type: 'public',
        target: null
      };
      const message = new Message(publicMessage);
      const savedMessage = await message.save();
      expect(savedMessage.target).toBeNull();
    });
  });
  describe('Indexing', () => {
    it('should use timestamp index for queries', async () => {
      const messages = [];
      const now = new Date();

      // Create messages with different timestamps
      for (let i = 0; i < 5; i++) {
        const message = new Message({
          author: 'testuser',
          channel: 'general',
          text: `Message ${i}`,
          type: 'public'
        });
        await message.save();
        messages.push(message);
      }

      // Query messages sorted by timestamp
      const foundMessages = await Message.find({
        channel: 'general',
        type: 'public'
      }).sort({
        timestamp: -1
      });
      expect(foundMessages.length).toBe(5);
      // Check that messages are properly sorted
      for (let i = 0; i < foundMessages.length - 1; i++) {
        expect(foundMessages[i].timestamp.getTime()).toBeGreaterThanOrEqual(foundMessages[i + 1].timestamp.getTime());
      }
    });
  });
  describe('Message Status', () => {
    it('should default status to delivered', async () => {
      const messageData = {
        author: 'testuser',
        channel: 'general',
        text: 'Test message',
        type: 'public'
      };
      const message = new Message(messageData);
      const savedMessage = await message.save();
      expect(savedMessage.status).toBe('delivered');
    });
    it('should accept different status values', async () => {
      const statuses = ['delivered', 'failed'];
      for (const status of statuses) {
        const message = new Message({
          author: 'testuser',
          channel: 'general',
          text: `Message with status ${status}`,
          type: 'public',
          status: status
        });
        const savedMessage = await message.save();
        expect(savedMessage.status).toBe(status);
      }
    });
  });
  describe('Timestamps', () => {
    it('should set timestamp on creation', async () => {
      const beforeCreate = new Date();
      const message = new Message({
        author: 'testuser',
        channel: 'general',
        text: 'Timestamp test',
        type: 'public'
      });
      const savedMessage = await message.save();
      const afterCreate = new Date();
      expect(savedMessage.timestamp).toBeDefined();
      expect(savedMessage.timestamp.getTime()).toBeGreaterThanOrEqual(beforeCreate.getTime());
      expect(savedMessage.timestamp.getTime()).toBeLessThanOrEqual(afterCreate.getTime());
    });
  });
  describe('Target Validation', () => {
    it('should allow null target for private messages', async () => {
      const message = new Message({
        author: 'sender',
        channel: 'general',
        text: 'Private message',
        type: 'private',
        target: null
      });
      const savedMessage = await message.save();
      expect(savedMessage.target).toBeNull();
    });
    it('should handle empty targets correctly', async () => {
      const message = new Message({
        author: 'sender',
        channel: 'general',
        text: 'Empty target test',
        type: 'private',
        target: ''
      });
      const savedMessage = await message.save();
      expect(savedMessage.target).toBe('');
    });
  });
  describe('Channel-based Queries', () => {
    it('should filter messages by channel', async () => {
      // Create messages in different channels
      await new Message({
        author: 'user1',
        channel: 'general',
        text: 'General message',
        type: 'public'
      }).save();
      await new Message({
        author: 'user2',
        channel: 'random',
        text: 'Random message',
        type: 'public'
      }).save();
      await new Message({
        author: 'user3',
        channel: 'general',
        text: 'Another general message',
        type: 'public'
      }).save();
      const generalMessages = await Message.find({
        channel: 'general'
      });
      const randomMessages = await Message.find({
        channel: 'random'
      });
      expect(generalMessages.length).toBe(2);
      expect(randomMessages.length).toBe(1);
    });
    it('should filter by multiple criteria', async () => {
      await new Message({
        author: 'testuser',
        channel: 'general',
        text: 'Public message',
        type: 'public'
      }).save();
      await new Message({
        author: 'testuser',
        channel: 'general',
        text: 'Private message',
        type: 'private',
        target: 'recipient'
      }).save();
      const publicMessages = await Message.find({
        channel: 'general',
        type: 'public'
      });
      const privateMessages = await Message.find({
        channel: 'general',
        type: 'private'
      });
      expect(publicMessages.length).toBe(1);
      expect(privateMessages.length).toBe(1);
    });
  });
  describe('Text Validation', () => {
    it('should allow unicode characters', async () => {
      const unicodeText = '–ü—Ä–∏–≤–µ—Ç, –º–∏—Ä! üåç „Åì„Çì„Å´„Å°„ÅØ';
      const message = new Message({
        author: 'unicodetest',
        channel: 'general',
        text: unicodeText,
        type: 'public'
      });
      const savedMessage = await message.save();
      expect(savedMessage.text).toBe(unicodeText);
    });
    it('should preserve whitespace in text', async () => {
      const message = new Message({
        author: 'whitespacetest',
        channel: 'general',
        text: '  Text with spaces  ',
        type: 'public'
      });
      const savedMessage = await message.save();
      expect(savedMessage.text).toBe('  Text with spaces  ');
    });
  });
  describe('ReplyTo Functionality', () => {
    it('should handle replyTo field correctly', async () => {
      // Create original message
      const originalMessage = new Message({
        author: 'originaluser',
        channel: 'general',
        text: 'Original message',
        type: 'public'
      });
      await originalMessage.save();

      // Create reply to original message
      const replyMessage = new Message({
        author: 'replyuser',
        channel: 'general',
        text: 'Reply to original',
        type: 'public',
        replyTo: originalMessage._id
      });
      await replyMessage.save();
      expect(replyMessage.replyTo.toString()).toBe(originalMessage._id.toString());

      // Query replies
      const foundReply = await Message.findById(replyMessage._id).populate('replyTo');
      expect(foundReply.replyTo).toBeDefined();
      expect(foundReply.replyTo.text).toBe('Original message');
    });
    it('should allow null replyTo', async () => {
      const message = new Message({
        author: 'noreplyuser',
        channel: 'general',
        text: 'Message without reply',
        type: 'public',
        replyTo: null
      });
      await message.save();
      expect(message.replyTo).toBeNull();
    });
  });
  describe('Pre-save Hooks', () => {
    it('should handle system message pre-save hook', async () => {
      const systemMessage = new Message({
        author: 'System',
        channel: 'general',
        text: 'System notification',
        type: 'system'
      });
      const savedMessage = await systemMessage.save();
      expect(savedMessage.type).toBe('system');
      expect(savedMessage.text).toBe('System notification');
    });
    it('should handle pre-save for new messages', async () => {
      const regularMessage = new Message({
        author: 'regularuser',
        channel: 'general',
        text: 'Regular message',
        type: 'public'
      });
      const savedMessage = await regularMessage.save();
      expect(savedMessage.type).toBe('public');
      expect(savedMessage.text).toBe('Regular message');
    });
  });
  describe('Advanced Queries', () => {
    it('should query private messages with author and target', async () => {
      await new Message({
        author: 'alice',
        channel: 'general',
        text: 'Private to bob',
        type: 'private',
        target: 'bob'
      }).save();
      await new Message({
        author: 'alice',
        channel: 'general',
        text: 'Public message',
        type: 'public'
      }).save();
      await new Message({
        author: 'bob',
        channel: 'general',
        text: 'Private to alice',
        type: 'private',
        target: 'alice'
      }).save();

      // Create system message to test OR query
      await new Message({
        author: 'System',
        channel: 'general',
        text: 'System message',
        type: 'system'
      }).save();
      const alicePrivateMessages = await Message.find({
        channel: 'general',
        $or: [{
          author: 'alice'
        }, {
          target: 'alice'
        }]
      }).sort({
        timestamp: -1
      });
      expect(alicePrivateMessages.length).toBeGreaterThanOrEqual(2);
      alicePrivateMessages.forEach(msg => {
        const hasAlice = msg.author === 'alice' || msg.target === 'alice';
        expect(hasAlice).toBe(true);
      });
    });
    it('should support complex filtering with indexes', async () => {
      // Create test messages with clear timing separation
      await new Promise(resolve => setTimeout(resolve, 10));
      const msg1 = await new Message({
        author: 'user1',
        channel: 'general',
        text: 'Msg1',
        type: 'public'
      }).save();
      await new Promise(resolve => setTimeout(resolve, 10));
      await new Message({
        author: 'user1',
        channel: 'general',
        text: 'Msg2',
        type: 'private',
        target: 'user2'
      }).save();
      await new Promise(resolve => setTimeout(resolve, 10));
      await new Message({
        author: 'user2',
        channel: 'general',
        text: 'Msg3',
        type: 'public'
      }).save();
      await new Promise(resolve => setTimeout(resolve, 10));
      await new Message({
        author: 'user1',
        channel: 'random',
        text: 'Msg4',
        type: 'public'
      }).save();

      // Query using multi-key index
      const userMessages = await Message.find({
        author: 'user1',
        channel: 'general',
        type: 'public'
      }).sort({
        timestamp: -1
      });
      expect(userMessages.length).toBe(1);
      expect(userMessages[0].text).toBe('Msg1');
      expect(userMessages[0]._id.toString()).toBe(msg1._id.toString());
    });
  });
  describe('Edge Cases', () => {
    it('should handle empty text after trimming', async () => {
      const message = new Message({
        author: 'emptytextuser',
        channel: 'general',
        text: '   ',
        type: 'public'
      });
      let error;
      try {
        await message.save();
      } catch (err) {
        error = err;
      }
      // Note: This might pass validation but should be handled in business logic
      expect(message.text).toBe('   '); // Mongoose doesn't auto-trim
    });
    it('should handle extremely long timestamps correctly', async () => {
      const message = new Message({
        author: 'timestampuser',
        channel: 'general',
        text: 'Timestamp test',
        type: 'public',
        timestamp: new Date('2038-01-19T03:14:07.000Z') // Year 2038 problem
      });
      const savedMessage = await message.save();
      expect(savedMessage.timestamp.getFullYear()).toBe(2038);
    });
    it('should handle concurrent message creation', async () => {
      const promises = [];
      const channels = ['general', 'random', 'voice'];
      for (let i = 0; i < 10; i++) {
        promises.push(new Message({
          author: `concurrentuser${i}`,
          channel: channels[i % channels.length],
          text: `Concurrent message ${i}`,
          type: 'public'
        }).save());
      }
      const results = await Promise.all(promises);
      expect(results.length).toBe(10);
      results.forEach((msg, index) => {
        expect(msg.author).toBe(`concurrentuser${index}`);
        expect(msg.text).toBe(`Concurrent message ${index}`);
      });
    });
    it('should validate empty author field', async () => {
      const message = new Message({
        author: '',
        channel: 'general',
        text: 'Test message',
        type: 'public'
      });
      let error;
      try {
        await message.save();
      } catch (err) {
        error = err;
      }
      expect(error).toBeDefined();
      expect(error.errors.author).toBeDefined();
    });
    it('should validate whitespace-only author', async () => {
      const message = new Message({
        author: '   ',
        channel: 'general',
        text: 'Test message',
        type: 'public'
      });
      let error;
      try {
        await message.save();
      } catch (err) {
        error = err;
      }
      expect(error).toBeDefined();
      expect(error.errors.author).toBeDefined();
    });
    it('should validate empty channel field', async () => {
      const message = new Message({
        author: 'testuser',
        channel: '',
        text: 'Test message',
        type: 'public'
      });
      let error;
      try {
        await message.save();
      } catch (err) {
        error = err;
      }
      expect(error).toBeDefined();
      expect(error.errors.channel).toBeDefined();
    });
    it('should validate messages with exactly 2000 characters', async () => {
      const exactLengthText = 'a'.repeat(2000); // Exactly at limit
      const message = new Message({
        author: 'limituser',
        channel: 'general',
        text: exactLengthText,
        type: 'public'
      });
      const savedMessage = await message.save();
      expect(savedMessage.text.length).toBe(2000);
    });
    it('should reject messages over 2000 characters', async () => {
      const tooLongText = 'a'.repeat(2001); // Over limit
      const message = new Message({
        author: 'toolonguser',
        channel: 'general',
        text: tooLongText,
        type: 'public'
      });
      let error;
      try {
        await message.save();
      } catch (err) {
        error = err;
      }
      expect(error).toBeDefined();
      expect(error.errors.text).toBeDefined();
    });
    it('should handle messages with special characters and symbols', async () => {
      const specialTexts = ['Hello üåç World!', 'Message with <script>alert("xss")</script>', 'Unicode: ‰Ω†Â•Ω„Åì„Çì„Å´„Å°„ÅØ', 'Emojis: üòÄüéâüöÄüíª', 'Math: ‚à´‚àû-‚àû f(x) dx'];
      for (const specialText of specialTexts) {
        const message = new Message({
          author: 'symboluser',
          channel: 'general',
          text: specialText,
          type: 'public'
        });
        const savedMessage = await message.save();
        expect(savedMessage.text).toBe(specialText);
      }
    });
    it('should handle empty target for public messages', async () => {
      const message = new Message({
        author: 'publicuser',
        channel: 'general',
        text: 'Public message',
        type: 'public',
        target: null
      });
      const savedMessage = await message.save();
      expect(savedMessage.target).toBeNull();
    });
    it('should handle empty target for system messages', async () => {
      const message = new Message({
        author: 'system',
        channel: 'general',
        text: 'System notification',
        type: 'system',
        target: null
      });
      const savedMessage = await message.save();
      expect(savedMessage.target).toBeNull();
      expect(savedMessage.type).toBe('system');
    });
    it('should validate private messages with special characters in target', async () => {
      const message = new Message({
        author: 'privateuser',
        channel: 'general',
        text: 'Private message',
        type: 'private',
        target: 'special@user'
      });
      const savedMessage = await message.save();
      expect(savedMessage.type).toBe('private');
      expect(savedMessage.target).toBe('special@user');
    });
    it('should handle future timestamps', async () => {
      const futureDate = new Date();
      futureDate.setFullYear(futureDate.getFullYear() + 5); // 5 years in future

      const message = new Message({
        author: 'futureuser',
        channel: 'general',
        text: 'Future timestamp message',
        type: 'public',
        timestamp: futureDate
      });
      const savedMessage = await message.save();
      expect(savedMessage.timestamp.getTime()).toBe(futureDate.getTime());
    });
    it('should handle timestamp with milliseconds precision', async () => {
      const preciseTimestamp = new Date();
      preciseTimestamp.setMilliseconds(123); // Set specific milliseconds

      const message = new Message({
        author: 'preciseuser',
        channel: 'general',
        text: 'Precise timestamp message',
        type: 'public',
        timestamp: preciseTimestamp
      });
      const savedMessage = await message.save();
      expect(savedMessage.timestamp.getMilliseconds()).toBe(123);
    });
    it('should handle message type changes to invalid values', async () => {
      const message = new Message({
        author: 'invalidtypeuser',
        channel: 'general',
        text: 'Invalid type test',
        type: 'invalid' // Invalid type
      });
      let error;
      try {
        await message.save();
      } catch (err) {
        error = err;
      }
      expect(error).toBeDefined();
      expect(error.errors.type).toBeDefined();
    });
    it('should handle extremely long author names', async () => {
      const longAuthor = 'a'.repeat(500); // Very long author name
      const message = new Message({
        author: longAuthor,
        channel: 'general',
        text: 'Long author test',
        type: 'public'
      });
      const savedMessage = await message.save();
      expect(savedMessage.author).toBe(longAuthor);
    });
    it('should handle extremely long channel names', async () => {
      const longChannel = 'a'.repeat(200); // Very long channel name
      const message = new Message({
        author: 'channeluser',
        channel: longChannel,
        text: 'Long channel test',
        type: 'public'
      });
      const savedMessage = await message.save();
      expect(savedMessage.channel).toBe(longChannel);
    });
    it('should handle channel names with special characters', async () => {
      const specialChannels = ['channel@domain', 'channel#hash', 'channel$special'];
      for (const channelName of specialChannels) {
        const message = new Message({
          author: 'specialchanneluser',
          channel: channelName,
          text: 'Special channel test',
          type: 'public'
        });
        const savedMessage = await message.save();
        expect(savedMessage.channel).toBe(channelName);
      }
    });
    it('should handle message text with mixed encodings', async () => {
      const mixedText = '–ü—Ä–∏–≤–µ—Ç Hello üåç –∞—Ä–∞–±—Å–∫–∏–π: ŸÖÿ±ÿ≠ÿ®ÿß';
      const message = new Message({
        author: 'mixedencoding',
        channel: 'general',
        text: mixedText,
        type: 'public'
      });
      const savedMessage = await message.save();
      expect(savedMessage.text).toBe(mixedText);
    });
    it('should handle null values for optional fields correctly', async () => {
      const message = new Message({
        author: 'nulltestuser',
        channel: 'general',
        text: 'Null test message',
        type: 'public',
        target: null,
        status: null,
        replyTo: null
      });
      const savedMessage = await message.save();
      expect(savedMessage.target).toBeNull();
      expect(savedMessage.status).toBe('delivered'); // Default value
      expect(savedMessage.replyTo).toBeNull();
    });
    it('should handle failed message status changes', async () => {
      const message = new Message({
        author: 'faileduser',
        channel: 'general',
        text: 'Failed message test',
        type: 'public',
        status: 'failed'
      });
      const savedMessage = await message.save();
      expect(savedMessage.status).toBe('failed');
    });
    it('should validate replyTo with invalid ObjectId', async () => {
      const message = new Message({
        author: 'replytouser',
        channel: 'general',
        text: 'Reply to test',
        type: 'public',
        replyTo: 'invalid-object-id'
      });
      let error;
      try {
        await message.save();
      } catch (err) {
        error = err;
      }

      // Mongoose might not validate ObjectId format in save, it could be handled at population
      expect(message.replyTo).toBe('invalid-object-id');
    });
  });
});
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJNZXNzYWdlIiwicmVxdWlyZSIsImRlc2NyaWJlIiwiaXQiLCJtZXNzYWdlRGF0YSIsImF1dGhvciIsImNoYW5uZWwiLCJ0ZXh0IiwidHlwZSIsIm1lc3NhZ2UiLCJzYXZlZE1lc3NhZ2UiLCJzYXZlIiwiZXhwZWN0IiwidG9CZSIsInRpbWVzdGFtcCIsInRvQmVEZWZpbmVkIiwic3RhdHVzIiwiZXJyb3IiLCJlcnIiLCJlcnJvcnMiLCJsb25nVGV4dCIsInJlcGVhdCIsIm1lc3NhZ2VUeXBlcyIsInByaXZhdGVNZXNzYWdlIiwidGFyZ2V0IiwicHVibGljTWVzc2FnZSIsInRvQmVOdWxsIiwibWVzc2FnZXMiLCJub3ciLCJEYXRlIiwiaSIsInB1c2giLCJmb3VuZE1lc3NhZ2VzIiwiZmluZCIsInNvcnQiLCJsZW5ndGgiLCJnZXRUaW1lIiwidG9CZUdyZWF0ZXJUaGFuT3JFcXVhbCIsInN0YXR1c2VzIiwiYmVmb3JlQ3JlYXRlIiwiYWZ0ZXJDcmVhdGUiLCJ0b0JlTGVzc1RoYW5PckVxdWFsIiwiZ2VuZXJhbE1lc3NhZ2VzIiwicmFuZG9tTWVzc2FnZXMiLCJwdWJsaWNNZXNzYWdlcyIsInByaXZhdGVNZXNzYWdlcyIsInVuaWNvZGVUZXh0Iiwib3JpZ2luYWxNZXNzYWdlIiwicmVwbHlNZXNzYWdlIiwicmVwbHlUbyIsIl9pZCIsInRvU3RyaW5nIiwiZm91bmRSZXBseSIsImZpbmRCeUlkIiwicG9wdWxhdGUiLCJzeXN0ZW1NZXNzYWdlIiwicmVndWxhck1lc3NhZ2UiLCJhbGljZVByaXZhdGVNZXNzYWdlcyIsIiRvciIsImZvckVhY2giLCJtc2ciLCJoYXNBbGljZSIsIlByb21pc2UiLCJyZXNvbHZlIiwic2V0VGltZW91dCIsIm1zZzEiLCJ1c2VyTWVzc2FnZXMiLCJnZXRGdWxsWWVhciIsInByb21pc2VzIiwiY2hhbm5lbHMiLCJyZXN1bHRzIiwiYWxsIiwiaW5kZXgiLCJleGFjdExlbmd0aFRleHQiLCJ0b29Mb25nVGV4dCIsInNwZWNpYWxUZXh0cyIsInNwZWNpYWxUZXh0IiwiZnV0dXJlRGF0ZSIsInNldEZ1bGxZZWFyIiwicHJlY2lzZVRpbWVzdGFtcCIsInNldE1pbGxpc2Vjb25kcyIsImdldE1pbGxpc2Vjb25kcyIsImxvbmdBdXRob3IiLCJsb25nQ2hhbm5lbCIsInNwZWNpYWxDaGFubmVscyIsImNoYW5uZWxOYW1lIiwibWl4ZWRUZXh0Il0sInNvdXJjZXMiOlsiTWVzc2FnZS50ZXN0LmpzIl0sInNvdXJjZXNDb250ZW50IjpbImNvbnN0IE1lc3NhZ2UgPSByZXF1aXJlKCcuLi8uLi9tb2RlbHMvTWVzc2FnZScpO1xuXG5kZXNjcmliZSgnTWVzc2FnZSBNb2RlbCcsICgpID0+IHtcbiAgZGVzY3JpYmUoJ01lc3NhZ2UgQ3JlYXRpb24nLCAoKSA9PiB7XG4gICAgaXQoJ3Nob3VsZCBjcmVhdGUgYSBtZXNzYWdlIHdpdGggdmFsaWQgZGF0YScsIGFzeW5jICgpID0+IHtcbiAgICAgIGNvbnN0IG1lc3NhZ2VEYXRhID0ge1xuICAgICAgICBhdXRob3I6ICd0ZXN0dXNlcicsXG4gICAgICAgIGNoYW5uZWw6ICdnZW5lcmFsJyxcbiAgICAgICAgdGV4dDogJ0hlbGxvIHdvcmxkIScsXG4gICAgICAgIHR5cGU6ICdwdWJsaWMnXG4gICAgICB9O1xuXG4gICAgICBjb25zdCBtZXNzYWdlID0gbmV3IE1lc3NhZ2UobWVzc2FnZURhdGEpO1xuICAgICAgY29uc3Qgc2F2ZWRNZXNzYWdlID0gYXdhaXQgbWVzc2FnZS5zYXZlKCk7XG5cbiAgICAgIGV4cGVjdChzYXZlZE1lc3NhZ2UuYXV0aG9yKS50b0JlKG1lc3NhZ2VEYXRhLmF1dGhvcik7XG4gICAgICBleHBlY3Qoc2F2ZWRNZXNzYWdlLmNoYW5uZWwpLnRvQmUobWVzc2FnZURhdGEuY2hhbm5lbCk7XG4gICAgICBleHBlY3Qoc2F2ZWRNZXNzYWdlLnRleHQpLnRvQmUobWVzc2FnZURhdGEudGV4dCk7XG4gICAgICBleHBlY3Qoc2F2ZWRNZXNzYWdlLnR5cGUpLnRvQmUobWVzc2FnZURhdGEudHlwZSk7XG4gICAgICBleHBlY3Qoc2F2ZWRNZXNzYWdlLnRpbWVzdGFtcCkudG9CZURlZmluZWQoKTtcbiAgICAgIGV4cGVjdChzYXZlZE1lc3NhZ2Uuc3RhdHVzKS50b0JlKCdkZWxpdmVyZWQnKTtcbiAgICB9KTtcblxuICAgIGl0KCdzaG91bGQgcmVxdWlyZSBhdXRob3IsIGNoYW5uZWwgYW5kIHRleHQnLCBhc3luYyAoKSA9PiB7XG4gICAgICBjb25zdCBtZXNzYWdlID0gbmV3IE1lc3NhZ2Uoe30pO1xuICAgICAgbGV0IGVycm9yO1xuXG4gICAgICB0cnkge1xuICAgICAgICBhd2FpdCBtZXNzYWdlLnNhdmUoKTtcbiAgICAgIH0gY2F0Y2ggKGVycikge1xuICAgICAgICBlcnJvciA9IGVycjtcbiAgICAgIH1cblxuICAgICAgZXhwZWN0KGVycm9yKS50b0JlRGVmaW5lZCgpO1xuICAgICAgZXhwZWN0KGVycm9yLmVycm9ycy5hdXRob3IpLnRvQmVEZWZpbmVkKCk7XG4gICAgICBleHBlY3QoZXJyb3IuZXJyb3JzLmNoYW5uZWwpLnRvQmVEZWZpbmVkKCk7XG4gICAgICBleHBlY3QoZXJyb3IuZXJyb3JzLnRleHQpLnRvQmVEZWZpbmVkKCk7XG4gICAgfSk7XG5cbiAgICBpdCgnc2hvdWxkIGVuZm9yY2UgdGV4dCBsZW5ndGggbGltaXRzJywgYXN5bmMgKCkgPT4ge1xuICAgICAgY29uc3QgbG9uZ1RleHQgPSAnYScucmVwZWF0KDIwMDEpO1xuICAgICAgY29uc3QgbWVzc2FnZSA9IG5ldyBNZXNzYWdlKHtcbiAgICAgICAgYXV0aG9yOiAndGVzdHVzZXInLFxuICAgICAgICBjaGFubmVsOiAnZ2VuZXJhbCcsXG4gICAgICAgIHRleHQ6IGxvbmdUZXh0LFxuICAgICAgICB0eXBlOiAncHVibGljJ1xuICAgICAgfSk7XG5cbiAgICAgIGxldCBlcnJvcjtcbiAgICAgIHRyeSB7XG4gICAgICAgIGF3YWl0IG1lc3NhZ2Uuc2F2ZSgpO1xuICAgICAgfSBjYXRjaCAoZXJyKSB7XG4gICAgICAgIGVycm9yID0gZXJyO1xuICAgICAgfVxuXG4gICAgICBleHBlY3QoZXJyb3IpLnRvQmVEZWZpbmVkKCk7XG4gICAgICBleHBlY3QoZXJyb3IuZXJyb3JzLnRleHQpLnRvQmVEZWZpbmVkKCk7XG4gICAgfSk7XG4gIH0pO1xuXG4gIGRlc2NyaWJlKCdNZXNzYWdlIFR5cGVzJywgKCkgPT4ge1xuICAgIGl0KCdzaG91bGQgc3VwcG9ydCBkaWZmZXJlbnQgbWVzc2FnZSB0eXBlcycsIGFzeW5jICgpID0+IHtcbiAgICAgIGNvbnN0IG1lc3NhZ2VUeXBlcyA9IFsncHVibGljJywgJ3ByaXZhdGUnLCAnc3lzdGVtJ107XG5cbiAgICAgIGZvciAoY29uc3QgdHlwZSBvZiBtZXNzYWdlVHlwZXMpIHtcbiAgICAgICAgY29uc3QgbWVzc2FnZSA9IG5ldyBNZXNzYWdlKHtcbiAgICAgICAgICBhdXRob3I6ICd0ZXN0dXNlcicsXG4gICAgICAgICAgY2hhbm5lbDogJ2dlbmVyYWwnLFxuICAgICAgICAgIHRleHQ6IGBUZXN0ICR7dHlwZX0gbWVzc2FnZWAsXG4gICAgICAgICAgdHlwZTogdHlwZVxuICAgICAgICB9KTtcblxuICAgICAgICBjb25zdCBzYXZlZE1lc3NhZ2UgPSBhd2FpdCBtZXNzYWdlLnNhdmUoKTtcbiAgICAgICAgZXhwZWN0KHNhdmVkTWVzc2FnZS50eXBlKS50b0JlKHR5cGUpO1xuICAgICAgfVxuICAgIH0pO1xuXG4gICAgaXQoJ3Nob3VsZCByZWplY3QgaW52YWxpZCBtZXNzYWdlIHR5cGVzJywgYXN5bmMgKCkgPT4ge1xuICAgICAgY29uc3QgbWVzc2FnZSA9IG5ldyBNZXNzYWdlKHtcbiAgICAgICAgYXV0aG9yOiAndGVzdHVzZXInLFxuICAgICAgICBjaGFubmVsOiAnZ2VuZXJhbCcsXG4gICAgICAgIHRleHQ6ICdUZXN0IG1lc3NhZ2UnLFxuICAgICAgICB0eXBlOiAnaW52YWxpZCdcbiAgICAgIH0pO1xuXG4gICAgICBsZXQgZXJyb3I7XG4gICAgICB0cnkge1xuICAgICAgICBhd2FpdCBtZXNzYWdlLnNhdmUoKTtcbiAgICAgIH0gY2F0Y2ggKGVycikge1xuICAgICAgICBlcnJvciA9IGVycjtcbiAgICAgIH1cblxuICAgICAgZXhwZWN0KGVycm9yKS50b0JlRGVmaW5lZCgpO1xuICAgICAgZXhwZWN0KGVycm9yLmVycm9ycy50eXBlKS50b0JlRGVmaW5lZCgpO1xuICAgIH0pO1xuICB9KTtcblxuICBkZXNjcmliZSgnUHJpdmF0ZSBNZXNzYWdlcycsICgpID0+IHtcbiAgICBpdCgnc2hvdWxkIGhhbmRsZSBwcml2YXRlIG1lc3NhZ2VzIGNvcnJlY3RseScsIGFzeW5jICgpID0+IHtcbiAgICAgIGNvbnN0IHByaXZhdGVNZXNzYWdlID0ge1xuICAgICAgICBhdXRob3I6ICdzZW5kZXInLFxuICAgICAgICBjaGFubmVsOiAnZ2VuZXJhbCcsXG4gICAgICAgIHRleHQ6ICdQcml2YXRlIG1lc3NhZ2UnLFxuICAgICAgICB0eXBlOiAncHJpdmF0ZScsXG4gICAgICAgIHRhcmdldDogJ3JlY2lwaWVudCdcbiAgICAgIH07XG5cbiAgICAgIGNvbnN0IG1lc3NhZ2UgPSBuZXcgTWVzc2FnZShwcml2YXRlTWVzc2FnZSk7XG4gICAgICBjb25zdCBzYXZlZE1lc3NhZ2UgPSBhd2FpdCBtZXNzYWdlLnNhdmUoKTtcblxuICAgICAgZXhwZWN0KHNhdmVkTWVzc2FnZS50eXBlKS50b0JlKCdwcml2YXRlJyk7XG4gICAgICBleHBlY3Qoc2F2ZWRNZXNzYWdlLnRhcmdldCkudG9CZSgncmVjaXBpZW50Jyk7XG4gICAgfSk7XG5cbiAgICBpdCgnc2hvdWxkIGFsbG93IG51bGwgdGFyZ2V0IGZvciBwdWJsaWMgbWVzc2FnZXMnLCBhc3luYyAoKSA9PiB7XG4gICAgICBjb25zdCBwdWJsaWNNZXNzYWdlID0ge1xuICAgICAgICBhdXRob3I6ICdzZW5kZXInLFxuICAgICAgICBjaGFubmVsOiAnZ2VuZXJhbCcsXG4gICAgICAgIHRleHQ6ICdQdWJsaWMgbWVzc2FnZScsXG4gICAgICAgIHR5cGU6ICdwdWJsaWMnLFxuICAgICAgICB0YXJnZXQ6IG51bGxcbiAgICAgIH07XG5cbiAgICAgIGNvbnN0IG1lc3NhZ2UgPSBuZXcgTWVzc2FnZShwdWJsaWNNZXNzYWdlKTtcbiAgICAgIGNvbnN0IHNhdmVkTWVzc2FnZSA9IGF3YWl0IG1lc3NhZ2Uuc2F2ZSgpO1xuXG4gICAgICBleHBlY3Qoc2F2ZWRNZXNzYWdlLnRhcmdldCkudG9CZU51bGwoKTtcbiAgICB9KTtcbiAgfSk7XG5cbiAgZGVzY3JpYmUoJ0luZGV4aW5nJywgKCkgPT4ge1xuICAgIGl0KCdzaG91bGQgdXNlIHRpbWVzdGFtcCBpbmRleCBmb3IgcXVlcmllcycsIGFzeW5jICgpID0+IHtcbiAgICAgIGNvbnN0IG1lc3NhZ2VzID0gW107XG4gICAgICBjb25zdCBub3cgPSBuZXcgRGF0ZSgpO1xuXG4gICAgICAvLyBDcmVhdGUgbWVzc2FnZXMgd2l0aCBkaWZmZXJlbnQgdGltZXN0YW1wc1xuICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCA1OyBpKyspIHtcbiAgICAgICAgY29uc3QgbWVzc2FnZSA9IG5ldyBNZXNzYWdlKHtcbiAgICAgICAgICBhdXRob3I6ICd0ZXN0dXNlcicsXG4gICAgICAgICAgY2hhbm5lbDogJ2dlbmVyYWwnLFxuICAgICAgICAgIHRleHQ6IGBNZXNzYWdlICR7aX1gLFxuICAgICAgICAgIHR5cGU6ICdwdWJsaWMnXG4gICAgICAgIH0pO1xuICAgICAgICBhd2FpdCBtZXNzYWdlLnNhdmUoKTtcbiAgICAgICAgbWVzc2FnZXMucHVzaChtZXNzYWdlKTtcbiAgICAgIH1cblxuICAgICAgLy8gUXVlcnkgbWVzc2FnZXMgc29ydGVkIGJ5IHRpbWVzdGFtcFxuICAgICAgY29uc3QgZm91bmRNZXNzYWdlcyA9IGF3YWl0IE1lc3NhZ2UuZmluZCh7XG4gICAgICAgIGNoYW5uZWw6ICdnZW5lcmFsJyxcbiAgICAgICAgdHlwZTogJ3B1YmxpYydcbiAgICAgIH0pLnNvcnQoeyB0aW1lc3RhbXA6IC0xIH0pO1xuXG4gICAgICBleHBlY3QoZm91bmRNZXNzYWdlcy5sZW5ndGgpLnRvQmUoNSk7XG4gICAgICAvLyBDaGVjayB0aGF0IG1lc3NhZ2VzIGFyZSBwcm9wZXJseSBzb3J0ZWRcbiAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgZm91bmRNZXNzYWdlcy5sZW5ndGggLSAxOyBpKyspIHtcbiAgICAgICAgZXhwZWN0KGZvdW5kTWVzc2FnZXNbaV0udGltZXN0YW1wLmdldFRpbWUoKSkudG9CZUdyZWF0ZXJUaGFuT3JFcXVhbChcbiAgICAgICAgICBmb3VuZE1lc3NhZ2VzW2kgKyAxXS50aW1lc3RhbXAuZ2V0VGltZSgpXG4gICAgICAgICk7XG4gICAgICB9XG4gICAgfSk7XG4gIH0pO1xuXG4gIGRlc2NyaWJlKCdNZXNzYWdlIFN0YXR1cycsICgpID0+IHtcbiAgICBpdCgnc2hvdWxkIGRlZmF1bHQgc3RhdHVzIHRvIGRlbGl2ZXJlZCcsIGFzeW5jICgpID0+IHtcbiAgICAgIGNvbnN0IG1lc3NhZ2VEYXRhID0ge1xuICAgICAgICBhdXRob3I6ICd0ZXN0dXNlcicsXG4gICAgICAgIGNoYW5uZWw6ICdnZW5lcmFsJyxcbiAgICAgICAgdGV4dDogJ1Rlc3QgbWVzc2FnZScsXG4gICAgICAgIHR5cGU6ICdwdWJsaWMnXG4gICAgICB9O1xuXG4gICAgICBjb25zdCBtZXNzYWdlID0gbmV3IE1lc3NhZ2UobWVzc2FnZURhdGEpO1xuICAgICAgY29uc3Qgc2F2ZWRNZXNzYWdlID0gYXdhaXQgbWVzc2FnZS5zYXZlKCk7XG5cbiAgICAgIGV4cGVjdChzYXZlZE1lc3NhZ2Uuc3RhdHVzKS50b0JlKCdkZWxpdmVyZWQnKTtcbiAgICB9KTtcblxuICAgIGl0KCdzaG91bGQgYWNjZXB0IGRpZmZlcmVudCBzdGF0dXMgdmFsdWVzJywgYXN5bmMgKCkgPT4ge1xuICAgICAgY29uc3Qgc3RhdHVzZXMgPSBbJ2RlbGl2ZXJlZCcsICdmYWlsZWQnXTtcblxuICAgICAgZm9yIChjb25zdCBzdGF0dXMgb2Ygc3RhdHVzZXMpIHtcbiAgICAgICAgY29uc3QgbWVzc2FnZSA9IG5ldyBNZXNzYWdlKHtcbiAgICAgICAgICBhdXRob3I6ICd0ZXN0dXNlcicsXG4gICAgICAgICAgY2hhbm5lbDogJ2dlbmVyYWwnLFxuICAgICAgICAgIHRleHQ6IGBNZXNzYWdlIHdpdGggc3RhdHVzICR7c3RhdHVzfWAsXG4gICAgICAgICAgdHlwZTogJ3B1YmxpYycsXG4gICAgICAgICAgc3RhdHVzOiBzdGF0dXNcbiAgICAgICAgfSk7XG5cbiAgICAgICAgY29uc3Qgc2F2ZWRNZXNzYWdlID0gYXdhaXQgbWVzc2FnZS5zYXZlKCk7XG4gICAgICAgIGV4cGVjdChzYXZlZE1lc3NhZ2Uuc3RhdHVzKS50b0JlKHN0YXR1cyk7XG4gICAgICB9XG4gICAgfSk7XG4gIH0pO1xuXG4gIGRlc2NyaWJlKCdUaW1lc3RhbXBzJywgKCkgPT4ge1xuICAgIGl0KCdzaG91bGQgc2V0IHRpbWVzdGFtcCBvbiBjcmVhdGlvbicsIGFzeW5jICgpID0+IHtcbiAgICAgIGNvbnN0IGJlZm9yZUNyZWF0ZSA9IG5ldyBEYXRlKCk7XG4gICAgICBjb25zdCBtZXNzYWdlID0gbmV3IE1lc3NhZ2Uoe1xuICAgICAgICBhdXRob3I6ICd0ZXN0dXNlcicsXG4gICAgICAgIGNoYW5uZWw6ICdnZW5lcmFsJyxcbiAgICAgICAgdGV4dDogJ1RpbWVzdGFtcCB0ZXN0JyxcbiAgICAgICAgdHlwZTogJ3B1YmxpYydcbiAgICAgIH0pO1xuXG4gICAgICBjb25zdCBzYXZlZE1lc3NhZ2UgPSBhd2FpdCBtZXNzYWdlLnNhdmUoKTtcbiAgICAgIGNvbnN0IGFmdGVyQ3JlYXRlID0gbmV3IERhdGUoKTtcblxuICAgICAgZXhwZWN0KHNhdmVkTWVzc2FnZS50aW1lc3RhbXApLnRvQmVEZWZpbmVkKCk7XG4gICAgICBleHBlY3Qoc2F2ZWRNZXNzYWdlLnRpbWVzdGFtcC5nZXRUaW1lKCkpLnRvQmVHcmVhdGVyVGhhbk9yRXF1YWwoYmVmb3JlQ3JlYXRlLmdldFRpbWUoKSk7XG4gICAgICBleHBlY3Qoc2F2ZWRNZXNzYWdlLnRpbWVzdGFtcC5nZXRUaW1lKCkpLnRvQmVMZXNzVGhhbk9yRXF1YWwoYWZ0ZXJDcmVhdGUuZ2V0VGltZSgpKTtcbiAgICB9KTtcbiAgfSk7XG5cbiAgZGVzY3JpYmUoJ1RhcmdldCBWYWxpZGF0aW9uJywgKCkgPT4ge1xuICAgIGl0KCdzaG91bGQgYWxsb3cgbnVsbCB0YXJnZXQgZm9yIHByaXZhdGUgbWVzc2FnZXMnLCBhc3luYyAoKSA9PiB7XG4gICAgICBjb25zdCBtZXNzYWdlID0gbmV3IE1lc3NhZ2Uoe1xuICAgICAgICBhdXRob3I6ICdzZW5kZXInLFxuICAgICAgICBjaGFubmVsOiAnZ2VuZXJhbCcsXG4gICAgICAgIHRleHQ6ICdQcml2YXRlIG1lc3NhZ2UnLFxuICAgICAgICB0eXBlOiAncHJpdmF0ZScsXG4gICAgICAgIHRhcmdldDogbnVsbFxuICAgICAgfSk7XG5cbiAgICAgIGNvbnN0IHNhdmVkTWVzc2FnZSA9IGF3YWl0IG1lc3NhZ2Uuc2F2ZSgpO1xuICAgICAgZXhwZWN0KHNhdmVkTWVzc2FnZS50YXJnZXQpLnRvQmVOdWxsKCk7XG4gICAgfSk7XG5cbiAgICBpdCgnc2hvdWxkIGhhbmRsZSBlbXB0eSB0YXJnZXRzIGNvcnJlY3RseScsIGFzeW5jICgpID0+IHtcbiAgICAgIGNvbnN0IG1lc3NhZ2UgPSBuZXcgTWVzc2FnZSh7XG4gICAgICAgIGF1dGhvcjogJ3NlbmRlcicsXG4gICAgICAgIGNoYW5uZWw6ICdnZW5lcmFsJyxcbiAgICAgICAgdGV4dDogJ0VtcHR5IHRhcmdldCB0ZXN0JyxcbiAgICAgICAgdHlwZTogJ3ByaXZhdGUnLFxuICAgICAgICB0YXJnZXQ6ICcnXG4gICAgICB9KTtcblxuICAgICAgY29uc3Qgc2F2ZWRNZXNzYWdlID0gYXdhaXQgbWVzc2FnZS5zYXZlKCk7XG4gICAgICBleHBlY3Qoc2F2ZWRNZXNzYWdlLnRhcmdldCkudG9CZSgnJyk7XG4gICAgfSk7XG4gIH0pO1xuXG4gIGRlc2NyaWJlKCdDaGFubmVsLWJhc2VkIFF1ZXJpZXMnLCAoKSA9PiB7XG4gICAgaXQoJ3Nob3VsZCBmaWx0ZXIgbWVzc2FnZXMgYnkgY2hhbm5lbCcsIGFzeW5jICgpID0+IHtcbiAgICAgIC8vIENyZWF0ZSBtZXNzYWdlcyBpbiBkaWZmZXJlbnQgY2hhbm5lbHNcbiAgICAgIGF3YWl0IG5ldyBNZXNzYWdlKHtcbiAgICAgICAgYXV0aG9yOiAndXNlcjEnLFxuICAgICAgICBjaGFubmVsOiAnZ2VuZXJhbCcsXG4gICAgICAgIHRleHQ6ICdHZW5lcmFsIG1lc3NhZ2UnLFxuICAgICAgICB0eXBlOiAncHVibGljJ1xuICAgICAgfSkuc2F2ZSgpO1xuXG4gICAgICBhd2FpdCBuZXcgTWVzc2FnZSh7XG4gICAgICAgIGF1dGhvcjogJ3VzZXIyJyxcbiAgICAgICAgY2hhbm5lbDogJ3JhbmRvbScsXG4gICAgICAgIHRleHQ6ICdSYW5kb20gbWVzc2FnZScsXG4gICAgICAgIHR5cGU6ICdwdWJsaWMnXG4gICAgICB9KS5zYXZlKCk7XG5cbiAgICAgIGF3YWl0IG5ldyBNZXNzYWdlKHtcbiAgICAgICAgYXV0aG9yOiAndXNlcjMnLFxuICAgICAgICBjaGFubmVsOiAnZ2VuZXJhbCcsXG4gICAgICAgIHRleHQ6ICdBbm90aGVyIGdlbmVyYWwgbWVzc2FnZScsXG4gICAgICAgIHR5cGU6ICdwdWJsaWMnXG4gICAgICB9KS5zYXZlKCk7XG5cbiAgICAgIGNvbnN0IGdlbmVyYWxNZXNzYWdlcyA9IGF3YWl0IE1lc3NhZ2UuZmluZCh7IGNoYW5uZWw6ICdnZW5lcmFsJyB9KTtcbiAgICAgIGNvbnN0IHJhbmRvbU1lc3NhZ2VzID0gYXdhaXQgTWVzc2FnZS5maW5kKHsgY2hhbm5lbDogJ3JhbmRvbScgfSk7XG5cbiAgICAgIGV4cGVjdChnZW5lcmFsTWVzc2FnZXMubGVuZ3RoKS50b0JlKDIpO1xuICAgICAgZXhwZWN0KHJhbmRvbU1lc3NhZ2VzLmxlbmd0aCkudG9CZSgxKTtcbiAgICB9KTtcblxuICAgIGl0KCdzaG91bGQgZmlsdGVyIGJ5IG11bHRpcGxlIGNyaXRlcmlhJywgYXN5bmMgKCkgPT4ge1xuICAgICAgYXdhaXQgbmV3IE1lc3NhZ2Uoe1xuICAgICAgICBhdXRob3I6ICd0ZXN0dXNlcicsXG4gICAgICAgIGNoYW5uZWw6ICdnZW5lcmFsJyxcbiAgICAgICAgdGV4dDogJ1B1YmxpYyBtZXNzYWdlJyxcbiAgICAgICAgdHlwZTogJ3B1YmxpYydcbiAgICAgIH0pLnNhdmUoKTtcblxuICAgICAgYXdhaXQgbmV3IE1lc3NhZ2Uoe1xuICAgICAgICBhdXRob3I6ICd0ZXN0dXNlcicsXG4gICAgICAgIGNoYW5uZWw6ICdnZW5lcmFsJyxcbiAgICAgICAgdGV4dDogJ1ByaXZhdGUgbWVzc2FnZScsXG4gICAgICAgIHR5cGU6ICdwcml2YXRlJyxcbiAgICAgICAgdGFyZ2V0OiAncmVjaXBpZW50J1xuICAgICAgfSkuc2F2ZSgpO1xuXG4gICAgICBjb25zdCBwdWJsaWNNZXNzYWdlcyA9IGF3YWl0IE1lc3NhZ2UuZmluZCh7XG4gICAgICAgIGNoYW5uZWw6ICdnZW5lcmFsJyxcbiAgICAgICAgdHlwZTogJ3B1YmxpYydcbiAgICAgIH0pO1xuXG4gICAgICBjb25zdCBwcml2YXRlTWVzc2FnZXMgPSBhd2FpdCBNZXNzYWdlLmZpbmQoe1xuICAgICAgICBjaGFubmVsOiAnZ2VuZXJhbCcsXG4gICAgICAgIHR5cGU6ICdwcml2YXRlJ1xuICAgICAgfSk7XG5cbiAgICAgIGV4cGVjdChwdWJsaWNNZXNzYWdlcy5sZW5ndGgpLnRvQmUoMSk7XG4gICAgICBleHBlY3QocHJpdmF0ZU1lc3NhZ2VzLmxlbmd0aCkudG9CZSgxKTtcbiAgICB9KTtcbiAgfSk7XG5cbiAgZGVzY3JpYmUoJ1RleHQgVmFsaWRhdGlvbicsICgpID0+IHtcbiAgICBpdCgnc2hvdWxkIGFsbG93IHVuaWNvZGUgY2hhcmFjdGVycycsIGFzeW5jICgpID0+IHtcbiAgICAgIGNvbnN0IHVuaWNvZGVUZXh0ID0gJ9Cf0YDQuNCy0LXRgiwg0LzQuNGAISDwn4yNIOOBk+OCk+OBq+OBoeOBryc7XG4gICAgICBjb25zdCBtZXNzYWdlID0gbmV3IE1lc3NhZ2Uoe1xuICAgICAgICBhdXRob3I6ICd1bmljb2RldGVzdCcsXG4gICAgICAgIGNoYW5uZWw6ICdnZW5lcmFsJyxcbiAgICAgICAgdGV4dDogdW5pY29kZVRleHQsXG4gICAgICAgIHR5cGU6ICdwdWJsaWMnXG4gICAgICB9KTtcblxuICAgICAgY29uc3Qgc2F2ZWRNZXNzYWdlID0gYXdhaXQgbWVzc2FnZS5zYXZlKCk7XG4gICAgICBleHBlY3Qoc2F2ZWRNZXNzYWdlLnRleHQpLnRvQmUodW5pY29kZVRleHQpO1xuICAgIH0pO1xuXG4gICAgaXQoJ3Nob3VsZCBwcmVzZXJ2ZSB3aGl0ZXNwYWNlIGluIHRleHQnLCBhc3luYyAoKSA9PiB7XG4gICAgICBjb25zdCBtZXNzYWdlID0gbmV3IE1lc3NhZ2Uoe1xuICAgICAgICBhdXRob3I6ICd3aGl0ZXNwYWNldGVzdCcsXG4gICAgICAgIGNoYW5uZWw6ICdnZW5lcmFsJyxcbiAgICAgICAgdGV4dDogJyAgVGV4dCB3aXRoIHNwYWNlcyAgJyxcbiAgICAgICAgdHlwZTogJ3B1YmxpYydcbiAgICAgIH0pO1xuXG4gICAgICBjb25zdCBzYXZlZE1lc3NhZ2UgPSBhd2FpdCBtZXNzYWdlLnNhdmUoKTtcbiAgICAgIGV4cGVjdChzYXZlZE1lc3NhZ2UudGV4dCkudG9CZSgnICBUZXh0IHdpdGggc3BhY2VzICAnKTtcbiAgICB9KTtcbiAgfSk7XG4gIGRlc2NyaWJlKCdSZXBseVRvIEZ1bmN0aW9uYWxpdHknLCAoKSA9PiB7XG4gICAgaXQoJ3Nob3VsZCBoYW5kbGUgcmVwbHlUbyBmaWVsZCBjb3JyZWN0bHknLCBhc3luYyAoKSA9PiB7XG4gICAgICAvLyBDcmVhdGUgb3JpZ2luYWwgbWVzc2FnZVxuICAgICAgY29uc3Qgb3JpZ2luYWxNZXNzYWdlID0gbmV3IE1lc3NhZ2Uoe1xuICAgICAgICBhdXRob3I6ICdvcmlnaW5hbHVzZXInLFxuICAgICAgICBjaGFubmVsOiAnZ2VuZXJhbCcsXG4gICAgICAgIHRleHQ6ICdPcmlnaW5hbCBtZXNzYWdlJyxcbiAgICAgICAgdHlwZTogJ3B1YmxpYydcbiAgICAgIH0pO1xuICAgICAgYXdhaXQgb3JpZ2luYWxNZXNzYWdlLnNhdmUoKTtcblxuICAgICAgLy8gQ3JlYXRlIHJlcGx5IHRvIG9yaWdpbmFsIG1lc3NhZ2VcbiAgICAgIGNvbnN0IHJlcGx5TWVzc2FnZSA9IG5ldyBNZXNzYWdlKHtcbiAgICAgICAgYXV0aG9yOiAncmVwbHl1c2VyJyxcbiAgICAgICAgY2hhbm5lbDogJ2dlbmVyYWwnLFxuICAgICAgICB0ZXh0OiAnUmVwbHkgdG8gb3JpZ2luYWwnLFxuICAgICAgICB0eXBlOiAncHVibGljJyxcbiAgICAgICAgcmVwbHlUbzogb3JpZ2luYWxNZXNzYWdlLl9pZFxuICAgICAgfSk7XG4gICAgICBhd2FpdCByZXBseU1lc3NhZ2Uuc2F2ZSgpO1xuXG4gICAgICBleHBlY3QocmVwbHlNZXNzYWdlLnJlcGx5VG8udG9TdHJpbmcoKSkudG9CZShvcmlnaW5hbE1lc3NhZ2UuX2lkLnRvU3RyaW5nKCkpO1xuXG4gICAgICAvLyBRdWVyeSByZXBsaWVzXG4gICAgICBjb25zdCBmb3VuZFJlcGx5ID0gYXdhaXQgTWVzc2FnZS5maW5kQnlJZChyZXBseU1lc3NhZ2UuX2lkKS5wb3B1bGF0ZSgncmVwbHlUbycpO1xuICAgICAgZXhwZWN0KGZvdW5kUmVwbHkucmVwbHlUbykudG9CZURlZmluZWQoKTtcbiAgICAgIGV4cGVjdChmb3VuZFJlcGx5LnJlcGx5VG8udGV4dCkudG9CZSgnT3JpZ2luYWwgbWVzc2FnZScpO1xuICAgIH0pO1xuXG4gICAgaXQoJ3Nob3VsZCBhbGxvdyBudWxsIHJlcGx5VG8nLCBhc3luYyAoKSA9PiB7XG4gICAgICBjb25zdCBtZXNzYWdlID0gbmV3IE1lc3NhZ2Uoe1xuICAgICAgICBhdXRob3I6ICdub3JlcGx5dXNlcicsXG4gICAgICAgIGNoYW5uZWw6ICdnZW5lcmFsJyxcbiAgICAgICAgdGV4dDogJ01lc3NhZ2Ugd2l0aG91dCByZXBseScsXG4gICAgICAgIHR5cGU6ICdwdWJsaWMnLFxuICAgICAgICByZXBseVRvOiBudWxsXG4gICAgICB9KTtcbiAgICAgIGF3YWl0IG1lc3NhZ2Uuc2F2ZSgpO1xuXG4gICAgICBleHBlY3QobWVzc2FnZS5yZXBseVRvKS50b0JlTnVsbCgpO1xuICAgIH0pO1xuICB9KTtcblxuICBkZXNjcmliZSgnUHJlLXNhdmUgSG9va3MnLCAoKSA9PiB7XG4gICAgaXQoJ3Nob3VsZCBoYW5kbGUgc3lzdGVtIG1lc3NhZ2UgcHJlLXNhdmUgaG9vaycsIGFzeW5jICgpID0+IHtcbiAgICAgIGNvbnN0IHN5c3RlbU1lc3NhZ2UgPSBuZXcgTWVzc2FnZSh7XG4gICAgICAgIGF1dGhvcjogJ1N5c3RlbScsXG4gICAgICAgIGNoYW5uZWw6ICdnZW5lcmFsJyxcbiAgICAgICAgdGV4dDogJ1N5c3RlbSBub3RpZmljYXRpb24nLFxuICAgICAgICB0eXBlOiAnc3lzdGVtJ1xuICAgICAgfSk7XG5cbiAgICAgIGNvbnN0IHNhdmVkTWVzc2FnZSA9IGF3YWl0IHN5c3RlbU1lc3NhZ2Uuc2F2ZSgpO1xuICAgICAgZXhwZWN0KHNhdmVkTWVzc2FnZS50eXBlKS50b0JlKCdzeXN0ZW0nKTtcbiAgICAgIGV4cGVjdChzYXZlZE1lc3NhZ2UudGV4dCkudG9CZSgnU3lzdGVtIG5vdGlmaWNhdGlvbicpO1xuICAgIH0pO1xuXG4gICAgaXQoJ3Nob3VsZCBoYW5kbGUgcHJlLXNhdmUgZm9yIG5ldyBtZXNzYWdlcycsIGFzeW5jICgpID0+IHtcbiAgICAgIGNvbnN0IHJlZ3VsYXJNZXNzYWdlID0gbmV3IE1lc3NhZ2Uoe1xuICAgICAgICBhdXRob3I6ICdyZWd1bGFydXNlcicsXG4gICAgICAgIGNoYW5uZWw6ICdnZW5lcmFsJyxcbiAgICAgICAgdGV4dDogJ1JlZ3VsYXIgbWVzc2FnZScsXG4gICAgICAgIHR5cGU6ICdwdWJsaWMnXG4gICAgICB9KTtcblxuICAgICAgY29uc3Qgc2F2ZWRNZXNzYWdlID0gYXdhaXQgcmVndWxhck1lc3NhZ2Uuc2F2ZSgpO1xuICAgICAgZXhwZWN0KHNhdmVkTWVzc2FnZS50eXBlKS50b0JlKCdwdWJsaWMnKTtcbiAgICAgIGV4cGVjdChzYXZlZE1lc3NhZ2UudGV4dCkudG9CZSgnUmVndWxhciBtZXNzYWdlJyk7XG4gICAgfSk7XG4gIH0pO1xuXG4gIGRlc2NyaWJlKCdBZHZhbmNlZCBRdWVyaWVzJywgKCkgPT4ge1xuICAgIGl0KCdzaG91bGQgcXVlcnkgcHJpdmF0ZSBtZXNzYWdlcyB3aXRoIGF1dGhvciBhbmQgdGFyZ2V0JywgYXN5bmMgKCkgPT4ge1xuICAgICAgYXdhaXQgbmV3IE1lc3NhZ2Uoe1xuICAgICAgICBhdXRob3I6ICdhbGljZScsXG4gICAgICAgIGNoYW5uZWw6ICdnZW5lcmFsJyxcbiAgICAgICAgdGV4dDogJ1ByaXZhdGUgdG8gYm9iJyxcbiAgICAgICAgdHlwZTogJ3ByaXZhdGUnLFxuICAgICAgICB0YXJnZXQ6ICdib2InXG4gICAgICB9KS5zYXZlKCk7XG5cbiAgICAgIGF3YWl0IG5ldyBNZXNzYWdlKHtcbiAgICAgICAgYXV0aG9yOiAnYWxpY2UnLFxuICAgICAgICBjaGFubmVsOiAnZ2VuZXJhbCcsXG4gICAgICAgIHRleHQ6ICdQdWJsaWMgbWVzc2FnZScsXG4gICAgICAgIHR5cGU6ICdwdWJsaWMnXG4gICAgICB9KS5zYXZlKCk7XG5cbiAgICAgIGF3YWl0IG5ldyBNZXNzYWdlKHtcbiAgICAgICAgYXV0aG9yOiAnYm9iJyxcbiAgICAgICAgY2hhbm5lbDogJ2dlbmVyYWwnLFxuICAgICAgICB0ZXh0OiAnUHJpdmF0ZSB0byBhbGljZScsXG4gICAgICAgIHR5cGU6ICdwcml2YXRlJyxcbiAgICAgICAgdGFyZ2V0OiAnYWxpY2UnXG4gICAgICB9KS5zYXZlKCk7XG5cbiAgICAgIC8vIENyZWF0ZSBzeXN0ZW0gbWVzc2FnZSB0byB0ZXN0IE9SIHF1ZXJ5XG4gICAgICBhd2FpdCBuZXcgTWVzc2FnZSh7XG4gICAgICAgIGF1dGhvcjogJ1N5c3RlbScsXG4gICAgICAgIGNoYW5uZWw6ICdnZW5lcmFsJyxcbiAgICAgICAgdGV4dDogJ1N5c3RlbSBtZXNzYWdlJyxcbiAgICAgICAgdHlwZTogJ3N5c3RlbSdcbiAgICAgIH0pLnNhdmUoKTtcblxuICAgICAgY29uc3QgYWxpY2VQcml2YXRlTWVzc2FnZXMgPSBhd2FpdCBNZXNzYWdlLmZpbmQoe1xuICAgICAgICBjaGFubmVsOiAnZ2VuZXJhbCcsXG4gICAgICAgICRvcjogW1xuICAgICAgICAgIHsgYXV0aG9yOiAnYWxpY2UnIH0sXG4gICAgICAgICAgeyB0YXJnZXQ6ICdhbGljZScgfVxuICAgICAgICBdXG4gICAgICB9KS5zb3J0KHsgdGltZXN0YW1wOiAtMSB9KTtcblxuICAgICAgZXhwZWN0KGFsaWNlUHJpdmF0ZU1lc3NhZ2VzLmxlbmd0aCkudG9CZUdyZWF0ZXJUaGFuT3JFcXVhbCgyKTtcbiAgICAgIGFsaWNlUHJpdmF0ZU1lc3NhZ2VzLmZvckVhY2gobXNnID0+IHtcbiAgICAgICAgY29uc3QgaGFzQWxpY2UgPSBtc2cuYXV0aG9yID09PSAnYWxpY2UnIHx8IG1zZy50YXJnZXQgPT09ICdhbGljZSc7XG4gICAgICAgIGV4cGVjdChoYXNBbGljZSkudG9CZSh0cnVlKTtcbiAgICAgIH0pO1xuICAgIH0pO1xuXG4gICAgaXQoJ3Nob3VsZCBzdXBwb3J0IGNvbXBsZXggZmlsdGVyaW5nIHdpdGggaW5kZXhlcycsIGFzeW5jICgpID0+IHtcbiAgICAgIC8vIENyZWF0ZSB0ZXN0IG1lc3NhZ2VzIHdpdGggY2xlYXIgdGltaW5nIHNlcGFyYXRpb25cbiAgICAgIGF3YWl0IG5ldyBQcm9taXNlKHJlc29sdmUgPT4gc2V0VGltZW91dChyZXNvbHZlLCAxMCkpO1xuXG4gICAgICBjb25zdCBtc2cxID0gYXdhaXQgbmV3IE1lc3NhZ2Uoe1xuICAgICAgICBhdXRob3I6ICd1c2VyMScsXG4gICAgICAgIGNoYW5uZWw6ICdnZW5lcmFsJyxcbiAgICAgICAgdGV4dDogJ01zZzEnLFxuICAgICAgICB0eXBlOiAncHVibGljJ1xuICAgICAgfSkuc2F2ZSgpO1xuXG4gICAgICBhd2FpdCBuZXcgUHJvbWlzZShyZXNvbHZlID0+IHNldFRpbWVvdXQocmVzb2x2ZSwgMTApKTtcblxuICAgICAgYXdhaXQgbmV3IE1lc3NhZ2Uoe1xuICAgICAgICBhdXRob3I6ICd1c2VyMScsXG4gICAgICAgIGNoYW5uZWw6ICdnZW5lcmFsJyxcbiAgICAgICAgdGV4dDogJ01zZzInLFxuICAgICAgICB0eXBlOiAncHJpdmF0ZScsXG4gICAgICAgIHRhcmdldDogJ3VzZXIyJ1xuICAgICAgfSkuc2F2ZSgpO1xuXG4gICAgICBhd2FpdCBuZXcgUHJvbWlzZShyZXNvbHZlID0+IHNldFRpbWVvdXQocmVzb2x2ZSwgMTApKTtcblxuICAgICAgYXdhaXQgbmV3IE1lc3NhZ2Uoe1xuICAgICAgICBhdXRob3I6ICd1c2VyMicsXG4gICAgICAgIGNoYW5uZWw6ICdnZW5lcmFsJyxcbiAgICAgICAgdGV4dDogJ01zZzMnLFxuICAgICAgICB0eXBlOiAncHVibGljJ1xuICAgICAgfSkuc2F2ZSgpO1xuXG4gICAgICBhd2FpdCBuZXcgUHJvbWlzZShyZXNvbHZlID0+IHNldFRpbWVvdXQocmVzb2x2ZSwgMTApKTtcblxuICAgICAgYXdhaXQgbmV3IE1lc3NhZ2Uoe1xuICAgICAgICBhdXRob3I6ICd1c2VyMScsXG4gICAgICAgIGNoYW5uZWw6ICdyYW5kb20nLFxuICAgICAgICB0ZXh0OiAnTXNnNCcsXG4gICAgICAgIHR5cGU6ICdwdWJsaWMnXG4gICAgICB9KS5zYXZlKCk7XG5cbiAgICAgIC8vIFF1ZXJ5IHVzaW5nIG11bHRpLWtleSBpbmRleFxuICAgICAgY29uc3QgdXNlck1lc3NhZ2VzID0gYXdhaXQgTWVzc2FnZS5maW5kKHtcbiAgICAgICAgYXV0aG9yOiAndXNlcjEnLFxuICAgICAgICBjaGFubmVsOiAnZ2VuZXJhbCcsXG4gICAgICAgIHR5cGU6ICdwdWJsaWMnXG4gICAgICB9KS5zb3J0KHsgdGltZXN0YW1wOiAtMSB9KTtcblxuICAgICAgZXhwZWN0KHVzZXJNZXNzYWdlcy5sZW5ndGgpLnRvQmUoMSk7XG4gICAgICBleHBlY3QodXNlck1lc3NhZ2VzWzBdLnRleHQpLnRvQmUoJ01zZzEnKTtcbiAgICAgIGV4cGVjdCh1c2VyTWVzc2FnZXNbMF0uX2lkLnRvU3RyaW5nKCkpLnRvQmUobXNnMS5faWQudG9TdHJpbmcoKSk7XG4gICAgfSk7XG4gIH0pO1xuXG4gIGRlc2NyaWJlKCdFZGdlIENhc2VzJywgKCkgPT4ge1xuICAgIGl0KCdzaG91bGQgaGFuZGxlIGVtcHR5IHRleHQgYWZ0ZXIgdHJpbW1pbmcnLCBhc3luYyAoKSA9PiB7XG4gICAgICBjb25zdCBtZXNzYWdlID0gbmV3IE1lc3NhZ2Uoe1xuICAgICAgICBhdXRob3I6ICdlbXB0eXRleHR1c2VyJyxcbiAgICAgICAgY2hhbm5lbDogJ2dlbmVyYWwnLFxuICAgICAgICB0ZXh0OiAnICAgJyxcbiAgICAgICAgdHlwZTogJ3B1YmxpYydcbiAgICAgIH0pO1xuXG4gICAgICBsZXQgZXJyb3I7XG4gICAgICB0cnkge1xuICAgICAgICBhd2FpdCBtZXNzYWdlLnNhdmUoKTtcbiAgICAgIH0gY2F0Y2ggKGVycikge1xuICAgICAgICBlcnJvciA9IGVycjtcbiAgICAgIH1cbiAgICAgIC8vIE5vdGU6IFRoaXMgbWlnaHQgcGFzcyB2YWxpZGF0aW9uIGJ1dCBzaG91bGQgYmUgaGFuZGxlZCBpbiBidXNpbmVzcyBsb2dpY1xuICAgICAgZXhwZWN0KG1lc3NhZ2UudGV4dCkudG9CZSgnICAgJyk7IC8vIE1vbmdvb3NlIGRvZXNuJ3QgYXV0by10cmltXG4gICAgfSk7XG5cbiAgICBpdCgnc2hvdWxkIGhhbmRsZSBleHRyZW1lbHkgbG9uZyB0aW1lc3RhbXBzIGNvcnJlY3RseScsIGFzeW5jICgpID0+IHtcbiAgICAgIGNvbnN0IG1lc3NhZ2UgPSBuZXcgTWVzc2FnZSh7XG4gICAgICAgIGF1dGhvcjogJ3RpbWVzdGFtcHVzZXInLFxuICAgICAgICBjaGFubmVsOiAnZ2VuZXJhbCcsXG4gICAgICAgIHRleHQ6ICdUaW1lc3RhbXAgdGVzdCcsXG4gICAgICAgIHR5cGU6ICdwdWJsaWMnLFxuICAgICAgICB0aW1lc3RhbXA6IG5ldyBEYXRlKCcyMDM4LTAxLTE5VDAzOjE0OjA3LjAwMFonKSAvLyBZZWFyIDIwMzggcHJvYmxlbVxuICAgICAgfSk7XG5cbiAgICAgIGNvbnN0IHNhdmVkTWVzc2FnZSA9IGF3YWl0IG1lc3NhZ2Uuc2F2ZSgpO1xuICAgICAgZXhwZWN0KHNhdmVkTWVzc2FnZS50aW1lc3RhbXAuZ2V0RnVsbFllYXIoKSkudG9CZSgyMDM4KTtcbiAgICB9KTtcblxuICAgIGl0KCdzaG91bGQgaGFuZGxlIGNvbmN1cnJlbnQgbWVzc2FnZSBjcmVhdGlvbicsIGFzeW5jICgpID0+IHtcbiAgICAgIGNvbnN0IHByb21pc2VzID0gW107XG4gICAgICBjb25zdCBjaGFubmVscyA9IFsnZ2VuZXJhbCcsICdyYW5kb20nLCAndm9pY2UnXTtcblxuICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCAxMDsgaSsrKSB7XG4gICAgICAgIHByb21pc2VzLnB1c2goXG4gICAgICAgICAgbmV3IE1lc3NhZ2Uoe1xuICAgICAgICAgICAgYXV0aG9yOiBgY29uY3VycmVudHVzZXIke2l9YCxcbiAgICAgICAgICAgIGNoYW5uZWw6IGNoYW5uZWxzW2kgJSBjaGFubmVscy5sZW5ndGhdLFxuICAgICAgICAgICAgdGV4dDogYENvbmN1cnJlbnQgbWVzc2FnZSAke2l9YCxcbiAgICAgICAgICAgIHR5cGU6ICdwdWJsaWMnXG4gICAgICAgICAgfSkuc2F2ZSgpXG4gICAgICAgICk7XG4gICAgICB9XG5cbiAgICAgIGNvbnN0IHJlc3VsdHMgPSBhd2FpdCBQcm9taXNlLmFsbChwcm9taXNlcyk7XG4gICAgICBleHBlY3QocmVzdWx0cy5sZW5ndGgpLnRvQmUoMTApO1xuXG4gICAgICByZXN1bHRzLmZvckVhY2goKG1zZywgaW5kZXgpID0+IHtcbiAgICAgICAgZXhwZWN0KG1zZy5hdXRob3IpLnRvQmUoYGNvbmN1cnJlbnR1c2VyJHtpbmRleH1gKTtcbiAgICAgICAgZXhwZWN0KG1zZy50ZXh0KS50b0JlKGBDb25jdXJyZW50IG1lc3NhZ2UgJHtpbmRleH1gKTtcbiAgICAgIH0pO1xuICAgIH0pO1xuXG4gICAgaXQoJ3Nob3VsZCB2YWxpZGF0ZSBlbXB0eSBhdXRob3IgZmllbGQnLCBhc3luYyAoKSA9PiB7XG4gICAgICBjb25zdCBtZXNzYWdlID0gbmV3IE1lc3NhZ2Uoe1xuICAgICAgICBhdXRob3I6ICcnLFxuICAgICAgICBjaGFubmVsOiAnZ2VuZXJhbCcsXG4gICAgICAgIHRleHQ6ICdUZXN0IG1lc3NhZ2UnLFxuICAgICAgICB0eXBlOiAncHVibGljJ1xuICAgICAgfSk7XG5cbiAgICAgIGxldCBlcnJvcjtcbiAgICAgIHRyeSB7XG4gICAgICAgIGF3YWl0IG1lc3NhZ2Uuc2F2ZSgpO1xuICAgICAgfSBjYXRjaCAoZXJyKSB7XG4gICAgICAgIGVycm9yID0gZXJyO1xuICAgICAgfVxuXG4gICAgICBleHBlY3QoZXJyb3IpLnRvQmVEZWZpbmVkKCk7XG4gICAgICBleHBlY3QoZXJyb3IuZXJyb3JzLmF1dGhvcikudG9CZURlZmluZWQoKTtcbiAgICB9KTtcblxuICAgIGl0KCdzaG91bGQgdmFsaWRhdGUgd2hpdGVzcGFjZS1vbmx5IGF1dGhvcicsIGFzeW5jICgpID0+IHtcbiAgICAgIGNvbnN0IG1lc3NhZ2UgPSBuZXcgTWVzc2FnZSh7XG4gICAgICAgIGF1dGhvcjogJyAgICcsXG4gICAgICAgIGNoYW5uZWw6ICdnZW5lcmFsJyxcbiAgICAgICAgdGV4dDogJ1Rlc3QgbWVzc2FnZScsXG4gICAgICAgIHR5cGU6ICdwdWJsaWMnXG4gICAgICB9KTtcblxuICAgICAgbGV0IGVycm9yO1xuICAgICAgdHJ5IHtcbiAgICAgICAgYXdhaXQgbWVzc2FnZS5zYXZlKCk7XG4gICAgICB9IGNhdGNoIChlcnIpIHtcbiAgICAgICAgZXJyb3IgPSBlcnI7XG4gICAgICB9XG5cbiAgICAgIGV4cGVjdChlcnJvcikudG9CZURlZmluZWQoKTtcbiAgICAgIGV4cGVjdChlcnJvci5lcnJvcnMuYXV0aG9yKS50b0JlRGVmaW5lZCgpO1xuICAgIH0pO1xuXG4gICAgaXQoJ3Nob3VsZCB2YWxpZGF0ZSBlbXB0eSBjaGFubmVsIGZpZWxkJywgYXN5bmMgKCkgPT4ge1xuICAgICAgY29uc3QgbWVzc2FnZSA9IG5ldyBNZXNzYWdlKHtcbiAgICAgICAgYXV0aG9yOiAndGVzdHVzZXInLFxuICAgICAgICBjaGFubmVsOiAnJyxcbiAgICAgICAgdGV4dDogJ1Rlc3QgbWVzc2FnZScsXG4gICAgICAgIHR5cGU6ICdwdWJsaWMnXG4gICAgICB9KTtcblxuICAgICAgbGV0IGVycm9yO1xuICAgICAgdHJ5IHtcbiAgICAgICAgYXdhaXQgbWVzc2FnZS5zYXZlKCk7XG4gICAgICB9IGNhdGNoIChlcnIpIHtcbiAgICAgICAgZXJyb3IgPSBlcnI7XG4gICAgICB9XG5cbiAgICAgIGV4cGVjdChlcnJvcikudG9CZURlZmluZWQoKTtcbiAgICAgIGV4cGVjdChlcnJvci5lcnJvcnMuY2hhbm5lbCkudG9CZURlZmluZWQoKTtcbiAgICB9KTtcblxuICAgIGl0KCdzaG91bGQgdmFsaWRhdGUgbWVzc2FnZXMgd2l0aCBleGFjdGx5IDIwMDAgY2hhcmFjdGVycycsIGFzeW5jICgpID0+IHtcbiAgICAgIGNvbnN0IGV4YWN0TGVuZ3RoVGV4dCA9ICdhJy5yZXBlYXQoMjAwMCk7IC8vIEV4YWN0bHkgYXQgbGltaXRcbiAgICAgIGNvbnN0IG1lc3NhZ2UgPSBuZXcgTWVzc2FnZSh7XG4gICAgICAgIGF1dGhvcjogJ2xpbWl0dXNlcicsXG4gICAgICAgIGNoYW5uZWw6ICdnZW5lcmFsJyxcbiAgICAgICAgdGV4dDogZXhhY3RMZW5ndGhUZXh0LFxuICAgICAgICB0eXBlOiAncHVibGljJ1xuICAgICAgfSk7XG5cbiAgICAgIGNvbnN0IHNhdmVkTWVzc2FnZSA9IGF3YWl0IG1lc3NhZ2Uuc2F2ZSgpO1xuICAgICAgZXhwZWN0KHNhdmVkTWVzc2FnZS50ZXh0Lmxlbmd0aCkudG9CZSgyMDAwKTtcbiAgICB9KTtcblxuICAgIGl0KCdzaG91bGQgcmVqZWN0IG1lc3NhZ2VzIG92ZXIgMjAwMCBjaGFyYWN0ZXJzJywgYXN5bmMgKCkgPT4ge1xuICAgICAgY29uc3QgdG9vTG9uZ1RleHQgPSAnYScucmVwZWF0KDIwMDEpOyAvLyBPdmVyIGxpbWl0XG4gICAgICBjb25zdCBtZXNzYWdlID0gbmV3IE1lc3NhZ2Uoe1xuICAgICAgICBhdXRob3I6ICd0b29sb25ndXNlcicsXG4gICAgICAgIGNoYW5uZWw6ICdnZW5lcmFsJyxcbiAgICAgICAgdGV4dDogdG9vTG9uZ1RleHQsXG4gICAgICAgIHR5cGU6ICdwdWJsaWMnXG4gICAgICB9KTtcblxuICAgICAgbGV0IGVycm9yO1xuICAgICAgdHJ5IHtcbiAgICAgICAgYXdhaXQgbWVzc2FnZS5zYXZlKCk7XG4gICAgICB9IGNhdGNoIChlcnIpIHtcbiAgICAgICAgZXJyb3IgPSBlcnI7XG4gICAgICB9XG5cbiAgICAgIGV4cGVjdChlcnJvcikudG9CZURlZmluZWQoKTtcbiAgICAgIGV4cGVjdChlcnJvci5lcnJvcnMudGV4dCkudG9CZURlZmluZWQoKTtcbiAgICB9KTtcblxuICAgIGl0KCdzaG91bGQgaGFuZGxlIG1lc3NhZ2VzIHdpdGggc3BlY2lhbCBjaGFyYWN0ZXJzIGFuZCBzeW1ib2xzJywgYXN5bmMgKCkgPT4ge1xuICAgICAgY29uc3Qgc3BlY2lhbFRleHRzID0gW1xuICAgICAgICAnSGVsbG8g8J+MjSBXb3JsZCEnLFxuICAgICAgICAnTWVzc2FnZSB3aXRoIDxzY3JpcHQ+YWxlcnQoXCJ4c3NcIik8L3NjcmlwdD4nLFxuICAgICAgICAnVW5pY29kZTog5L2g5aW944GT44KT44Gr44Gh44GvJyxcbiAgICAgICAgJ0Vtb2ppczog8J+YgPCfjonwn5qA8J+SuycsXG4gICAgICAgICdNYXRoOiDiiKviiJ4t4oieIGYoeCkgZHgnXG4gICAgICBdO1xuXG4gICAgICBmb3IgKGNvbnN0IHNwZWNpYWxUZXh0IG9mIHNwZWNpYWxUZXh0cykge1xuICAgICAgICBjb25zdCBtZXNzYWdlID0gbmV3IE1lc3NhZ2Uoe1xuICAgICAgICAgIGF1dGhvcjogJ3N5bWJvbHVzZXInLFxuICAgICAgICAgIGNoYW5uZWw6ICdnZW5lcmFsJyxcbiAgICAgICAgICB0ZXh0OiBzcGVjaWFsVGV4dCxcbiAgICAgICAgICB0eXBlOiAncHVibGljJ1xuICAgICAgICB9KTtcblxuICAgICAgICBjb25zdCBzYXZlZE1lc3NhZ2UgPSBhd2FpdCBtZXNzYWdlLnNhdmUoKTtcbiAgICAgICAgZXhwZWN0KHNhdmVkTWVzc2FnZS50ZXh0KS50b0JlKHNwZWNpYWxUZXh0KTtcbiAgICAgIH1cbiAgICB9KTtcblxuICAgIGl0KCdzaG91bGQgaGFuZGxlIGVtcHR5IHRhcmdldCBmb3IgcHVibGljIG1lc3NhZ2VzJywgYXN5bmMgKCkgPT4ge1xuICAgICAgY29uc3QgbWVzc2FnZSA9IG5ldyBNZXNzYWdlKHtcbiAgICAgICAgYXV0aG9yOiAncHVibGljdXNlcicsXG4gICAgICAgIGNoYW5uZWw6ICdnZW5lcmFsJyxcbiAgICAgICAgdGV4dDogJ1B1YmxpYyBtZXNzYWdlJyxcbiAgICAgICAgdHlwZTogJ3B1YmxpYycsXG4gICAgICAgIHRhcmdldDogbnVsbFxuICAgICAgfSk7XG5cbiAgICAgIGNvbnN0IHNhdmVkTWVzc2FnZSA9IGF3YWl0IG1lc3NhZ2Uuc2F2ZSgpO1xuICAgICAgZXhwZWN0KHNhdmVkTWVzc2FnZS50YXJnZXQpLnRvQmVOdWxsKCk7XG4gICAgfSk7XG5cbiAgICBpdCgnc2hvdWxkIGhhbmRsZSBlbXB0eSB0YXJnZXQgZm9yIHN5c3RlbSBtZXNzYWdlcycsIGFzeW5jICgpID0+IHtcbiAgICAgIGNvbnN0IG1lc3NhZ2UgPSBuZXcgTWVzc2FnZSh7XG4gICAgICAgIGF1dGhvcjogJ3N5c3RlbScsXG4gICAgICAgIGNoYW5uZWw6ICdnZW5lcmFsJyxcbiAgICAgICAgdGV4dDogJ1N5c3RlbSBub3RpZmljYXRpb24nLFxuICAgICAgICB0eXBlOiAnc3lzdGVtJyxcbiAgICAgICAgdGFyZ2V0OiBudWxsXG4gICAgICB9KTtcblxuICAgICAgY29uc3Qgc2F2ZWRNZXNzYWdlID0gYXdhaXQgbWVzc2FnZS5zYXZlKCk7XG4gICAgICBleHBlY3Qoc2F2ZWRNZXNzYWdlLnRhcmdldCkudG9CZU51bGwoKTtcbiAgICAgIGV4cGVjdChzYXZlZE1lc3NhZ2UudHlwZSkudG9CZSgnc3lzdGVtJyk7XG4gICAgfSk7XG5cbiAgICBpdCgnc2hvdWxkIHZhbGlkYXRlIHByaXZhdGUgbWVzc2FnZXMgd2l0aCBzcGVjaWFsIGNoYXJhY3RlcnMgaW4gdGFyZ2V0JywgYXN5bmMgKCkgPT4ge1xuICAgICAgY29uc3QgbWVzc2FnZSA9IG5ldyBNZXNzYWdlKHtcbiAgICAgICAgYXV0aG9yOiAncHJpdmF0ZXVzZXInLFxuICAgICAgICBjaGFubmVsOiAnZ2VuZXJhbCcsXG4gICAgICAgIHRleHQ6ICdQcml2YXRlIG1lc3NhZ2UnLFxuICAgICAgICB0eXBlOiAncHJpdmF0ZScsXG4gICAgICAgIHRhcmdldDogJ3NwZWNpYWxAdXNlcidcbiAgICAgIH0pO1xuXG4gICAgICBjb25zdCBzYXZlZE1lc3NhZ2UgPSBhd2FpdCBtZXNzYWdlLnNhdmUoKTtcbiAgICAgIGV4cGVjdChzYXZlZE1lc3NhZ2UudHlwZSkudG9CZSgncHJpdmF0ZScpO1xuICAgICAgZXhwZWN0KHNhdmVkTWVzc2FnZS50YXJnZXQpLnRvQmUoJ3NwZWNpYWxAdXNlcicpO1xuICAgIH0pO1xuXG4gICAgaXQoJ3Nob3VsZCBoYW5kbGUgZnV0dXJlIHRpbWVzdGFtcHMnLCBhc3luYyAoKSA9PiB7XG4gICAgICBjb25zdCBmdXR1cmVEYXRlID0gbmV3IERhdGUoKTtcbiAgICAgIGZ1dHVyZURhdGUuc2V0RnVsbFllYXIoZnV0dXJlRGF0ZS5nZXRGdWxsWWVhcigpICsgNSk7IC8vIDUgeWVhcnMgaW4gZnV0dXJlXG5cbiAgICAgIGNvbnN0IG1lc3NhZ2UgPSBuZXcgTWVzc2FnZSh7XG4gICAgICAgIGF1dGhvcjogJ2Z1dHVyZXVzZXInLFxuICAgICAgICBjaGFubmVsOiAnZ2VuZXJhbCcsXG4gICAgICAgIHRleHQ6ICdGdXR1cmUgdGltZXN0YW1wIG1lc3NhZ2UnLFxuICAgICAgICB0eXBlOiAncHVibGljJyxcbiAgICAgICAgdGltZXN0YW1wOiBmdXR1cmVEYXRlXG4gICAgICB9KTtcblxuICAgICAgY29uc3Qgc2F2ZWRNZXNzYWdlID0gYXdhaXQgbWVzc2FnZS5zYXZlKCk7XG4gICAgICBleHBlY3Qoc2F2ZWRNZXNzYWdlLnRpbWVzdGFtcC5nZXRUaW1lKCkpLnRvQmUoZnV0dXJlRGF0ZS5nZXRUaW1lKCkpO1xuICAgIH0pO1xuXG4gICAgaXQoJ3Nob3VsZCBoYW5kbGUgdGltZXN0YW1wIHdpdGggbWlsbGlzZWNvbmRzIHByZWNpc2lvbicsIGFzeW5jICgpID0+IHtcbiAgICAgIGNvbnN0IHByZWNpc2VUaW1lc3RhbXAgPSBuZXcgRGF0ZSgpO1xuICAgICAgcHJlY2lzZVRpbWVzdGFtcC5zZXRNaWxsaXNlY29uZHMoMTIzKTsgLy8gU2V0IHNwZWNpZmljIG1pbGxpc2Vjb25kc1xuXG4gICAgICBjb25zdCBtZXNzYWdlID0gbmV3IE1lc3NhZ2Uoe1xuICAgICAgICBhdXRob3I6ICdwcmVjaXNldXNlcicsXG4gICAgICAgIGNoYW5uZWw6ICdnZW5lcmFsJyxcbiAgICAgICAgdGV4dDogJ1ByZWNpc2UgdGltZXN0YW1wIG1lc3NhZ2UnLFxuICAgICAgICB0eXBlOiAncHVibGljJyxcbiAgICAgICAgdGltZXN0YW1wOiBwcmVjaXNlVGltZXN0YW1wXG4gICAgICB9KTtcblxuICAgICAgY29uc3Qgc2F2ZWRNZXNzYWdlID0gYXdhaXQgbWVzc2FnZS5zYXZlKCk7XG4gICAgICBleHBlY3Qoc2F2ZWRNZXNzYWdlLnRpbWVzdGFtcC5nZXRNaWxsaXNlY29uZHMoKSkudG9CZSgxMjMpO1xuICAgIH0pO1xuXG4gICAgaXQoJ3Nob3VsZCBoYW5kbGUgbWVzc2FnZSB0eXBlIGNoYW5nZXMgdG8gaW52YWxpZCB2YWx1ZXMnLCBhc3luYyAoKSA9PiB7XG4gICAgICBjb25zdCBtZXNzYWdlID0gbmV3IE1lc3NhZ2Uoe1xuICAgICAgICBhdXRob3I6ICdpbnZhbGlkdHlwZXVzZXInLFxuICAgICAgICBjaGFubmVsOiAnZ2VuZXJhbCcsXG4gICAgICAgIHRleHQ6ICdJbnZhbGlkIHR5cGUgdGVzdCcsXG4gICAgICAgIHR5cGU6ICdpbnZhbGlkJyAvLyBJbnZhbGlkIHR5cGVcbiAgICAgIH0pO1xuXG4gICAgICBsZXQgZXJyb3I7XG4gICAgICB0cnkge1xuICAgICAgICBhd2FpdCBtZXNzYWdlLnNhdmUoKTtcbiAgICAgIH0gY2F0Y2ggKGVycikge1xuICAgICAgICBlcnJvciA9IGVycjtcbiAgICAgIH1cblxuICAgICAgZXhwZWN0KGVycm9yKS50b0JlRGVmaW5lZCgpO1xuICAgICAgZXhwZWN0KGVycm9yLmVycm9ycy50eXBlKS50b0JlRGVmaW5lZCgpO1xuICAgIH0pO1xuXG4gICAgaXQoJ3Nob3VsZCBoYW5kbGUgZXh0cmVtZWx5IGxvbmcgYXV0aG9yIG5hbWVzJywgYXN5bmMgKCkgPT4ge1xuICAgICAgY29uc3QgbG9uZ0F1dGhvciA9ICdhJy5yZXBlYXQoNTAwKTsgLy8gVmVyeSBsb25nIGF1dGhvciBuYW1lXG4gICAgICBjb25zdCBtZXNzYWdlID0gbmV3IE1lc3NhZ2Uoe1xuICAgICAgICBhdXRob3I6IGxvbmdBdXRob3IsXG4gICAgICAgIGNoYW5uZWw6ICdnZW5lcmFsJyxcbiAgICAgICAgdGV4dDogJ0xvbmcgYXV0aG9yIHRlc3QnLFxuICAgICAgICB0eXBlOiAncHVibGljJ1xuICAgICAgfSk7XG5cbiAgICAgIGNvbnN0IHNhdmVkTWVzc2FnZSA9IGF3YWl0IG1lc3NhZ2Uuc2F2ZSgpO1xuICAgICAgZXhwZWN0KHNhdmVkTWVzc2FnZS5hdXRob3IpLnRvQmUobG9uZ0F1dGhvcik7XG4gICAgfSk7XG5cbiAgICBpdCgnc2hvdWxkIGhhbmRsZSBleHRyZW1lbHkgbG9uZyBjaGFubmVsIG5hbWVzJywgYXN5bmMgKCkgPT4ge1xuICAgICAgY29uc3QgbG9uZ0NoYW5uZWwgPSAnYScucmVwZWF0KDIwMCk7IC8vIFZlcnkgbG9uZyBjaGFubmVsIG5hbWVcbiAgICAgIGNvbnN0IG1lc3NhZ2UgPSBuZXcgTWVzc2FnZSh7XG4gICAgICAgIGF1dGhvcjogJ2NoYW5uZWx1c2VyJyxcbiAgICAgICAgY2hhbm5lbDogbG9uZ0NoYW5uZWwsXG4gICAgICAgIHRleHQ6ICdMb25nIGNoYW5uZWwgdGVzdCcsXG4gICAgICAgIHR5cGU6ICdwdWJsaWMnXG4gICAgICB9KTtcblxuICAgICAgY29uc3Qgc2F2ZWRNZXNzYWdlID0gYXdhaXQgbWVzc2FnZS5zYXZlKCk7XG4gICAgICBleHBlY3Qoc2F2ZWRNZXNzYWdlLmNoYW5uZWwpLnRvQmUobG9uZ0NoYW5uZWwpO1xuICAgIH0pO1xuXG4gICAgaXQoJ3Nob3VsZCBoYW5kbGUgY2hhbm5lbCBuYW1lcyB3aXRoIHNwZWNpYWwgY2hhcmFjdGVycycsIGFzeW5jICgpID0+IHtcbiAgICAgIGNvbnN0IHNwZWNpYWxDaGFubmVscyA9IFsnY2hhbm5lbEBkb21haW4nLCAnY2hhbm5lbCNoYXNoJywgJ2NoYW5uZWwkc3BlY2lhbCddO1xuXG4gICAgICBmb3IgKGNvbnN0IGNoYW5uZWxOYW1lIG9mIHNwZWNpYWxDaGFubmVscykge1xuICAgICAgICBjb25zdCBtZXNzYWdlID0gbmV3IE1lc3NhZ2Uoe1xuICAgICAgICAgIGF1dGhvcjogJ3NwZWNpYWxjaGFubmVsdXNlcicsXG4gICAgICAgICAgY2hhbm5lbDogY2hhbm5lbE5hbWUsXG4gICAgICAgICAgdGV4dDogJ1NwZWNpYWwgY2hhbm5lbCB0ZXN0JyxcbiAgICAgICAgICB0eXBlOiAncHVibGljJ1xuICAgICAgICB9KTtcblxuICAgICAgICBjb25zdCBzYXZlZE1lc3NhZ2UgPSBhd2FpdCBtZXNzYWdlLnNhdmUoKTtcbiAgICAgICAgZXhwZWN0KHNhdmVkTWVzc2FnZS5jaGFubmVsKS50b0JlKGNoYW5uZWxOYW1lKTtcbiAgICAgIH1cbiAgICB9KTtcblxuICAgIGl0KCdzaG91bGQgaGFuZGxlIG1lc3NhZ2UgdGV4dCB3aXRoIG1peGVkIGVuY29kaW5ncycsIGFzeW5jICgpID0+IHtcbiAgICAgIGNvbnN0IG1peGVkVGV4dCA9ICfQn9GA0LjQstC10YIgSGVsbG8g8J+MjSDQsNGA0LDQsdGB0LrQuNC5OiDZhdix2K3YqNinJztcbiAgICAgIGNvbnN0IG1lc3NhZ2UgPSBuZXcgTWVzc2FnZSh7XG4gICAgICAgIGF1dGhvcjogJ21peGVkZW5jb2RpbmcnLFxuICAgICAgICBjaGFubmVsOiAnZ2VuZXJhbCcsXG4gICAgICAgIHRleHQ6IG1peGVkVGV4dCxcbiAgICAgICAgdHlwZTogJ3B1YmxpYydcbiAgICAgIH0pO1xuXG4gICAgICBjb25zdCBzYXZlZE1lc3NhZ2UgPSBhd2FpdCBtZXNzYWdlLnNhdmUoKTtcbiAgICAgIGV4cGVjdChzYXZlZE1lc3NhZ2UudGV4dCkudG9CZShtaXhlZFRleHQpO1xuICAgIH0pO1xuXG4gICAgaXQoJ3Nob3VsZCBoYW5kbGUgbnVsbCB2YWx1ZXMgZm9yIG9wdGlvbmFsIGZpZWxkcyBjb3JyZWN0bHknLCBhc3luYyAoKSA9PiB7XG4gICAgICBjb25zdCBtZXNzYWdlID0gbmV3IE1lc3NhZ2Uoe1xuICAgICAgICBhdXRob3I6ICdudWxsdGVzdHVzZXInLFxuICAgICAgICBjaGFubmVsOiAnZ2VuZXJhbCcsXG4gICAgICAgIHRleHQ6ICdOdWxsIHRlc3QgbWVzc2FnZScsXG4gICAgICAgIHR5cGU6ICdwdWJsaWMnLFxuICAgICAgICB0YXJnZXQ6IG51bGwsXG4gICAgICAgIHN0YXR1czogbnVsbCxcbiAgICAgICAgcmVwbHlUbzogbnVsbFxuICAgICAgfSk7XG5cbiAgICAgIGNvbnN0IHNhdmVkTWVzc2FnZSA9IGF3YWl0IG1lc3NhZ2Uuc2F2ZSgpO1xuICAgICAgZXhwZWN0KHNhdmVkTWVzc2FnZS50YXJnZXQpLnRvQmVOdWxsKCk7XG4gICAgICBleHBlY3Qoc2F2ZWRNZXNzYWdlLnN0YXR1cykudG9CZSgnZGVsaXZlcmVkJyk7IC8vIERlZmF1bHQgdmFsdWVcbiAgICAgIGV4cGVjdChzYXZlZE1lc3NhZ2UucmVwbHlUbykudG9CZU51bGwoKTtcbiAgICB9KTtcblxuICAgIGl0KCdzaG91bGQgaGFuZGxlIGZhaWxlZCBtZXNzYWdlIHN0YXR1cyBjaGFuZ2VzJywgYXN5bmMgKCkgPT4ge1xuICAgICAgY29uc3QgbWVzc2FnZSA9IG5ldyBNZXNzYWdlKHtcbiAgICAgICAgYXV0aG9yOiAnZmFpbGVkdXNlcicsXG4gICAgICAgIGNoYW5uZWw6ICdnZW5lcmFsJyxcbiAgICAgICAgdGV4dDogJ0ZhaWxlZCBtZXNzYWdlIHRlc3QnLFxuICAgICAgICB0eXBlOiAncHVibGljJyxcbiAgICAgICAgc3RhdHVzOiAnZmFpbGVkJ1xuICAgICAgfSk7XG5cbiAgICAgIGNvbnN0IHNhdmVkTWVzc2FnZSA9IGF3YWl0IG1lc3NhZ2Uuc2F2ZSgpO1xuICAgICAgZXhwZWN0KHNhdmVkTWVzc2FnZS5zdGF0dXMpLnRvQmUoJ2ZhaWxlZCcpO1xuICAgIH0pO1xuXG4gICAgaXQoJ3Nob3VsZCB2YWxpZGF0ZSByZXBseVRvIHdpdGggaW52YWxpZCBPYmplY3RJZCcsIGFzeW5jICgpID0+IHtcbiAgICAgIGNvbnN0IG1lc3NhZ2UgPSBuZXcgTWVzc2FnZSh7XG4gICAgICAgIGF1dGhvcjogJ3JlcGx5dG91c2VyJyxcbiAgICAgICAgY2hhbm5lbDogJ2dlbmVyYWwnLFxuICAgICAgICB0ZXh0OiAnUmVwbHkgdG8gdGVzdCcsXG4gICAgICAgIHR5cGU6ICdwdWJsaWMnLFxuICAgICAgICByZXBseVRvOiAnaW52YWxpZC1vYmplY3QtaWQnXG4gICAgICB9KTtcblxuICAgICAgbGV0IGVycm9yO1xuICAgICAgdHJ5IHtcbiAgICAgICAgYXdhaXQgbWVzc2FnZS5zYXZlKCk7XG4gICAgICB9IGNhdGNoIChlcnIpIHtcbiAgICAgICAgZXJyb3IgPSBlcnI7XG4gICAgICB9XG5cbiAgICAgIC8vIE1vbmdvb3NlIG1pZ2h0IG5vdCB2YWxpZGF0ZSBPYmplY3RJZCBmb3JtYXQgaW4gc2F2ZSwgaXQgY291bGQgYmUgaGFuZGxlZCBhdCBwb3B1bGF0aW9uXG4gICAgICBleHBlY3QobWVzc2FnZS5yZXBseVRvKS50b0JlKCdpbnZhbGlkLW9iamVjdC1pZCcpO1xuICAgIH0pO1xuICB9KTtcbn0pOyJdLCJtYXBwaW5ncyI6IkFBQUEsTUFBTUEsT0FBTyxHQUFHQyxPQUFPLENBQUMsc0JBQXNCLENBQUM7QUFFL0NDLFFBQVEsQ0FBQyxlQUFlLEVBQUUsTUFBTTtFQUM5QkEsUUFBUSxDQUFDLGtCQUFrQixFQUFFLE1BQU07SUFDakNDLEVBQUUsQ0FBQyx5Q0FBeUMsRUFBRSxZQUFZO01BQ3hELE1BQU1DLFdBQVcsR0FBRztRQUNsQkMsTUFBTSxFQUFFLFVBQVU7UUFDbEJDLE9BQU8sRUFBRSxTQUFTO1FBQ2xCQyxJQUFJLEVBQUUsY0FBYztRQUNwQkMsSUFBSSxFQUFFO01BQ1IsQ0FBQztNQUVELE1BQU1DLE9BQU8sR0FBRyxJQUFJVCxPQUFPLENBQUNJLFdBQVcsQ0FBQztNQUN4QyxNQUFNTSxZQUFZLEdBQUcsTUFBTUQsT0FBTyxDQUFDRSxJQUFJLENBQUMsQ0FBQztNQUV6Q0MsTUFBTSxDQUFDRixZQUFZLENBQUNMLE1BQU0sQ0FBQyxDQUFDUSxJQUFJLENBQUNULFdBQVcsQ0FBQ0MsTUFBTSxDQUFDO01BQ3BETyxNQUFNLENBQUNGLFlBQVksQ0FBQ0osT0FBTyxDQUFDLENBQUNPLElBQUksQ0FBQ1QsV0FBVyxDQUFDRSxPQUFPLENBQUM7TUFDdERNLE1BQU0sQ0FBQ0YsWUFBWSxDQUFDSCxJQUFJLENBQUMsQ0FBQ00sSUFBSSxDQUFDVCxXQUFXLENBQUNHLElBQUksQ0FBQztNQUNoREssTUFBTSxDQUFDRixZQUFZLENBQUNGLElBQUksQ0FBQyxDQUFDSyxJQUFJLENBQUNULFdBQVcsQ0FBQ0ksSUFBSSxDQUFDO01BQ2hESSxNQUFNLENBQUNGLFlBQVksQ0FBQ0ksU0FBUyxDQUFDLENBQUNDLFdBQVcsQ0FBQyxDQUFDO01BQzVDSCxNQUFNLENBQUNGLFlBQVksQ0FBQ00sTUFBTSxDQUFDLENBQUNILElBQUksQ0FBQyxXQUFXLENBQUM7SUFDL0MsQ0FBQyxDQUFD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