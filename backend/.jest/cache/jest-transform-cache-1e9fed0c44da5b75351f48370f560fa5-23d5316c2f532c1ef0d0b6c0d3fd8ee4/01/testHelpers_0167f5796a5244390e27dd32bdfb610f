3c5ed9933dfce80c2ca57be0c05584de
// Shared test helpers for backend testing

const request = require('supertest');
const jwt = require('jsonwebtoken');
const User = require('../../models/User');
const Channel = require('../../models/Channel');

// User test helpers
class UserTestHelper {
  constructor() {
    this.createdUsers = [];
  }
  async createUser(userData = {}) {
    const defaultData = {
      nickname: `testuser_${Date.now()}_${Math.random().toString(36).substr(2, 9)}`,
      email: `test${Date.now()}@example.com`,
      password: 'password123'
    };
    const finalData = {
      ...defaultData,
      ...userData
    };
    const user = new User(finalData);
    try {
      await user.save();
      this.createdUsers.push(user);
      return user;
    } catch (error) {
      throw new Error(`Failed to create test user: ${error.message}`);
    }
  }
  async getUser(options = {}) {
    if (!this.createdUsers.length && !options.createIfNone) {
      throw new Error('No test users available');
    }
    if (!this.createdUsers.length && options.createIfNone) {
      return this.createUser();
    }
    return options.userId ? this.createdUsers.find(u => u._id === options.userId) : this.createdUsers[this.createdUsers.length - 1];
  }
  async getToken(user = null) {
    const targetUser = user || (await this.getUser());
    return jwt.sign({
      id: targetUser._id,
      nickname: targetUser.nickname,
      role: targetUser.role
    }, process.env.JWT_SECRET, {
      expiresIn: '24h'
    });
  }
  async cleanup() {
    for (const user of this.createdUsers) {
      try {
        await User.findByIdAndDelete(user._id);
      } catch (error) {
        console.warn(`Failed to cleanup test user ${user._id}:`, error.message);
      }
    }
    this.createdUsers = [];
  }
}

// Channel test helpers
class ChannelTestHelper {
  constructor() {
    this.createdChannels = [];
  }
  async createChannel(channelData = {}) {
    const defaultData = {
      id: `channel_${Date.now()}_${Math.random().toString(36).substr(2, 9)}`,
      name: `Test Channel ${Date.now()}`,
      type: 'text'
    };
    const finalData = {
      ...defaultData,
      ...channelData
    };
    const channel = new Channel(finalData);
    try {
      await channel.save();
      this.createdChannels.push(channel);
      return channel;
    } catch (error) {
      throw new Error(`Failed to create test channel: ${error.message}`);
    }
  }
  async getChannel(options = {}) {
    if (!this.createdChannels.length && !options.createIfNone) {
      throw new Error('No test channels available');
    }
    if (!this.createdChannels.length && options.createIfNone) {
      return this.createChannel();
    }
    return options.channelId ? this.createdChannels.find(c => c._id === options.channelId) : this.createdChannels[this.createdChannels.length - 1];
  }
  async cleanup() {
    for (const channel of this.createdChannels) {
      try {
        await Channel.findByIdAndDelete(channel._id);
      } catch (error) {
        console.warn(`Failed to cleanup test channel ${channel._id}:`, error.message);
      }
    }
    this.createdChannels = [];
  }
}

// HTTP test helpers
class HTTPTestHelper {
  constructor(app) {
    this.app = app;
    this.authToken = null;
    this.userHelper = new UserTestHelper();
  }
  async authenticate(user = null) {
    const targetUser = user || (await this.userHelper.createUser());
    this.authToken = await this.userHelper.getToken(targetUser);
    return targetUser;
  }
  getRequest(options = {}) {
    let req = request(this.app);
    if (this.authToken) {
      req.set('Authorization', `Bearer ${this.authToken}`);
    }
    return req;
  }
  async login(credentials = null) {
    if (credentials) {
      const creds = {
        identifier: credentials.identifier || credentials.email || credentials.nickname,
        password: credentials.password
      };
      return this.getRequest().post('/login').send(creds).then(response => {
        this.authToken = response.body.token;
        return response;
      });
    }
    const user = await this.authenticate();
    return {
      user
    };
  }
  async register(userData = {}) {
    const user = await this.userHelper.createUser(userData);
    return this.getRequest().post('/register').send({
      nickname: user.nickname,
      email: user.email,
      password: userData.password || 'password123'
    });
  }
  async cleanup() {
    await this.userHelper.cleanup();
    this.authToken = null;
  }
}

// Database test helpers
class DatabaseTestHelper {
  static async cleanupCollections(collections = null) {
    const mongoose = require('mongoose');
    const connection = mongoose.connection;
    if (!collections) {
      collections = Object.keys(connection.collections);
    }
    for (const collection of collections) {
      try {
        await connection.collections[collection].deleteMany({});
      } catch (error) {
        console.warn(`Failed to cleanup collection ${collection}:`, error.message);
      }
    }
  }
  static isConnected() {
    const mongoose = require('mongoose');
    return mongoose.connection.readyState === 1;
  }
  static async waitForConnection(timeout = 10000) {
    const mongoose = require('mongoose');
    if (mongoose.connection.readyState === 1) {
      return true;
    }
    return new Promise((resolve, reject) => {
      const timer = setTimeout(() => {
        reject(new Error(`Database connection timeout after ${timeout}ms`));
      }, timeout);
      mongoose.connection.once('connected', () => {
        clearTimeout(timer);
        resolve(true);
      });
      if (mongoose.connection.readyState === 99) {
        // disconnected
        mongoose.connection.once('error', error => {
          clearTimeout(timer);
          reject(error);
        });
      }
    });
  }
}

// Test fixture helpers
class TestFixtureHelper {
  constructor() {
    this.userHelper = new UserTestHelper();
    this.channelHelper = new ChannelTestHelper();
    this.fixtures = new Map();
  }
  create(name, factory) {
    this.fixtures.set(name, factory);
    return this;
  }
  async load(name) {
    const factory = this.fixtures.get(name);
    if (!factory) {
      throw new Error(`Fixture '${name}' not found`);
    }
    if (typeof factory === 'function') {
      return await factory(this);
    }
    return factory;
  }
  async cleanup() {
    await this.userHelper.cleanup();
    await this.channelHelper.cleanup();
    this.fixtures.clear();
  }
}

// Socket test helpers
class SocketTestHelper {
  constructor(io, port) {
    this.io = io;
    this.port = port;
    this.connectedClients = new Map();
  }
  createClient(options = {}) {
    return new Promise((resolve, reject) => {
      const clientOptions = {
        forceNew: true,
        timeout: 5000,
        ...options
      };
      const client = this.io.connect(`http://localhost:${this.port}`, clientOptions);
      const timeout = setTimeout(() => {
        client.disconnect();
        reject(new Error('Socket connection timeout'));
      }, clientOptions.timeout);
      client.on('connect', () => {
        clearTimeout(timeout);
        this.connectedClients.set(client.id, client);
        resolve(client);
      });
      client.on('connect_error', error => {
        clearTimeout(timeout);
        reject(error);
      });
    });
  }
  async disconnectClient(client) {
    if (client) {
      client.disconnect();
      this.connectedClients.delete(client.id);
    }
  }
  async disconnectAll() {
    for (const client of this.connectedClients.values()) {
      await this.disconnectClient(client);
    }
    this.connectedClients.clear();
  }
  async waitForEvent(client, eventName, timeout = 5000) {
    return new Promise((resolve, reject) => {
      let resolved = false;
      const cleanup = () => {
        client.off(eventName, eventHandler);
        clearTimeout(timeoutId);
      };
      const eventHandler = data => {
        if (!resolved) {
          resolved = true;
          cleanup();
          resolve(data);
        }
      };
      const timeoutId = setTimeout(() => {
        if (!resolved) {
          resolved = true;
          cleanup();
          reject(new Error(`Timeout waiting for event: ${eventName}`));
        }
      }, timeout);
      client.on(eventName, eventHandler);
    });
  }
}

// Assertions helpers
const assertHelpers = {
  assertResponseSuccess: (response, status = 200) => {
    if (response.status !== status) {
      throw new Error(`Expected status ${status}, got ${response.status}. Response: ${JSON.stringify(response.body)}`);
    }
    return response;
  },
  assertHasProperties: (object, properties) => {
    for (const prop of properties) {
      if (!object.hasOwnProperty(prop)) {
        throw new Error(`Object missing property: ${prop}. Object: ${JSON.stringify(object)}`);
      }
    }
    return object;
  },
  assertNotEmpty: array => {
    if (!Array.isArray(array) || array.length === 0) {
      throw new Error(`Expected non-empty array, got: ${JSON.stringify(array)}`);
    }
    return array;
  }
};
module.exports = {
  UserTestHelper,
  ChannelTestHelper,
  HTTPTestHelper,
  DatabaseTestHelper,
  TestFixtureHelper,
  SocketTestHelper,
  assertHelpers
};
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJyZXF1ZXN0IiwicmVxdWlyZSIsImp3dCIsIlVzZXIiLCJDaGFubmVsIiwiVXNlclRlc3RIZWxwZXIiLCJjb25zdHJ1Y3RvciIsImNyZWF0ZWRVc2VycyIsImNyZWF0ZVVzZXIiLCJ1c2VyRGF0YSIsImRlZmF1bHREYXRhIiwibmlja25hbWUiLCJEYXRlIiwibm93IiwiTWF0aCIsInJhbmRvbSIsInRvU3RyaW5nIiwic3Vic3RyIiwiZW1haWwiLCJwYXNzd29yZCIsImZpbmFsRGF0YSIsInVzZXIiLCJzYXZlIiwicHVzaCIsImVycm9yIiwiRXJyb3IiLCJtZXNzYWdlIiwiZ2V0VXNlciIsIm9wdGlvbnMiLCJsZW5ndGgiLCJjcmVhdGVJZk5vbmUiLCJ1c2VySWQiLCJmaW5kIiwidSIsIl9pZCIsImdldFRva2VuIiwidGFyZ2V0VXNlciIsInNpZ24iLCJpZCIsInJvbGUiLCJwcm9jZXNzIiwiZW52IiwiSldUX1NFQ1JFVCIsImV4cGlyZXNJbiIsImNsZWFudXAiLCJmaW5kQnlJZEFuZERlbGV0ZSIsImNvbnNvbGUiLCJ3YXJuIiwiQ2hhbm5lbFRlc3RIZWxwZXIiLCJjcmVhdGVkQ2hhbm5lbHMiLCJjcmVhdGVDaGFubmVsIiwiY2hhbm5lbERhdGEiLCJuYW1lIiwidHlwZSIsImNoYW5uZWwiLCJnZXRDaGFubmVsIiwiY2hhbm5lbElkIiwiYyIsIkhUVFBUZXN0SGVscGVyIiwiYXBwIiwiYXV0aFRva2VuIiwidXNlckhlbHBlciIsImF1dGhlbnRpY2F0ZSIsImdldFJlcXVlc3QiLCJyZXEiLCJzZXQiLCJsb2dpbiIsImNyZWRlbnRpYWxzIiwiY3JlZHMiLCJpZGVudGlmaWVyIiwicG9zdCIsInNlbmQiLCJ0aGVuIiwicmVzcG9uc2UiLCJib2R5IiwidG9rZW4iLCJyZWdpc3RlciIsIkRhdGFiYXNlVGVzdEhlbHBlciIsImNsZWFudXBDb2xsZWN0aW9ucyIsImNvbGxlY3Rpb25zIiwibW9uZ29vc2UiLCJjb25uZWN0aW9uIiwiT2JqZWN0Iiwia2V5cyIsImNvbGxlY3Rpb24iLCJkZWxldGVNYW55IiwiaXNDb25uZWN0ZWQiLCJyZWFkeVN0YXRlIiwid2FpdEZvckNvbm5lY3Rpb24iLCJ0aW1lb3V0IiwiUHJvbWlzZSIsInJlc29sdmUiLCJyZWplY3QiLCJ0aW1lciIsInNldFRpbWVvdXQiLCJvbmNlIiwiY2xlYXJUaW1lb3V0IiwiVGVzdEZpeHR1cmVIZWxwZXIiLCJjaGFubmVsSGVscGVyIiwiZml4dHVyZXMiLCJNYXAiLCJjcmVhdGUiLCJmYWN0b3J5IiwibG9hZCIsImdldCIsImNsZWFyIiwiU29ja2V0VGVzdEhlbHBlciIsImlvIiwicG9ydCIsImNvbm5lY3RlZENsaWVudHMiLCJjcmVhdGVDbGllbnQiLCJjbGllbnRPcHRpb25zIiwiZm9yY2VOZXciLCJjbGllbnQiLCJjb25uZWN0IiwiZGlzY29ubmVjdCIsIm9uIiwiZGlzY29ubmVjdENsaWVudCIsImRlbGV0ZSIsImRpc2Nvbm5lY3RBbGwiLCJ2YWx1ZXMiLCJ3YWl0Rm9yRXZlbnQiLCJldmVudE5hbWUiLCJyZXNvbHZlZCIsIm9mZiIsImV2ZW50SGFuZGxlciIsInRpbWVvdXRJZCIsImRhdGEiLCJhc3NlcnRIZWxwZXJzIiwiYXNzZXJ0UmVzcG9uc2VTdWNjZXNzIiwic3RhdHVzIiwiSlNPTiIsInN0cmluZ2lmeSIsImFzc2VydEhhc1Byb3BlcnRpZXMiLCJvYmplY3QiLCJwcm9wZXJ0aWVzIiwicHJvcCIsImhhc093blByb3BlcnR5IiwiYXNzZXJ0Tm90RW1wdHkiLCJhcnJheSIsIkFycmF5IiwiaXNBcnJheSIsIm1vZHVsZSIsImV4cG9ydHMiXSwic291cmNlcyI6WyJ0ZXN0SGVscGVycy5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyIvLyBTaGFyZWQgdGVzdCBoZWxwZXJzIGZvciBiYWNrZW5kIHRlc3RpbmdcblxuY29uc3QgcmVxdWVzdCA9IHJlcXVpcmUoJ3N1cGVydGVzdCcpO1xuY29uc3Qgand0ID0gcmVxdWlyZSgnanNvbndlYnRva2VuJyk7XG5jb25zdCBVc2VyID0gcmVxdWlyZSgnLi4vLi4vbW9kZWxzL1VzZXInKTtcbmNvbnN0IENoYW5uZWwgPSByZXF1aXJlKCcuLi8uLi9tb2RlbHMvQ2hhbm5lbCcpO1xuXG4vLyBVc2VyIHRlc3QgaGVscGVyc1xuY2xhc3MgVXNlclRlc3RIZWxwZXIge1xuICBjb25zdHJ1Y3RvcigpIHtcbiAgICB0aGlzLmNyZWF0ZWRVc2VycyA9IFtdO1xuICB9XG5cbiAgYXN5bmMgY3JlYXRlVXNlcih1c2VyRGF0YSA9IHt9KSB7XG4gICAgY29uc3QgZGVmYXVsdERhdGEgPSB7XG4gICAgICBuaWNrbmFtZTogYHRlc3R1c2VyXyR7RGF0ZS5ub3coKX1fJHtNYXRoLnJhbmRvbSgpLnRvU3RyaW5nKDM2KS5zdWJzdHIoMiwgOSl9YCxcbiAgICAgIGVtYWlsOiBgdGVzdCR7RGF0ZS5ub3coKX1AZXhhbXBsZS5jb21gLFxuICAgICAgcGFzc3dvcmQ6ICdwYXNzd29yZDEyMydcbiAgICB9O1xuXG4gICAgY29uc3QgZmluYWxEYXRhID0geyAuLi5kZWZhdWx0RGF0YSwgLi4udXNlckRhdGEgfTtcbiAgICBjb25zdCB1c2VyID0gbmV3IFVzZXIoZmluYWxEYXRhKTtcblxuICAgIHRyeSB7XG4gICAgICBhd2FpdCB1c2VyLnNhdmUoKTtcbiAgICAgIHRoaXMuY3JlYXRlZFVzZXJzLnB1c2godXNlcik7XG4gICAgICByZXR1cm4gdXNlcjtcbiAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKGBGYWlsZWQgdG8gY3JlYXRlIHRlc3QgdXNlcjogJHtlcnJvci5tZXNzYWdlfWApO1xuICAgIH1cbiAgfVxuXG4gIGFzeW5jIGdldFVzZXIob3B0aW9ucyA9IHt9KSB7XG4gICAgaWYgKCF0aGlzLmNyZWF0ZWRVc2Vycy5sZW5ndGggJiYgIW9wdGlvbnMuY3JlYXRlSWZOb25lKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoJ05vIHRlc3QgdXNlcnMgYXZhaWxhYmxlJyk7XG4gICAgfVxuXG4gICAgaWYgKCF0aGlzLmNyZWF0ZWRVc2Vycy5sZW5ndGggJiYgb3B0aW9ucy5jcmVhdGVJZk5vbmUpIHtcbiAgICAgIHJldHVybiB0aGlzLmNyZWF0ZVVzZXIoKTtcbiAgICB9XG5cbiAgICByZXR1cm4gb3B0aW9ucy51c2VySWRcbiAgICAgID8gdGhpcy5jcmVhdGVkVXNlcnMuZmluZCh1ID0+IHUuX2lkID09PSBvcHRpb25zLnVzZXJJZClcbiAgICAgIDogdGhpcy5jcmVhdGVkVXNlcnNbdGhpcy5jcmVhdGVkVXNlcnMubGVuZ3RoIC0gMV07XG4gIH1cblxuICBhc3luYyBnZXRUb2tlbih1c2VyID0gbnVsbCkge1xuICAgIGNvbnN0IHRhcmdldFVzZXIgPSB1c2VyIHx8IGF3YWl0IHRoaXMuZ2V0VXNlcigpO1xuICAgIHJldHVybiBqd3Quc2lnbihcbiAgICAgIHsgaWQ6IHRhcmdldFVzZXIuX2lkLCBuaWNrbmFtZTogdGFyZ2V0VXNlci5uaWNrbmFtZSwgcm9sZTogdGFyZ2V0VXNlci5yb2xlIH0sXG4gICAgICBwcm9jZXNzLmVudi5KV1RfU0VDUkVULFxuICAgICAgeyBleHBpcmVzSW46ICcyNGgnIH1cbiAgICApO1xuICB9XG5cbiAgYXN5bmMgY2xlYW51cCgpIHtcbiAgICBmb3IgKGNvbnN0IHVzZXIgb2YgdGhpcy5jcmVhdGVkVXNlcnMpIHtcbiAgICAgIHRyeSB7XG4gICAgICAgIGF3YWl0IFVzZXIuZmluZEJ5SWRBbmREZWxldGUodXNlci5faWQpO1xuICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgY29uc29sZS53YXJuKGBGYWlsZWQgdG8gY2xlYW51cCB0ZXN0IHVzZXIgJHt1c2VyLl9pZH06YCwgZXJyb3IubWVzc2FnZSk7XG4gICAgICB9XG4gICAgfVxuICAgIHRoaXMuY3JlYXRlZFVzZXJzID0gW107XG4gIH1cbn1cblxuLy8gQ2hhbm5lbCB0ZXN0IGhlbHBlcnNcbmNsYXNzIENoYW5uZWxUZXN0SGVscGVyIHtcbiAgY29uc3RydWN0b3IoKSB7XG4gICAgdGhpcy5jcmVhdGVkQ2hhbm5lbHMgPSBbXTtcbiAgfVxuXG4gIGFzeW5jIGNyZWF0ZUNoYW5uZWwoY2hhbm5lbERhdGEgPSB7fSkge1xuICAgIGNvbnN0IGRlZmF1bHREYXRhID0ge1xuICAgICAgaWQ6IGBjaGFubmVsXyR7RGF0ZS5ub3coKX1fJHtNYXRoLnJhbmRvbSgpLnRvU3RyaW5nKDM2KS5zdWJzdHIoMiwgOSl9YCxcbiAgICAgIG5hbWU6IGBUZXN0IENoYW5uZWwgJHtEYXRlLm5vdygpfWAsXG4gICAgICB0eXBlOiAndGV4dCdcbiAgICB9O1xuXG4gICAgY29uc3QgZmluYWxEYXRhID0geyAuLi5kZWZhdWx0RGF0YSwgLi4uY2hhbm5lbERhdGEgfTtcbiAgICBjb25zdCBjaGFubmVsID0gbmV3IENoYW5uZWwoZmluYWxEYXRhKTtcblxuICAgIHRyeSB7XG4gICAgICBhd2FpdCBjaGFubmVsLnNhdmUoKTtcbiAgICAgIHRoaXMuY3JlYXRlZENoYW5uZWxzLnB1c2goY2hhbm5lbCk7XG4gICAgICByZXR1cm4gY2hhbm5lbDtcbiAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKGBGYWlsZWQgdG8gY3JlYXRlIHRlc3QgY2hhbm5lbDogJHtlcnJvci5tZXNzYWdlfWApO1xuICAgIH1cbiAgfVxuXG4gIGFzeW5jIGdldENoYW5uZWwob3B0aW9ucyA9IHt9KSB7XG4gICAgaWYgKCF0aGlzLmNyZWF0ZWRDaGFubmVscy5sZW5ndGggJiYgIW9wdGlvbnMuY3JlYXRlSWZOb25lKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoJ05vIHRlc3QgY2hhbm5lbHMgYXZhaWxhYmxlJyk7XG4gICAgfVxuXG4gICAgaWYgKCF0aGlzLmNyZWF0ZWRDaGFubmVscy5sZW5ndGggJiYgb3B0aW9ucy5jcmVhdGVJZk5vbmUpIHtcbiAgICAgIHJldHVybiB0aGlzLmNyZWF0ZUNoYW5uZWwoKTtcbiAgICB9XG5cbiAgICByZXR1cm4gb3B0aW9ucy5jaGFubmVsSWRcbiAgICAgID8gdGhpcy5jcmVhdGVkQ2hhbm5lbHMuZmluZChjID0+IGMuX2lkID09PSBvcHRpb25zLmNoYW5uZWxJZClcbiAgICAgIDogdGhpcy5jcmVhdGVkQ2hhbm5lbHNbdGhpcy5jcmVhdGVkQ2hhbm5lbHMubGVuZ3RoIC0gMV07XG4gIH1cblxuICBhc3luYyBjbGVhbnVwKCkge1xuICAgIGZvciAoY29uc3QgY2hhbm5lbCBvZiB0aGlzLmNyZWF0ZWRDaGFubmVscykge1xuICAgICAgdHJ5IHtcbiAgICAgICAgYXdhaXQgQ2hhbm5lbC5maW5kQnlJZEFuZERlbGV0ZShjaGFubmVsLl9pZCk7XG4gICAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgICBjb25zb2xlLndhcm4oYEZhaWxlZCB0byBjbGVhbnVwIHRlc3QgY2hhbm5lbCAke2NoYW5uZWwuX2lkfTpgLCBlcnJvci5tZXNzYWdlKTtcbiAgICAgIH1cbiAgICB9XG4gICAgdGhpcy5jcmVhdGVkQ2hhbm5lbHMgPSBbXTtcbiAgfVxufVxuXG4vLyBIVFRQIHRlc3QgaGVscGVyc1xuY2xhc3MgSFRUUFRlc3RIZWxwZXIge1xuICBjb25zdHJ1Y3RvcihhcHApIHtcbiAgICB0aGlzLmFwcCA9IGFwcDtcbiAgICB0aGlzLmF1dGhUb2tlbiA9IG51bGw7XG4gICAgdGhpcy51c2VySGVscGVyID0gbmV3IFVzZXJUZXN0SGVscGVyKCk7XG4gIH1cblxuICBhc3luYyBhdXRoZW50aWNhdGUodXNlciA9IG51bGwpIHtcbiAgICBjb25zdCB0YXJnZXRVc2VyID0gdXNlciB8fCBhd2FpdCB0aGlzLnVzZXJIZWxwZXIuY3JlYXRlVXNlcigpO1xuICAgIHRoaXMuYXV0aFRva2VuID0gYXdhaXQgdGhpcy51c2VySGVscGVyLmdldFRva2VuKHRhcmdldFVzZXIpO1xuICAgIHJldHVybiB0YXJnZXRVc2VyO1xuICB9XG5cbiAgZ2V0UmVxdWVzdChvcHRpb25zID0ge30pIHtcbiAgICBsZXQgcmVxID0gcmVxdWVzdCh0aGlzLmFwcCk7XG5cbiAgICBpZiAodGhpcy5hdXRoVG9rZW4pIHtcbiAgICAgIHJlcS5zZXQoJ0F1dGhvcml6YXRpb24nLCBgQmVhcmVyICR7dGhpcy5hdXRoVG9rZW59YCk7XG4gICAgfVxuXG4gICAgcmV0dXJuIHJlcTtcbiAgfVxuXG4gIGFzeW5jIGxvZ2luKGNyZWRlbnRpYWxzID0gbnVsbCkge1xuICAgIGlmIChjcmVkZW50aWFscykge1xuICAgICAgY29uc3QgY3JlZHMgPSB7XG4gICAgICAgIGlkZW50aWZpZXI6IGNyZWRlbnRpYWxzLmlkZW50aWZpZXIgfHwgY3JlZGVudGlhbHMuZW1haWwgfHwgY3JlZGVudGlhbHMubmlja25hbWUsXG4gICAgICAgIHBhc3N3b3JkOiBjcmVkZW50aWFscy5wYXNzd29yZFxuICAgICAgfTtcblxuICAgICAgcmV0dXJuIHRoaXMuZ2V0UmVxdWVzdCgpXG4gICAgICAgIC5wb3N0KCcvbG9naW4nKVxuICAgICAgICAuc2VuZChjcmVkcylcbiAgICAgICAgLnRoZW4ocmVzcG9uc2UgPT4ge1xuICAgICAgICAgIHRoaXMuYXV0aFRva2VuID0gcmVzcG9uc2UuYm9keS50b2tlbjtcbiAgICAgICAgICByZXR1cm4gcmVzcG9uc2U7XG4gICAgICAgIH0pO1xuICAgIH1cblxuICAgIGNvbnN0IHVzZXIgPSBhd2FpdCB0aGlzLmF1dGhlbnRpY2F0ZSgpO1xuICAgIHJldHVybiB7IHVzZXIgfTtcbiAgfVxuXG4gIGFzeW5jIHJlZ2lzdGVyKHVzZXJEYXRhID0ge30pIHtcbiAgICBjb25zdCB1c2VyID0gYXdhaXQgdGhpcy51c2VySGVscGVyLmNyZWF0ZVVzZXIodXNlckRhdGEpO1xuXG4gICAgcmV0dXJuIHRoaXMuZ2V0UmVxdWVzdCgpXG4gICAgICAucG9zdCgnL3JlZ2lzdGVyJylcbiAgICAgIC5zZW5kKHtcbiAgICAgICAgbmlja25hbWU6IHVzZXIubmlja25hbWUsXG4gICAgICAgIGVtYWlsOiB1c2VyLmVtYWlsLFxuICAgICAgICBwYXNzd29yZDogdXNlckRhdGEucGFzc3dvcmQgfHwgJ3Bhc3N3b3JkMTIzJ1xuICAgICAgfSk7XG4gIH1cblxuICBhc3luYyBjbGVhbnVwKCkge1xuICAgIGF3YWl0IHRoaXMudXNlckhlbHBlci5jbGVhbnVwKCk7XG4gICAgdGhpcy5hdXRoVG9rZW4gPSBudWxsO1xuICB9XG59XG5cbi8vIERhdGFiYXNlIHRlc3QgaGVscGVyc1xuY2xhc3MgRGF0YWJhc2VUZXN0SGVscGVyIHtcbiAgc3RhdGljIGFzeW5jIGNsZWFudXBDb2xsZWN0aW9ucyhjb2xsZWN0aW9ucyA9IG51bGwpIHtcbiAgICBjb25zdCBtb25nb29zZSA9IHJlcXVpcmUoJ21vbmdvb3NlJyk7XG4gICAgY29uc3QgY29ubmVjdGlvbiA9IG1vbmdvb3NlLmNvbm5lY3Rpb247XG5cbiAgICBpZiAoIWNvbGxlY3Rpb25zKSB7XG4gICAgICBjb2xsZWN0aW9ucyA9IE9iamVjdC5rZXlzKGNvbm5lY3Rpb24uY29sbGVjdGlvbnMpO1xuICAgIH1cblxuICAgIGZvciAoY29uc3QgY29sbGVjdGlvbiBvZiBjb2xsZWN0aW9ucykge1xuICAgICAgdHJ5IHtcbiAgICAgICAgYXdhaXQgY29ubmVjdGlvbi5jb2xsZWN0aW9uc1tjb2xsZWN0aW9uXS5kZWxldGVNYW55KHt9KTtcbiAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgIGNvbnNvbGUud2FybihgRmFpbGVkIHRvIGNsZWFudXAgY29sbGVjdGlvbiAke2NvbGxlY3Rpb259OmAsIGVycm9yLm1lc3NhZ2UpO1xuICAgICAgfVxuICAgIH1cbiAgfVxuXG4gIHN0YXRpYyBpc0Nvbm5lY3RlZCgpIHtcbiAgICBjb25zdCBtb25nb29zZSA9IHJlcXVpcmUoJ21vbmdvb3NlJyk7XG4gICAgcmV0dXJuIG1vbmdvb3NlLmNvbm5lY3Rpb24ucmVhZHlTdGF0ZSA9PT0gMTtcbiAgfVxuXG4gIHN0YXRpYyBhc3luYyB3YWl0Rm9yQ29ubmVjdGlvbih0aW1lb3V0ID0gMTAwMDApIHtcbiAgICBjb25zdCBtb25nb29zZSA9IHJlcXVpcmUoJ21vbmdvb3NlJyk7XG5cbiAgICBpZiAobW9uZ29vc2UuY29ubmVjdGlvbi5yZWFkeVN0YXRlID09PSAxKSB7XG4gICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG5cbiAgICByZXR1cm4gbmV3IFByb21pc2UoKHJlc29sdmUsIHJlamVjdCkgPT4ge1xuICAgICAgY29uc3QgdGltZXIgPSBzZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgICAgcmVqZWN0KG5ldyBFcnJvcihgRGF0YWJhc2UgY29ubmVjdGlvbiB0aW1lb3V0IGFmdGVyICR7dGltZW91dH1tc2ApKTtcbiAgICAgIH0sIHRpbWVvdXQpO1xuXG4gICAgICBtb25nb29zZS5jb25uZWN0aW9uLm9uY2UoJ2Nvbm5lY3RlZCcsICgpID0+IHtcbiAgICAgICAgY2xlYXJUaW1lb3V0KHRpbWVyKTtcbiAgICAgICAgcmVzb2x2ZSh0cnVlKTtcbiAgICAgIH0pO1xuXG4gICAgICBpZiAobW9uZ29vc2UuY29ubmVjdGlvbi5yZWFkeVN0YXRlID09PSA5OSkgeyAvLyBkaXNjb25uZWN0ZWRcbiAgICAgICAgbW9uZ29vc2UuY29ubmVjdGlvbi5vbmNlKCdlcnJvcicsIChlcnJvcikgPT4ge1xuICAgICAgICAgIGNsZWFyVGltZW91dCh0aW1lcik7XG4gICAgICAgICAgcmVqZWN0KGVycm9yKTtcbiAgICAgICAgfSk7XG4gICAgICB9XG4gICAgfSk7XG4gIH1cbn1cblxuLy8gVGVzdCBmaXh0dXJlIGhlbHBlcnNcbmNsYXNzIFRlc3RGaXh0dXJlSGVscGVyIHtcbiAgY29uc3RydWN0b3IoKSB7XG4gICAgdGhpcy51c2VySGVscGVyID0gbmV3IFVzZXJUZXN0SGVscGVyKCk7XG4gICAgdGhpcy5jaGFubmVsSGVscGVyID0gbmV3IENoYW5uZWxUZXN0SGVscGVyKCk7XG4gICAgdGhpcy5maXh0dXJlcyA9IG5ldyBNYXAoKTtcbiAgfVxuXG4gIGNyZWF0ZShuYW1lLCBmYWN0b3J5KSB7XG4gICAgdGhpcy5maXh0dXJlcy5zZXQobmFtZSwgZmFjdG9yeSk7XG4gICAgcmV0dXJuIHRoaXM7XG4gIH1cblxuICBhc3luYyBsb2FkKG5hbWUpIHtcbiAgICBjb25zdCBmYWN0b3J5ID0gdGhpcy5maXh0dXJlcy5nZXQobmFtZSk7XG4gICAgaWYgKCFmYWN0b3J5KSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoYEZpeHR1cmUgJyR7bmFtZX0nIG5vdCBmb3VuZGApO1xuICAgIH1cblxuICAgIGlmICh0eXBlb2YgZmFjdG9yeSA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgcmV0dXJuIGF3YWl0IGZhY3RvcnkodGhpcyk7XG4gICAgfVxuXG4gICAgcmV0dXJuIGZhY3Rvcnk7XG4gIH1cblxuICBhc3luYyBjbGVhbnVwKCkge1xuICAgIGF3YWl0IHRoaXMudXNlckhlbHBlci5jbGVhbnVwKCk7XG4gICAgYXdhaXQgdGhpcy5jaGFubmVsSGVscGVyLmNsZWFudXAoKTtcbiAgICB0aGlzLmZpeHR1cmVzLmNsZWFyKCk7XG4gIH1cbn1cblxuLy8gU29ja2V0IHRlc3QgaGVscGVyc1xuY2xhc3MgU29ja2V0VGVzdEhlbHBlciB7XG4gIGNvbnN0cnVjdG9yKGlvLCBwb3J0KSB7XG4gICAgdGhpcy5pbyA9IGlvO1xuICAgIHRoaXMucG9ydCA9IHBvcnQ7XG4gICAgdGhpcy5jb25uZWN0ZWRDbGllbnRzID0gbmV3IE1hcCgpO1xuICB9XG5cbiAgY3JlYXRlQ2xpZW50KG9wdGlvbnMgPSB7fSkge1xuICAgIHJldHVybiBuZXcgUHJvbWlzZSgocmVzb2x2ZSwgcmVqZWN0KSA9PiB7XG4gICAgICBjb25zdCBjbGllbnRPcHRpb25zID0ge1xuICAgICAgICBmb3JjZU5ldzogdHJ1ZSxcbiAgICAgICAgdGltZW91dDogNTAwMCxcbiAgICAgICAgLi4ub3B0aW9uc1xuICAgICAgfTtcblxuICAgICAgY29uc3QgY2xpZW50ID0gdGhpcy5pby5jb25uZWN0KGBodHRwOi8vbG9jYWxob3N0OiR7dGhpcy5wb3J0fWAsIGNsaWVudE9wdGlvbnMpO1xuXG4gICAgICBjb25zdCB0aW1lb3V0ID0gc2V0VGltZW91dCgoKSA9PiB7XG4gICAgICAgIGNsaWVudC5kaXNjb25uZWN0KCk7XG4gICAgICAgIHJlamVjdChuZXcgRXJyb3IoJ1NvY2tldCBjb25uZWN0aW9uIHRpbWVvdXQnKSk7XG4gICAgICB9LCBjbGllbnRPcHRpb25zLnRpbWVvdXQpO1xuXG4gICAgICBjbGllbnQub24oJ2Nvbm5lY3QnLCAoKSA9PiB7XG4gICAgICAgIGNsZWFyVGltZW91dCh0aW1lb3V0KTtcbiAgICAgICAgdGhpcy5jb25uZWN0ZWRDbGllbnRzLnNldChjbGllbnQuaWQsIGNsaWVudCk7XG4gICAgICAgIHJlc29sdmUoY2xpZW50KTtcbiAgICAgIH0pO1xuXG4gICAgICBjbGllbnQub24oJ2Nvbm5lY3RfZXJyb3InLCAoZXJyb3IpID0+IHtcbiAgICAgICAgY2xlYXJUaW1lb3V0KHRpbWVvdXQpO1xuICAgICAgICByZWplY3QoZXJyb3IpO1xuICAgICAgfSk7XG4gICAgfSk7XG4gIH1cblxuICBhc3luYyBkaXNjb25uZWN0Q2xpZW50KGNsaWVudCkge1xuICAgIGlmIChjbGllbnQpIHtcbiAgICAgIGNsaWVudC5kaXNjb25uZWN0KCk7XG4gICAgICB0aGlzLmNvbm5lY3RlZENsaWVudHMuZGVsZXRlKGNsaWVudC5pZCk7XG4gICAgfVxuICB9XG5cbiAgYXN5bmMgZGlzY29ubmVjdEFsbCgpIHtcbiAgICBmb3IgKGNvbnN0IGNsaWVudCBvZiB0aGlzLmNvbm5lY3RlZENsaWVudHMudmFsdWVzKCkpIHtcbiAgICAgIGF3YWl0IHRoaXMuZGlzY29ubmVjdENsaWVudChjbGllbnQpO1xuICAgIH1cbiAgICB0aGlzLmNvbm5lY3RlZENsaWVudHMuY2xlYXIoKTtcbiAgfVxuXG4gIGFzeW5jIHdhaXRGb3JFdmVudChjbGllbnQsIGV2ZW50TmFtZSwgdGltZW91dCA9IDUwMDApIHtcbiAgICByZXR1cm4gbmV3IFByb21pc2UoKHJlc29sdmUsIHJlamVjdCkgPT4ge1xuICAgICAgbGV0IHJlc29sdmVkID0gZmFsc2U7XG5cbiAgICAgIGNvbnN0IGNsZWFudXAgPSAoKSA9PiB7XG4gICAgICAgIGNsaWVudC5vZmYoZXZlbnROYW1lLCBldmVudEhhbmRsZXIpO1xuICAgICAgICBjbGVhclRpbWVvdXQodGltZW91dElkKTtcbiAgICAgIH07XG5cbiAgICAgIGNvbnN0IGV2ZW50SGFuZGxlciA9IChkYXRhKSA9PiB7XG4gICAgICAgIGlmICghcmVzb2x2ZWQpIHtcbiAgICAgICAgICByZXNvbHZlZCA9IHRydWU7XG4gICAgICAgICAgY2xlYW51cCgpO1xuICAgICAgICAgIHJlc29sdmUoZGF0YSk7XG4gICAgICAgIH1cbiAgICAgIH07XG5cbiAgICAgIGNvbnN0IHRpbWVvdXRJZCA9IHNldFRpbWVvdXQoKCkgPT4ge1xuICAgICAgICBpZiAoIXJlc29sdmVkKSB7XG4gICAgICAgICAgcmVzb2x2ZWQgPSB0cnVlO1xuICAgICAgICAgIGNsZWFudXAoKTtcbiAgICAgICAgICByZWplY3QobmV3IEVycm9yKGBUaW1lb3V0IHdhaXRpbmcgZm9yIGV2ZW50OiAke2V2ZW50TmFtZX1gKSk7XG4gICAgICAgIH1cbiAgICAgIH0sIHRpbWVvdXQpO1xuXG4gICAgICBjbGllbnQub24oZXZlbnROYW1lLCBldmVudEhhbmRsZXIpO1xuICAgIH0pO1xuICB9XG59XG5cbi8vIEFzc2VydGlvbnMgaGVscGVyc1xuY29uc3QgYXNzZXJ0SGVscGVycyA9IHtcbiAgYXNzZXJ0UmVzcG9uc2VTdWNjZXNzOiAocmVzcG9uc2UsIHN0YXR1cyA9IDIwMCkgPT4ge1xuICAgIGlmIChyZXNwb25zZS5zdGF0dXMgIT09IHN0YXR1cykge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKGBFeHBlY3RlZCBzdGF0dXMgJHtzdGF0dXN9LCBnb3QgJHtyZXNwb25zZS5zdGF0dXN9LiBSZXNwb25zZTogJHtKU09OLnN0cmluZ2lmeShyZXNwb25zZS5ib2R5KX1gKTtcbiAgICB9XG4gICAgcmV0dXJuIHJlc3BvbnNlO1xuICB9LFxuXG4gIGFzc2VydEhhc1Byb3BlcnRpZXM6IChvYmplY3QsIHByb3BlcnRpZXMpID0+IHtcbiAgICBmb3IgKGNvbnN0IHByb3Agb2YgcHJvcGVydGllcykge1xuICAgICAgaWYgKCFvYmplY3QuaGFzT3duUHJvcGVydHkocHJvcCkpIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKGBPYmplY3QgbWlzc2luZyBwcm9wZXJ0eTogJHtwcm9wfS4gT2JqZWN0OiAke0pTT04uc3RyaW5naWZ5KG9iamVjdCl9YCk7XG4gICAgICB9XG4gICAgfVxuICAgIHJldHVybiBvYmplY3Q7XG4gIH0sXG5cbiAgYXNzZXJ0Tm90RW1wdHk6IChhcnJheSkgPT4ge1xuICAgIGlmICghQXJyYXkuaXNBcnJheShhcnJheSkgfHwgYXJyYXkubGVuZ3RoID09PSAwKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoYEV4cGVjdGVkIG5vbi1lbXB0eSBhcnJheSwgZ290OiAke0pTT04uc3RyaW5naWZ5KGFycmF5KX1gKTtcbiAgICB9XG4gICAgcmV0dXJuIGFycmF5O1xuICB9XG59O1xuXG5tb2R1bGUuZXhwb3J0cyA9IHtcbiAgVXNlclRlc3RIZWxwZXIsXG4gIENoYW5uZWxUZXN0SGVscGVyLFxuICBIVFRQVGVzdEhlbHBlcixcbiAgRGF0YWJhc2VUZXN0SGVscGVyLFxuICBUZXN0Rml4dHVyZUhlbHBlcixcbiAgU29ja2V0VGVzdEhlbHBlcixcbiAgYXNzZXJ0SGVscGVyc1xufTsiXSwibWFwcGluZ3MiOiJBQUFBOztBQUVBLE1BQU1BLE9BQU8sR0FBR0MsT0FBTyxDQUFDLFdBQVcsQ0FBQztBQUNwQyxNQUFNQyxHQUFHLEdBQUdELE9BQU8sQ0FBQyxjQUFjLENBQUM7QUFDbkMsTUFBTUUsSUFBSSxHQUFHRixPQUFPLENBQUMsbUJBQW1CLENBQUM7QUFDekMsTUFBTUcsT0FBTyxHQUFHSCxPQUFPLENBQUMsc0JBQXNCLENBQUM7O0FBRS9DO0FBQ0EsTUFBTUksY0FBYyxDQUFDO0VBQ25CQyxXQUFXQSxDQUFBLEVBQUc7SUFDWixJQUFJLENBQUNDLFlBQVksR0FBRyxFQUFFO0VBQ3hCO0VBRUEsTUFBTUMsVUFBVUEsQ0FBQ0MsUUFBUSxHQUFHLENBQUMsQ0FBQyxFQUFFO0lBQzlCLE1BQU1DLFdBQVcsR0FBRztNQUNsQkMsUUFBUSxFQUFFLFlBQVlDLElBQUksQ0FBQ0MsR0FBRyxDQUFDLENBQUMsSUFBSUMsSUFBSSxDQUFDQyxNQUFNLENBQUMsQ0FBQyxDQUFDQyxRQUFRLENBQUMsRUFBRSxDQUFDLENBQUNDLE1BQU0sQ0FBQyxDQUFDLEVBQUUsQ0FBQyxDQUFDLEVBQUU7TUFDN0VDLEtBQUssRUFBRSxPQUFPTixJQUFJLENBQUNDLEdBQUcsQ0FBQyxDQUFDLGNBQWM7TUFDdENNLFFBQVEsRUFBRTtJQUNaLENBQUM7SUFFRCxNQUFNQyxTQUFTLEdBQUc7TUFBRSxHQUFHVixXQUFXO01BQUUsR0FBR0Q7SUFBUyxDQUFDO0lBQ2pELE1BQU1ZLElBQUksR0FBRyxJQUFJbEIsSUFBSSxDQUFDaUIsU0FBUyxDQUFDO0lBRWhDLElBQUk7TUFDRixNQUFNQyxJQUFJLENBQUNDLElBQUksQ0FBQyxDQUFDO01BQ2pCLElBQUksQ0FBQ2YsWUFBWSxDQUFDZ0IsSUFBSSxDQUFDRixJQUFJLENBQUM7TUFDNUIsT0FBT0EsSUFBSTtJQUNiLENBQUMsQ0FBQyxPQUFPRyxLQUFLLEVBQUU7TUFDZCxNQUFNLElBQUlDLEtBQUssQ0FBQywrQkFBK0JELEtBQUssQ0FBQ0UsT0FBTyxFQUFFLENBQUM7SUFDakU7RUFDRjtFQUVBLE1BQU1DLE9BQU9BLENBQUNDLE9BQU8sR0FBRyxDQUFDLENBQUMsRUFBRTtJQUMxQixJQUFJLENBQUMsSUFBSSxDQUFDckIsWUFBWSxDQUFDc0IsTUFBTSxJQUFJLENBQUNELE9BQU8sQ0FBQ0UsWUFBWSxFQUFFO01BQ3RELE1BQU0sSUFBSUwsS0FBSyxDQUFDLHlCQUF5QixDQUFDO0lBQzVDO0lBRUEsSUFBSSxDQUFDLElBQUksQ0FBQ2xCLFlBQVksQ0FBQ3NCLE1BQU0sSUFBSUQsT0FBTyxDQUFDRSxZQUFZLEVBQUU7TUFDckQsT0FBTyxJQUFJLENBQUN0QixVQUFVLENBQUMsQ0FBQztJQUMxQjtJQUVBLE9BQU9vQixPQUFPLENBQUNHLE1BQU0sR0FDakIsSUFBSSxDQUFDeEIsWUFBWSxDQUFDeUIsSUFBSSxDQUFDQyxDQUFDLElBQUlBLENBQUMsQ0FBQ0MsR0FBRyxLQUFLTixPQUFPLENBQUNHLE1BQU0sQ0FBQyxHQUNyRCxJQUFJLENBQUN4QixZQUFZLENBQUMsSUFBSSxDQUFDQSxZQUFZLENBQUNzQixNQUFNLEdBQUcsQ0FBQyxDQUFDO0VBQ3JEO0VBRUEsTUFBTU0sUUFBUUEsQ0FBQ2QsSUFBSSxHQUFHLElBQUksRUFBRTtJQUMxQixNQUFNZSxVQUFVLEdBQUdmLElBQUksS0FBSSxNQUFNLElBQUksQ0FBQ00sT0FBTyxDQUFDLENBQUM7SUFDL0MsT0FBT3pCLEdBQUcsQ0FBQ21DLElBQUksQ0FDYjtNQUFFQyxFQUFFLEVBQUVGLFVBQVUsQ0FBQ0YsR0FBRztNQUFFdkIsUUFBUSxFQUFFeUIsVUFBVSxDQUFDekIsUUFBUTtNQUFFNEIsSUFBSSxFQUFFSCxVQUFVLENBQUNHO0lBQUssQ0FBQyxFQUM1RUMsT0FBTyxDQUFDQyxHQUFHLENBQUNDLFVBQVUsRUFDdEI7TUFBRUMsU0FBUyxFQUFFO0lBQU0sQ0FDckIsQ0FBQztFQUNIO0VBRUEsTUFBTUMsT0FBT0EsQ0FBQSxFQUFHO0lBQ2QsS0FBSyxNQUFNdkIsSUFBSSxJQUFJLElBQUksQ0FBQ2QsWUFBWSxFQUFFO01BQ3BDLElBQUk7UUFDRixNQUFNSixJQUFJLENBQUMwQyxpQkFBaUIsQ0FBQ3hCLElBQUksQ0FBQ2EsR0FBRyxDQUFDO01BQ3hDLENBQUMsQ0FBQyxPQUFPVixLQUFLLEVBQUU7UUFDZHNCLE9BQU8sQ0FBQ0MsSUFBSSxDQUFDLCtCQUErQjFCLElBQUksQ0FBQ2EsR0FBRyxHQUFHLEVBQUVWLEtBQUssQ0FBQ0UsT0FBTyxDQUFDO01BQ3pFO0lBQ0Y7SUFDQSxJQUFJLENBQUNuQixZQUFZLEdBQUcsRUFBRTtFQUN4QjtBQUNGOztBQUVBO0FBQ0EsTUFBTXlDLGlCQUFpQixDQUFDO0VBQ3RCMUMsV0FBV0EsQ0FBQSxFQUFHO0lBQ1osSUFBSSxDQUFDMkMsZUFBZSxHQUFHLEVBQUU7RUFDM0I7RUFFQSxNQUFNQyxhQUFhQSxDQUFDQyxXQUFXLEdBQUcsQ0FBQyxDQUFDLEVBQUU7SUFDcEMsTUFBTXpDLFdBQVcsR0FBRztNQUNsQjRCLEVBQUUsRUFBRSxXQUFXMUIsSUFBSSxDQUFDQyxHQUFHLENBQUMsQ0FBQyxJQUFJQyxJQUFJLENBQUNDLE1BQU0sQ0FBQyxDQUFDLENBQUNDLFFBQVEsQ0FBQyxFQUFFLENBQUMsQ0FBQ0MsTUFBTSxDQUFDLENBQUMsRUFBRSxDQUFDLENBQUMsRUFBRTtNQUN0RW1DLElBQUksRUFBRSxnQkFBZ0J4QyxJQUFJLENBQUNDLEdBQUcsQ0FBQyxDQUFDLEVBQUU7TUFDbEN3QyxJQUFJLEVBQUU7SUFDUixDQUFDO0lBRUQsTUFBTWpDLFNBQVMsR0FBRztNQUFFLEdBQUdWLFdBQVc7TUFBRSxHQUFHeUM7SUFBWSxDQUFDO0lBQ3BELE1BQU1HLE9BQU8sR0FBRyxJQUFJbEQsT0FBTyxDQUFDZ0IsU0FBUyxDQUFDO0lBRXRDLElBQUk7TUFDRixNQUFNa0MsT0FBTyxDQUFDaEMsSUFBSSxDQUFDLENBQUM7TUFDcEIsSUFBSSxDQUFDMkIsZUFBZSxDQUFDMUIsSUFBSSxDQUFDK0IsT0FBTyxDQUFDO01BQ2xDLE9BQU9BLE9BQU87SUFDaEIsQ0FBQyxDQUFDLE9BQU85QixLQUFLLEVBQUU7TUFDZCxNQUFNLElBQUlDLEtBQUssQ0FBQyxrQ0FBa0NELEtBQUssQ0FBQ0UsT0FBTyxFQUFFLENBQUM7SUFDcEU7RUFDRjtFQUVBLE1BQU02QixVQUFVQSxDQUFDM0IsT0FBTyxHQUFHLENBQUMsQ0FBQyxFQUFFO0lBQzdCLElBQUksQ0FBQyxJQUFJLENBQUNxQixlQUFlLENBQUNwQixNQUFNLElBQUksQ0FBQ0QsT0FBTyxDQUFDRSxZQUFZLEVBQUU7TUFDekQsTUFBTSxJQUFJTCxLQUFLLENBQUMsNEJBQTRCLENBQUM7SUFDL0M7SUFFQSxJQUFJLENBQUMsSUFBSSxDQUFDd0IsZUFBZSxDQUFDcEIsTUFBTSxJQUFJRCxPQUFPLENBQUNFLFlBQVksRUFBRTtNQUN4RCxPQUFPLElBQUksQ0FBQ29CLGFBQWEsQ0FBQyxDQUFDO0lBQzdCO0lBRUEsT0FBT3RCLE9BQU8sQ0FBQzRCLFNBQVMsR0FDcEIsSUFBSSxDQUFDUCxlQUFlLENBQUNqQixJQUFJLENBQUN5QixDQUFDLElBQUlBLENBQUMsQ0FBQ3ZCLEdBQUcsS0FBS04sT0FBTyxDQUFDNEIsU0FBUyxDQUFDLEdBQzNELElBQUksQ0FBQ1AsZUFBZSxDQUFDLElBQUksQ0FBQ0EsZUFBZSxDQUFDcEIsTUFBTSxHQUFHLENBQUMsQ0FBQztFQUMzRDtFQUVBLE1BQU1lLE9BQU9BLENBQUEsRUFBRztJQUNkLEtBQUssTUFBTVUsT0FBTyxJQUFJLElBQUksQ0FBQ0wsZUFBZSxFQUFFO01BQzFDLElBQUk7UUFDRixNQUFNN0MsT0FBTyxDQUFDeUMsaUJBQWlCLENBQUNTLE9BQU8sQ0FBQ3BCLEdBQUcsQ0FBQztNQUM5QyxDQUFDLENBQUMsT0FBT1YsS0FBSyxFQUFFO1FBQ2RzQixPQUFPLENBQUNDLElBQUksQ0FBQyxrQ0FBa0NPLE9BQU8sQ0FBQ3BCLEdBQUcsR0FBRyxFQUFFVixLQUFLLENBQUNFLE9BQU8sQ0FBQztNQUMvRTtJQUNGO0lBQ0EsSUFBSSxDQUFDdUIsZUFBZSxHQUFHLEVBQUU7RUFDM0I7QUFDRjs7QUFFQTtBQUNBLE1BQU1TLGNBQWMsQ0FBQztFQUNuQnBELFdBQVdBLENBQUNxRCxHQUFHLEVBQUU7SUFDZixJQUFJLENBQUNBLEdBQUcsR0FBR0EsR0FBRztJQUNkLElBQUksQ0FBQ0MsU0FBUyxHQUFHLElBQUk7SUFDckIsSUFBSSxDQUFDQyxVQUFVLEdBQUcsSUFBSXhELGNBQWMsQ0FBQyxDQUFDO0VBQ3hDO0VBRUEsTUFBTXlELFlBQVlBLENBQUN6QyxJQUFJLEdBQUcsSUFBSSxFQUFFO0lBQzlCLE1BQU1lLFVBQVUsR0FBR2YsSUFBSSxLQUFJLE1BQU0sSUFBSSxDQUFDd0MsVUFBVSxDQUFDckQsVUFBVSxDQUFDLENBQUM7SUFDN0QsSUFBSSxDQUFDb0QsU0FBUyxHQUFHLE1BQU0sSUFBSSxDQUFDQyxVQUFVLENBQUMxQixRQUFRLENBQUNDLFVBQVUsQ0FBQztJQUMzRCxPQUFPQSxVQUFVO0VBQ25CO0VBRUEyQixVQUFVQSxDQUFDbkMsT0FBTyxHQUFHLENBQUMsQ0FBQyxFQUFFO0lBQ3ZCLElBQUlvQyxHQUFHLEdBQUdoRSxPQUFPLENBQUMsSUFBSSxDQUFDMkQsR0FBRyxDQUFDO0lBRTNCLElBQUksSUFBSSxDQUFDQyxTQUFTLEVBQUU7TUFDbEJJLEdBQUcsQ0FBQ0MsR0FBRyxDQUFDLGVBQWUsRUFBRSxVQUFVLElBQUksQ0FBQ0wsU0FBUyxFQUFFLENBQUM7SUFDdEQ7SUFFQSxPQUFPSSxHQUFHO0VBQ1o7RUFFQSxNQUFNRSxLQUFLQSxDQUFDQyxXQUFXLEdBQUcsSUFBSSxFQUFFO0lBQzlCLElBQUlBLFdBQVcsRUFBRTtNQUNmLE1BQU1DLEtBQUssR0FBRztRQUNaQyxVQUFVLEVBQUVGLFdBQVcsQ0FBQ0UsVUFBVSxJQUFJRixXQUFXLENBQUNqRCxLQUFLLElBQUlpRCxXQUFXLENBQUN4RCxRQUFRO1FBQy9FUSxRQUFRLEVBQUVnRCxXQUFXLENBQUNoRDtNQUN4QixDQUFDO01BRUQsT0FBTyxJQUFJLENBQUM0QyxVQUFVLENBQUMsQ0FBQyxDQUNyQk8sSUFBSSxDQUFDLFFBQVEsQ0FBQyxDQUNkQyxJQUFJLENBQUNILEtBQUssQ0FBQyxDQUNYSSxJQUFJLENBQUNDLFFBQVEsSUFBSTtRQUNoQixJQUFJLENBQUNiLFNBQVMsR0FBR2EsUUFBUSxDQUFDQyxJQUFJLENBQUNDLEtBQUs7UUFDcEMsT0FBT0YsUUFBUTtNQUNqQixDQUFDLENBQUM7SUFDTjtJQUVBLE1BQU1wRCxJQUFJLEdBQUcsTUFBTSxJQUFJLENBQUN5QyxZQUFZLENBQUMsQ0FBQztJQUN0QyxPQUFPO01BQUV6QztJQUFLLENBQUM7RUFDakI7RUFFQSxNQUFNdUQsUUFBUUEsQ0FBQ25FLFFBQVEsR0FBRyxDQUFDLENBQUMsRUFBRTtJQUM1QixNQUFNWSxJQUFJLEdBQUcsTUFBTSxJQUFJLENBQUN3QyxVQUFVLENBQUNyRCxVQUFVLENBQUNDLFFBQVEsQ0FBQztJQUV2RCxPQUFPLElBQUksQ0FBQ3NELFVBQVUsQ0FBQyxDQUFDLENBQ3JCTyxJQUFJLENBQUMsV0FBVyxDQUFDLENBQ2pCQyxJQUFJLENBQUM7TUFDSjVELFFBQVEsRUFBRVUsSUFBSSxDQUFDVixRQUFRO01BQ3ZCTyxLQUFLLEVBQUVHLElBQUksQ0FBQ0gsS0FBSztNQUNqQkMsUUFBUSxFQUFFVixRQUFRLENBQUNVLFFBQVEsSUFBSTtJQUNqQyxDQUFDLENBQUM7RUFDTjtFQUVBLE1BQU15QixPQUFPQSxDQUFBLEVBQUc7SUFDZCxNQUFNLElBQUksQ0FBQ2lCLFVBQVUsQ0FBQ2pCLE9BQU8sQ0FBQyxDQUFDO0lBQy9CLElBQUksQ0FBQ2dCLFNBQVMsR0FBRyxJQUFJO0VBQ3ZCO0FBQ0Y7O0FBRUE7QUFDQSxNQUFNaUIsa0JBQWtCLENBQUM7RUFDdkIsYUFBYUMsa0JBQWtCQSxDQUFDQyxXQUFXLEdBQUcsSUFBSSxFQUFFO0lBQ2xELE1BQU1DLFFBQVEsR0FBRy9FLE9BQU8sQ0FBQyxVQUFVLENBQUM7SUFDcEMsTUFBTWdGLFVBQVUsR0FBR0QsUUFBUSxDQUFDQyxVQUFVO0lBRXRDLElBQUksQ0FBQ0YsV0FBVyxFQUFFO01BQ2hCQSxXQUFXLEdBQUdHLE1BQU0sQ0FBQ0MsSUFBSSxDQUFDRixVQUFVLENBQUNGLFdBQVcsQ0FBQztJQUNuRDtJQUVBLEtBQUssTUFBTUssVUFBVSxJQUFJTCxXQUFXLEVBQUU7TUFDcEMsSUFBSTtRQUNGLE1BQU1FLFVBQVUsQ0FBQ0YsV0FBVyxDQUFDSyxVQUFVLENBQUMsQ0FBQ0MsVUFBVSxDQUFDLENBQUMsQ0FBQyxDQUFDO01BQ3pELENBQUMsQ0FBQyxPQUFPN0QsS0FBSyxFQUFFO1FBQ2RzQixPQUFPLENBQUNDLElBQUksQ0FBQyxnQ0FBZ0NxQyxVQUFVLEdBQUcsRUFBRTVELEtBQUssQ0FBQ0UsT0FBTyxDQUFDO01BQzVFO0lBQ0Y7RUFDRjtFQUVBLE9BQU80RCxXQUFXQSxDQUFBLEVBQUc7SUFDbkIsTUFBTU4sUUFBUSxHQUFHL0UsT0FBTyxDQUFDLFVBQVUsQ0FBQztJQUNwQyxPQUFPK0UsUUFBUSxDQUFDQyxVQUFVLENBQUNNLFVBQVUsS0FBSyxDQUFDO0VBQzdDO0VBRUEsYUFBYUMsaUJBQWlCQSxDQUFDQyxPQUFPLEdBQUcsS0FBSyxFQUFFO0lBQzlDLE1BQU1ULFFBQVEsR0FBRy9FLE9BQU8sQ0FBQyxVQUFVLENBQUM7SUFFcEMsSUFBSStFLFFBQVEsQ0FBQ0MsVUFBVSxDQUFDTSxVQUFVLEtBQUssQ0FBQyxFQUFFO01BQ3hDLE9BQU8sSUFBSTtJQUNiO0lBRUEsT0FBTyxJQUFJRyxPQUFPLENBQUMsQ0FBQ0MsT0FBTyxFQUFFQyxNQUFNLEtBQUs7TUFDdEMsTUFBTUMsS0FBSyxHQUFHQyxVQUFVLENBQUMsTUFBTTtRQUM3QkYsTUFBTSxDQUFDLElBQUluRSxLQUFLLENBQUMscUNBQXFDZ0UsT0FBTyxJQUFJLENBQUMsQ0FBQztNQUNyRSxDQUFDLEVBQUVBLE9BQU8sQ0FBQztNQUVYVCxRQUFRLENBQUNDLFVBQVUsQ0FBQ2MsSUFBSSxDQUFDLFdBQVcsRUFBRSxNQUFNO1FBQzFDQyxZQUFZLENBQUNILEtBQUssQ0FBQztRQUNuQkYsT0FBTyxDQUFDLElBQUksQ0FBQztNQUNmLENBQUMsQ0FBQztNQUVGLElBQUlYLFFBQVEsQ0FBQ0MsVUFBVSxDQUFDTSxVQUFVLEtBQUssRUFBRSxFQUFFO1FBQUU7UUFDM0NQLFFBQVEsQ0FBQ0MsVUFBVSxDQUFDYyxJQUFJLENBQUMsT0FBTyxFQUFHdkUsS0FBSyxJQUFLO1VBQzNDd0UsWUFBWSxDQUFDSCxLQUFLLENBQUM7VUFDbkJELE1BQU0sQ0FBQ3BFLEtBQUssQ0FBQztRQUNmLENBQUMsQ0FBQztNQUNKO0lBQ0YsQ0FBQyxDQUFDO0VBQ0o7QUFDRjs7QUFFQTtBQUNBLE1BQU15RSxpQkFBaUIsQ0FBQztFQUN0QjNGLFdBQVdBLENBQUEsRUFBRztJQUNaLElBQUksQ0FBQ3VELFVBQVUsR0FBRyxJQUFJeEQsY0FBYyxDQUFDLENBQUM7SUFDdEMsSUFBSSxDQUFDNkYsYUFBYSxHQUFHLElBQUlsRCxpQkFBaUIsQ0FBQyxDQUFDO0lBQzVDLElBQUksQ0FBQ21ELFFBQVEsR0FBRyxJQUFJQyxHQUFHLENBQUMsQ0FBQztFQUMzQjtFQUVBQyxNQUFNQSxDQUFDakQsSUFBSSxFQUFFa0QsT0FBTyxFQUFFO0lBQ3BCLElBQUksQ0FBQ0gsUUFBUSxDQUFDbEMsR0FBRyxDQUFDYixJQUFJLEVBQUVrRCxPQUFPLENBQUM7SUFDaEMsT0FBTyxJQUFJO0VBQ2I7RUFFQSxNQUFNQyxJQUFJQSxDQUFDbkQsSUFBSSxFQUFFO0lBQ2YsTUFBTWtELE9BQU8sR0FBRyxJQUFJLENBQUNILFFBQVEsQ0FBQ0ssR0FBRyxDQUFDcEQsSUFBSSxDQUFDO0lBQ3ZDLElBQUksQ0FBQ2tELE9BQU8sRUFBRTtNQUNaLE1BQU0sSUFBSTdFLEtBQUssQ0FBQyxZQUFZMkIsSUFBSSxhQUFhLENBQUM7SUFDaEQ7SUFFQSxJQUFJLE9BQU9rRCxPQUFPLEtBQUssVUFBVSxFQUFFO01BQ2pDLE9BQU8sTUFBTUEsT0FBTyxDQUFDLElBQUksQ0FBQztJQUM1QjtJQUVBLE9BQU9BLE9BQU87RUFDaEI7RUFFQSxNQUFNMUQsT0FBT0EsQ0FBQSxFQUFHO0lBQ2QsTUFBTSxJQUFJLENBQUNpQixVQUFVLENBQUNqQixPQUFPLENBQUMsQ0FBQztJQUMvQixNQUFNLElBQUksQ0FBQ3NELGFBQWEsQ0FBQ3RELE9BQU8sQ0FBQyxDQUFDO0lBQ2xDLElBQUksQ0FBQ3VELFFBQVEsQ0FBQ00sS0FBSyxDQUFDLENBQUM7RUFDdkI7QUFDRjs7QUFFQTtBQUNBLE1BQU1DLGdCQUFnQixDQUFDO0VBQ3JCcEcsV0FBV0EsQ0FBQ3FHLEVBQUUsRUFBRUMsSUFBSSxFQUFFO0lBQ3BCLElBQUksQ0FBQ0QsRUFBRSxHQUFHQSxFQUFFO0lBQ1osSUFBSSxDQUFDQyxJQUFJLEdBQUdBLElBQUk7SUFDaEIsSUFBSSxDQUFDQyxnQkFBZ0IsR0FBRyxJQUFJVCxHQUFHLENBQUMsQ0FBQztFQUNuQztFQUVBVSxZQUFZQSxDQUFDbEYsT0FBTyxHQUFHLENBQUMsQ0FBQyxFQUFFO0lBQ3pCLE9BQU8sSUFBSThELE9BQU8sQ0FBQyxDQUFDQyxPQUFPLEVBQUVDLE1BQU0sS0FBSztNQUN0QyxNQUFNbUIsYUFBYSxHQUFHO1FBQ3BCQyxRQUFRLEVBQUUsSUFBSTtRQUNkdkIsT0FBTyxFQUFFLElBQUk7UUFDYixHQUFHN0Q7TUFDTCxDQUFDO01BRUQsTUFBTXFGLE1BQU0sR0FBRyxJQUFJLENBQUNOLEVBQUUsQ0FBQ08sT0FBTyxDQUFDLG9CQUFvQixJQUFJLENBQUNOLElBQUksRUFBRSxFQUFFRyxhQUFhLENBQUM7TUFFOUUsTUFBTXRCLE9BQU8sR0FBR0ssVUFBVSxDQUFDLE1BQU07UUFDL0JtQixNQUFNLENBQUNFLFVBQVUsQ0FBQyxDQUFDO1FBQ25CdkIsTUFBTSxDQUFDLElBQUluRSxLQUFLLENBQUMsMkJBQTJCLENBQUMsQ0FBQztNQUNoRCxDQUFDLEVBQUVzRixhQUFhLENBQUN0QixPQUFPLENBQUM7TUFFekJ3QixNQUFNLENBQUNHLEVBQUUsQ0FBQyxTQUFTLEVBQUUsTUFBTTtRQUN6QnBCLFlBQVksQ0FBQ1AsT0FBTyxDQUFDO1FBQ3JCLElBQUksQ0FBQ29CLGdCQUFnQixDQUFDNUMsR0FBRyxDQUFDZ0QsTUFBTSxDQUFDM0UsRUFBRSxFQUFFMkUsTUFBTSxDQUFDO1FBQzVDdEIsT0FBTyxDQUFDc0IsTUFBTSxDQUFDO01BQ2pCLENBQUMsQ0FBQztNQUVGQSxNQUFNLENBQUNHLEVBQUUsQ0FBQyxlQUFlLEVBQUc1RixLQUFLLElBQUs7UUFDcEN3RSxZQUFZLENBQUNQLE9BQU8sQ0FBQztRQUNyQkcsTUFBTSxDQUFDcEUsS0FBSyxDQUFDO01BQ2YsQ0FBQyxDQUFDO0lBQ0osQ0FBQyxDQUFDO0VBQ0o7RUFFQSxNQUFNNkYsZ0JBQWdCQSxDQUFDSixNQUFNLEVBQUU7SUFDN0IsSUFBSUEsTUFBTSxFQUFFO01BQ1ZBLE1BQU0sQ0FBQ0UsVUFBVSxDQUFDLENBQUM7TUFDbkIsSUFBSSxDQUFDTixnQkFBZ0IsQ0FBQ1MsTUFBTSxDQUFDTCxNQUFNLENBQUMzRSxFQUFFLENBQUM7SUFDekM7RUFDRjtFQUVBLE1BQU1pRixhQUFhQSxDQUFBLEVBQUc7SUFDcEIsS0FBSyxNQUFNTixNQUFNLElBQUksSUFBSSxDQUFDSixnQkFBZ0IsQ0FBQ1csTUFBTSxDQUFDLENBQUMsRUFBRTtNQUNuRCxNQUFNLElBQUksQ0FBQ0gsZ0JBQWdCLENBQUNKLE1BQU0sQ0FBQztJQUNyQztJQUNBLElBQUksQ0FBQ0osZ0JBQWdCLENBQUNKLEtBQUssQ0FBQyxDQUFDO0VBQy9CO0VBRUEsTUFBTWdCLFlBQVlBLENBQUNSLE1BQU0sRUFBRVMsU0FBUyxFQUFFakMsT0FBTyxHQUFHLElBQUksRUFBRTtJQUNwRCxPQUFPLElBQUlDLE9BQU8sQ0FBQyxDQUFDQyxPQUFPLEVBQUVDLE1BQU0sS0FBSztNQUN0QyxJQUFJK0IsUUFBUSxHQUFHLEtBQUs7TUFFcEIsTUFBTS9FLE9BQU8sR0FBR0EsQ0FBQSxLQUFNO1FBQ3BCcUUsTUFBTSxDQUFDVyxHQUFHLENBQUNGLFNBQVMsRUFBRUcsWUFBWSxDQUFDO1FBQ25DN0IsWUFBWSxDQUFDOEIsU0FBUyxDQUFDO01BQ3pCLENBQUM7TUFFRCxNQUFNRCxZQUFZLEdBQUlFLElBQUksSUFBSztRQUM3QixJQUFJLENBQUNKLFFBQVEsRUFBRTtVQUNiQSxRQUFRLEdBQUcsSUFBSTtVQUNmL0UsT0FBTyxDQUFDLENBQUM7VUFDVCtDLE9BQU8sQ0FBQ29DLElBQUksQ0FBQztRQUNmO01BQ0YsQ0FBQztNQUVELE1BQU1ELFNBQVMsR0FBR2hDLFVBQVUsQ0FBQyxNQUFNO1FBQ2pDLElBQUksQ0FBQzZCLFFBQVEsRUFBRTtVQUNiQSxRQUFRLEdBQUcsSUFBSTtVQUNmL0UsT0FBTyxDQUFDLENBQUM7VUFDVGdELE1BQU0sQ0FBQyxJQUFJbkUsS0FBSyxDQUFDLDhCQUE4QmlHLFNBQVMsRUFBRSxDQUFDLENBQUM7UUFDOUQ7TUFDRixDQUFDLEVBQUVqQyxPQUFPLENBQUM7TUFFWHdCLE1BQU0sQ0FBQ0csRUFBRSxDQUFDTSxTQUFTLEVBQUVHLFlBQVksQ0FBQztJQUNwQyxDQUFDLENBQUM7RUFDSjtBQUNGOztBQUVBO0FBQ0EsTUFBTUcsYUFBYSxHQUFHO0VBQ3BCQyxxQkFBcUIsRUFBRUEsQ0FBQ3hELFFBQVEsRUFBRXlELE1BQU0sR0FBRyxHQUFHLEtBQUs7SUFDakQsSUFBSXpELFFBQVEsQ0FBQ3lELE1BQU0sS0FBS0EsTUFBTSxFQUFFO01BQzlCLE1BQU0sSUFBSXpHLEtBQUssQ0FBQyxtQkFBbUJ5RyxNQUFNLFNBQVN6RCxRQUFRLENBQUN5RCxNQUFNLGVBQWVDLElBQUksQ0FBQ0MsU0FBUyxDQUFDM0QsUUFBUSxDQUFDQyxJQUFJLENBQUMsRUFBRSxDQUFDO0lBQ2xIO0lBQ0EsT0FBT0QsUUFBUTtFQUNqQixDQUFDO0VBRUQ0RCxtQkFBbUIsRUFBRUEsQ0FBQ0MsTUFBTSxFQUFFQyxVQUFVLEtBQUs7SUFDM0MsS0FBSyxNQUFNQyxJQUFJLElBQUlELFVBQVUsRUFBRTtNQUM3QixJQUFJLENBQUNELE1BQU0sQ0FBQ0csY0FBYyxDQUFDRCxJQUFJLENBQUMsRUFBRTtRQUNoQyxNQUFNLElBQUkvRyxLQUFLLENBQUMsNEJBQTRCK0csSUFBSSxhQUFhTCxJQUFJLENBQUNDLFNBQVMsQ0FBQ0UsTUFBTSxDQUFDLEVBQUUsQ0FBQztNQUN4RjtJQUNGO0lBQ0EsT0FBT0EsTUFBTTtFQUNmLENBQUM7RUFFREksY0FBYyxFQUFHQyxLQUFLLElBQUs7SUFDekIsSUFBSSxDQUFDQyxLQUFLLENBQUNDLE9BQU8sQ0FBQ0YsS0FBSyxDQUFDLElBQUlBLEtBQUssQ0FBQzlHLE1BQU0sS0FBSyxDQUFDLEVBQUU7TUFDL0MsTUFBTSxJQUFJSixLQUFLLENBQUMsa0NBQWtDMEcsSUFBSSxDQUFDQyxTQUFTLENBQUNPLEtBQUssQ0FBQyxFQUFFLENBQUM7SUFDNUU7SUFDQSxPQUFPQSxLQUFLO0VBQ2Q7QUFDRixDQUFDO0FBRURHLE1BQU0sQ0FBQ0MsT0FBTyxHQUFHO0VBQ2YxSSxjQUFjO0VBQ2QyQyxpQkFBaUI7RUFDakJVLGNBQWM7RUFDZG1CLGtCQUFrQjtFQUNsQm9CLGlCQUFpQjtFQUNqQlMsZ0JBQWdCO0VBQ2hCc0I7QUFDRixDQUFDIiwiaWdub3JlTGlzdCI6W119