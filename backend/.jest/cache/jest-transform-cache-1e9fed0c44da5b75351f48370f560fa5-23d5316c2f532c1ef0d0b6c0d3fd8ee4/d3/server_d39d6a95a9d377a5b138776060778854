c56d89cdb2f767d878a470b38049eda5
require('dotenv').config();
const express = require('express');
const http = require('http');
const socketIo = require('socket.io');
const jwt = require('jsonwebtoken');
const cors = require('cors');
const winston = require('winston');
const swaggerJsdoc = require('swagger-jsdoc');
const swaggerUi = require('swagger-ui-express');
const helmet = require('helmet');
const rateLimit = require('express-rate-limit');
const {
  body,
  validationResult
} = require('express-validator');
const mongoose = require('mongoose');
const session = require('express-session');
const MongoStore = require('connect-mongo');
const {
  connectDB,
  closeDB
} = require('./db/connection');
const emailService = require('./services/emailService');

// Import models
const User = require('./models/User');
const Message = require('./models/Message');
const Channel = require('./models/Channel');

// Logger setup
const logger = winston.createLogger({
  level: 'info',
  format: winston.format.combine(winston.format.timestamp(), winston.format.errors({
    stack: true
  }), winston.format.json()),
  defaultMeta: {
    service: 'chat-server'
  },
  transports: [new winston.transports.File({
    filename: 'logs/server.log'
  }), new winston.transports.Console({
    format: winston.format.combine(winston.format.colorize(), winston.format.simple())
  })]
});
const app = express();
const server = http.createServer(app);

// Rate limiting configuration
const authRateLimiter = rateLimit({
  windowMs: 15 * 60 * 1000,
  // 15 minutes
  max: process.env.NODE_ENV === 'test' || process.env.CYPRESS_API_SKIP ? 10000 : 5,
  // High limit for tests and Cypress
  message: {
    error: 'Too many authentication attempts, please try again later.'
  },
  standardHeaders: true,
  legacyHeaders: false,
  skip: req => {
    // Skip rate limiting for Cypress tests (detected by user-agent or specific headers)
    return req.get('User-Agent') && req.get('User-Agent').includes('Cypress');
  }
});
const apiRateLimiter = rateLimit({
  windowMs: 15 * 60 * 1000,
  // 15 minutes
  max: 100,
  // Limit each IP to 100 API requests per windowMs
  message: {
    error: 'Too many requests, please try again later.'
  },
  standardHeaders: true,
  legacyHeaders: false
});
const generalRateLimiter = rateLimit({
  windowMs: 60 * 60 * 1000,
  // 1 hour
  max: 1000,
  // Limit each IP to 1000 requests per windowMs
  message: {
    error: 'Too many requests from this IP, please try again later.'
  },
  standardHeaders: true,
  legacyHeaders: false
});
const passwordResetRateLimiter = rateLimit({
  windowMs: 15 * 60 * 1000,
  // 15 minutes
  max: 3,
  // Limit each IP to 3 password reset requests per windowMs
  message: {
    error: 'Too many password reset requests, please try again later.'
  },
  standardHeaders: true,
  legacyHeaders: false
});
const io = socketIo(server, {
  cors: {
    origin: "*",
    methods: ["GET", "POST"],
    allowedHeaders: ["authorization", "content-type"]
  },
  // Ensure both transports are supported
  transports: ['websocket', 'polling']
});

// Log socket connection errors for debugging
io.engine.on('connection_error', err => {
  console.log('ðŸ”Œ Socket engine connection error:', err.code, err.message);
  logger.error('Socket connection error:', {
    code: err.code,
    message: err.message,
    httpStatus: err.status,
    headers: err.req?.headers
  });
});

// CORS configuration
app.use(cors({
  origin: process.env.NODE_ENV === 'production' ? process.env.ALLOWED_ORIGINS?.split(',') || false : true,
  credentials: true
}));
app.use(express.json({
  limit: '10mb'
})); // Add payload size limit

// Session configuration with secure settings
const sessionMiddleware = session({
  secret: process.env.SESSION_SECRET || 'your-very-long-secure-secret-key-change-in-production',
  resave: false,
  saveUninitialized: false,
  store: MongoStore.create({
    mongoUrl: process.env.MONGO_URI || 'mongodb://localhost:27017/chat-app',
    collectionName: 'sessions',
    ttl: 24 * 60 * 60,
    // 1 day in seconds
    autoRemove: 'native',
    touchAfter: 24 * 3600 // Reduce DB load by limiting session saves
  }),
  cookie: {
    secure: process.env.NODE_ENV === 'production',
    // HTTPS only in production
    httpOnly: true,
    // Prevent XSS access to cookie
    maxAge: 24 * 60 * 60 * 1000,
    // 24 hours
    sameSite: 'strict' // CSRF protection
  },
  name: 'chatSession',
  // Custom name to avoid default 'connect.sid'
  rolling: false,
  // Don't extend cookie expiration on each request
  unset: 'destroy' // Destroy session on logout
});
app.use(sessionMiddleware);

// Error handling middleware
const errorHandler = (err, req, res, next) => {
  logger.error('Unhandled error:', {
    message: err.message,
    stack: err.stack,
    url: req.url,
    method: req.method,
    ip: req.ip,
    userAgent: req.get('User-Agent')
  });

  // Mongoose validation errors
  if (err.name === 'ValidationError') {
    const errors = Object.values(err.errors).map(e => ({
      field: e.path,
      message: e.message,
      value: e.value
    }));
    return res.status(422).json({
      error: 'Validation failed',
      details: errors,
      code: 'VALIDATION_ERROR'
    });
  }

  // Mongoose duplicate key error
  if (err.code === 11000) {
    const field = Object.keys(err.keyValue)[0];
    const value = err.keyValue[field];
    return res.status(409).json({
      error: `${field} '${value}' already exists`,
      code: 'DUPLICATE_ERROR'
    });
  }

  // JWT errors
  if (err.name === 'JsonWebTokenError') {
    return res.status(401).json({
      error: 'Invalid or expired token',
      code: 'INVALID_TOKEN'
    });
  }
  if (err.name === 'TokenExpiredError') {
    return res.status(401).json({
      error: 'Token has expired',
      code: 'TOKEN_EXPIRED'
    });
  }

  // Default server error
  res.status(500).json({
    error: 'Internal server error',
    code: 'INTERNAL_ERROR',
    requestId: req.id || 'unknown'
  });
};

// Request logging middleware
app.use((req, res, next) => {
  const start = Date.now();
  res.on('finish', () => {
    const duration = Date.now() - start;
    logger.info(`${req.method} ${req.url} - ${res.statusCode} (${duration}ms)`, {
      ip: req.ip,
      userAgent: req.get('User-Agent'),
      user: req.user?.nickname || 'anonymous',
      body: req.method !== 'GET' ? JSON.stringify(req.body) : undefined
    });
  });
  next();
});

// Session authentication middleware (works parallel to JWT)
const authenticateSession = async (req, res, next) => {
  try {
    console.log('ðŸ” Session authentication middleware called:', {
      url: req.url,
      method: req.method,
      sessionId: req.sessionID
    });

    // Check if session exists and has authenticated user
    if (req.session && req.session.authenticated && req.session.userId) {
      console.log('ðŸŽ¯ Found authenticated session for userId:', req.session.userId);
      const user = await User.findById(req.session.userId);
      if (user) {
        console.log('âœ… Session user found:', {
          nickname: user.nickname,
          id: user._id,
          status: user.status
        });
        req.sessionUser = user; // Store in req.sessionUser to avoid conflict with JWT req.user
      } else {
        console.log('âš ï¸ Session user not found in DB, cleaning session:', req.session.userId);
        // Clean invalid session
        delete req.session.authenticated;
        delete req.session.userId;
      }
    } else {
      console.log('ðŸ” No authenticated session found or session not initialized');
      req.sessionUser = null; // Explicitly set to null when no session
    }
    next();
  } catch (error) {
    logger.warn('Session authentication error:', {
      error: error.message,
      sessionId: req.sessionID,
      ip: req.ip
    });
    req.sessionUser = null; // Set to null on error
    next();
  }
};

// JWT authentication middleware
const authenticateToken = async (req, res, next) => {
  try {
    console.log('ðŸ” JWT authentication middleware called:', {
      url: req.url,
      method: req.method
    });
    const authHeader = req.headers['authorization'];
    const token = authHeader && authHeader.split(' ')[1]; // Bearer TOKEN

    console.log('ðŸ”‘ Token extraction result:', {
      hasAuthHeader: !!authHeader,
      hasToken: !!token
    });
    if (!token) {
      console.log('âŒ No token provided');
      return res.status(401).json({
        error: 'Access token required',
        code: 'NO_TOKEN'
      });
    }
    const decoded = jwt.verify(token, process.env.JWT_SECRET);
    console.log('âœ… JWT decoded:', {
      userId: decoded.userId,
      nickname: decoded.nickname
    });
    const user = await User.findById(decoded.userId);
    if (!user) {
      console.log('âŒ User not found in DB for JWT userId:', decoded.userId);
      return res.status(401).json({
        error: 'User not found',
        code: 'USER_NOT_FOUND'
      });
    }
    req.user = user;
    console.log('âœ… JWT authentication successful for user:', user.nickname, {
      id: user._id,
      status: user.status
    });
    next();
  } catch (error) {
    logger.warn('JWT authentication failed:', {
      error: error.message,
      ip: req.ip
    });
    if (error.name === 'JsonWebTokenError') {
      return res.status(401).json({
        error: 'Invalid token format',
        code: 'INVALID_TOKEN_FORMAT'
      });
    }
    if (error.name === 'TokenExpiredError') {
      return res.status(401).json({
        error: 'Token has expired',
        code: 'TOKEN_EXPIRED'
      });
    }
    return res.status(401).json({
      error: 'Token verification failed',
      code: 'TOKEN_VERIFICATION_FAILED'
    });
  }
};

// Role-based access control middleware
const requireModerator = async (req, res, next) => {
  try {
    if (!req.user) {
      return res.status(401).json({
        error: 'Authentication required',
        code: 'AUTH_REQUIRED'
      });
    }
    if (!req.user.hasModeratorPrivileges()) {
      return res.status(403).json({
        error: 'Moderator privileges required',
        code: 'MODERATOR_REQUIRED'
      });
    }
    next();
  } catch (error) {
    logger.error('Moderator check error:', error);
    res.status(500).json({
      error: 'Server error during authorization check',
      code: 'AUTH_CHECK_ERROR'
    });
  }
};
const requireAdmin = async (req, res, next) => {
  try {
    if (!req.user) {
      return res.status(401).json({
        error: 'Authentication required',
        code: 'AUTH_REQUIRED'
      });
    }
    if (!req.user.hasAdminPrivileges()) {
      return res.status(403).json({
        error: 'Administrator privileges required',
        code: 'ADMIN_REQUIRED'
      });
    }
    next();
  } catch (error) {
    logger.error('Admin check error:', error);
    res.status(500).json({
      error: 'Server error during authorization check',
      code: 'AUTH_CHECK_ERROR'
    });
  }
};

// Error handling middleware

// Session authentication middleware (run before rate limiting)
app.use(authenticateSession);

// General rate limiting (applied to all HTTP requests)
app.use(generalRateLimiter);

// Helmet security headers
app.use(helmet({
  contentSecurityPolicy: {
    directives: {
      defaultSrc: ["'self'"],
      styleSrc: ["'self'", "'unsafe-inline'", "https://fonts.googleapis.com"],
      fontSrc: ["'self'", "https://fonts.gstatic.com"],
      imgSrc: ["'self'", "data:"],
      scriptSrc: ["'self'", "'unsafe-inline'"],
      connectSrc: ["'self'"]
    }
  },
  crossOriginEmbedderPolicy: false
}));

// Swagger configuration
const swaggerOptions = {
  definition: {
    openapi: '3.0.0',
    info: {
      title: 'Chat-JS API',
      version: '1.0.0',
      description: 'REST API for Chat-JS application with real-time messaging and voice channels',
      contact: {
        name: 'Chat-JS Support'
      }
    },
    servers: [{
      url: 'http://localhost:3001',
      description: 'Development server'
    }],
    components: {
      schemas: {
        User: {
          type: 'object',
          properties: {
            id: {
              type: 'string',
              description: 'User unique identifier'
            },
            nickname: {
              type: 'string',
              description: 'User nickname',
              minLength: 3,
              maxLength: 50
            },
            email: {
              type: 'string',
              format: 'email',
              description: 'User email address'
            },
            role: {
              type: 'string',
              enum: ['admin', 'member'],
              default: 'member',
              description: 'User role'
            },
            createdAt: {
              type: 'string',
              format: 'date-time',
              description: 'User creation timestamp'
            },
            lastActive: {
              type: 'string',
              format: 'date-time',
              description: 'Last activity timestamp'
            },
            status: {
              type: 'string',
              enum: ['online', 'offline'],
              description: 'User online status'
            }
          },
          required: ['nickname', 'email', 'password', 'role']
        },
        Channel: {
          type: 'object',
          properties: {
            id: {
              type: 'string',
              description: 'Channel unique identifier (auto-generated from name)'
            },
            name: {
              type: 'string',
              description: 'Channel display name',
              minLength: 1,
              maxLength: 100
            },
            type: {
              type: 'string',
              enum: ['text', 'voice'],
              description: 'Channel type'
            },
            description: {
              type: 'string',
              description: 'Channel description',
              maxLength: 500
            },
            createdBy: {
              type: 'string',
              description: 'Creator nickname'
            },
            position: {
              type: 'number',
              default: 0,
              description: 'Channel display position'
            }
          },
          required: ['id', 'name', 'type', 'createdBy']
        },
        RegisterRequest: {
          type: 'object',
          required: ['nickname', 'email', 'password'],
          properties: {
            nickname: {
              type: 'string',
              minLength: 3,
              maxLength: 50,
              description: 'Unique username'
            },
            email: {
              type: 'string',
              format: 'email',
              description: 'Valid email address'
            },
            password: {
              type: 'string',
              minLength: 6,
              description: 'User password'
            }
          }
        },
        LoginRequest: {
          type: 'object',
          required: ['identifier', 'password'],
          properties: {
            identifier: {
              type: 'string',
              description: 'Username or email'
            },
            password: {
              type: 'string',
              description: 'User password'
            }
          }
        },
        AuthResponse: {
          type: 'object',
          properties: {
            token: {
              type: 'string',
              description: 'JWT access token'
            },
            user: {
              $ref: '#/components/schemas/User'
            }
          }
        },
        ChannelRequest: {
          type: 'object',
          required: ['name', 'type'],
          properties: {
            name: {
              type: 'string',
              minLength: 1,
              maxLength: 100,
              description: 'Channel display name'
            },
            type: {
              type: 'string',
              enum: ['text', 'voice'],
              description: 'Channel type'
            },
            description: {
              type: 'string',
              maxLength: 500,
              description: 'Optional channel description'
            }
          }
        },
        ErrorResponse: {
          type: 'object',
          properties: {
            error: {
              type: 'string',
              description: 'Error message'
            },
            errors: {
              type: 'array',
              items: {
                type: 'object',
                properties: {
                  msg: {
                    type: 'string'
                  },
                  param: {
                    type: 'string'
                  },
                  location: {
                    type: 'string'
                  }
                }
              },
              description: 'Validation errors array'
            }
          }
        }
      },
      securitySchemes: {
        bearerAuth: {
          type: 'http',
          scheme: 'bearer',
          bearerFormat: 'JWT'
        }
      }
    },
    security: [{
      bearerAuth: []
    }]
  },
  apis: ['./server.js'] // Path to the API routes
};
const swaggerSpec = swaggerJsdoc(swaggerOptions);

// Swagger UI with CSP disabled for this route
app.use('/api-docs', (req, res, next) => {
  // Disable CSP for Swagger UI
  res.removeHeader('Content-Security-Policy');
  next();
}, swaggerUi.serve, swaggerUi.setup(swaggerSpec));

// Administrative endpoints - require moderator privileges
console.log('ðŸ”§ Administrative API endpoints registered at startup');

// GET /api/admin/users - List all users with moderation info
app.get('/api/admin/users', authenticateToken, requireModerator, apiRateLimiter, async (req, res) => {
  try {
    const page = parseInt(req.query.page) || 1;
    const limit = parseInt(req.query.limit) || 50;
    const skip = (page - 1) * limit;
    const users = await User.find({}).select('-password -resetPasswordToken -resetPasswordExpires -moderationToken -moderationTokenExpires').sort({
      createdAt: -1
    }).skip(skip).limit(limit);
    const total = await User.countDocuments();
    logger.info(`Admin user list requested by ${req.user.nickname}`, {
      adminId: req.user._id,
      page,
      limit,
      total
    });
    res.json({
      users,
      pagination: {
        page,
        limit,
        total,
        pages: Math.ceil(total / limit)
      }
    });
  } catch (error) {
    logger.error('Error fetching users for admin:', error);
    res.status(500).json({
      error: 'Failed to fetch users',
      code: 'DATABASE_ERROR'
    });
  }
});

// POST /api/admin/users/:userId/ban - Ban a user
app.post('/api/admin/users/:userId/ban', authenticateToken, requireModerator, apiRateLimiter, [body('reason').isLength({
  min: 1,
  max: 500
}).trim(), body('duration').optional().isInt({
  min: 1,
  max: 31536000
}) // Max 1 year in seconds
], async (req, res) => {
  try {
    const errors = validationResult(req);
    if (!errors.isEmpty()) {
      return res.status(400).json({
        errors: errors.array()
      });
    }
    const {
      userId
    } = req.params;
    const {
      reason,
      duration
    } = req.body;
    const user = await User.findById(userId);
    if (!user) {
      return res.status(404).json({
        error: 'User not found'
      });
    }

    // Prevent banning yourself
    if (user._id.toString() === req.user._id.toString()) {
      return res.status(400).json({
        error: 'Cannot ban yourself'
      });
    }

    // Prevent non-admin from banning admin
    if (user.role === 'admin' && req.user.role !== 'admin') {
      return res.status(403).json({
        error: 'Cannot ban administrator'
      });
    }
    await user.ban(reason, duration, req.user._id);
    logger.info(`User ${user.nickname} banned by ${req.user.nickname}`, {
      bannedUserId: userId,
      bannedById: req.user._id,
      reason,
      duration
    });
    res.json({
      message: `User ${user.nickname} has been banned`,
      user: {
        id: user._id,
        nickname: user.nickname,
        banned: true,
        banReason: reason,
        banExpires: user.banExpires
      }
    });
  } catch (error) {
    logger.error('Error banning user:', error);
    res.status(500).json({
      error: 'Failed to ban user'
    });
  }
});

// POST /api/admin/users/:userId/unban - Unban a user
app.post('/api/admin/users/:userId/unban', authenticateToken, requireModerator, apiRateLimiter, async (req, res) => {
  try {
    const {
      userId
    } = req.params;
    const user = await User.findById(userId);
    if (!user) {
      return res.status(404).json({
        error: 'User not found'
      });
    }
    if (!user.banned) {
      return res.status(400).json({
        error: 'User is not banned'
      });
    }
    await user.unban();
    logger.info(`User ${user.nickname} unbanned by ${req.user.nickname}`, {
      unbannedUserId: userId,
      unbannedById: req.user._id
    });
    res.json({
      message: `User ${user.nickname} has been unbanned`,
      user: {
        id: user._id,
        nickname: user.nickname,
        banned: false
      }
    });
  } catch (error) {
    logger.error('Error unbanning user:', error);
    res.status(500).json({
      error: 'Failed to unban user'
    });
  }
});

// POST /api/admin/users/:userId/warn - Issue warning to user
app.post('/api/admin/users/:userId/warn', authenticateToken, requireModerator, apiRateLimiter, [body('reason').isLength({
  min: 1,
  max: 500
}).trim(), body('duration').optional().isInt({
  min: 1,
  max: 31536000
})], async (req, res) => {
  try {
    const errors = validationResult(req);
    if (!errors.isEmpty()) {
      return res.status(400).json({
        errors: errors.array()
      });
    }
    const {
      userId
    } = req.params;
    const {
      reason,
      duration
    } = req.body;
    const user = await User.findById(userId);
    if (!user) {
      return res.status(404).json({
        error: 'User not found'
      });
    }
    await user.warn(reason, req.user._id, duration);
    await user.save();
    logger.info(`Warning issued to user ${user.nickname} by ${req.user.nickname}`, {
      warnedUserId: userId,
      warnedById: req.user._id,
      reason,
      duration
    });
    res.json({
      message: `Warning issued to user ${user.nickname}`,
      warning: {
        reason,
        issuedBy: req.user.nickname,
        issuedAt: new Date(),
        expires: duration ? new Date(Date.now() + duration) : null
      },
      user: {
        id: user._id,
        nickname: user.nickname,
        warningsCount: user.getActiveWarningsCount()
      }
    });
  } catch (error) {
    logger.error('Error warning user:', error);
    res.status(500).json({
      error: 'Failed to warn user'
    });
  }
});

// POST /api/admin/users/:userId/role - Change user role
app.post('/api/admin/users/:userId/role', authenticateToken, requireAdmin, apiRateLimiter, [body('role').isIn(['member', 'moderator', 'admin'])], async (req, res) => {
  try {
    const errors = validationResult(req);
    if (!errors.isEmpty()) {
      return res.status(400).json({
        errors: errors.array()
      });
    }
    const {
      userId
    } = req.params;
    const {
      role: newRole
    } = req.body;
    const user = await User.findById(userId);
    if (!user) {
      return res.status(404).json({
        error: 'User not found'
      });
    }

    // Prevent modifying your own role in potentially problematic ways
    if (user._id.toString() === req.user._id.toString()) {
      return res.status(400).json({
        error: 'Cannot modify your own role'
      });
    }

    // Prevent non-admin from promoting to admin or demoting admin
    if ((newRole === 'admin' || user.role === 'admin') && req.user.role !== 'admin') {
      return res.status(403).json({
        error: 'Only administrators can manage admin roles'
      });
    }
    const oldRole = user.role;
    user.role = newRole;
    await user.save();
    logger.info(`User ${user.nickname} role changed from ${oldRole} to ${newRole} by ${req.user.nickname}`, {
      changedUserId: userId,
      changedById: req.user._id,
      oldRole,
      newRole
    });
    res.json({
      message: `User ${user.nickname} role changed to ${newRole}`,
      user: {
        id: user._id,
        nickname: user.nickname,
        role: newRole
      }
    });
  } catch (error) {
    logger.error('Error changing user role:', error);
    res.status(500).json({
      error: 'Failed to change user role'
    });
  }
});

// POST /api/admin/users/:userId/mute - Mute user
app.post('/api/admin/users/:userId/mute', authenticateToken, requireModerator, apiRateLimiter, [body('duration').isInt({
  min: 60,
  max: 86400
}) // 1 minute to 24 hours
], async (req, res) => {
  try {
    const errors = validationResult(req);
    if (!errors.isEmpty()) {
      return res.status(400).json({
        errors: errors.array()
      });
    }
    const {
      userId
    } = req.params;
    const {
      duration
    } = req.body;
    const user = await User.findById(userId);
    if (!user) {
      return res.status(404).json({
        error: 'User not found'
      });
    }
    await user.mute(duration);
    logger.info(`User ${user.nickname} muted by ${req.user.nickname}`, {
      mutedUserId: userId,
      mutedById: req.user._id,
      duration
    });
    res.json({
      message: `User ${user.nickname} has been muted`,
      user: {
        id: user._id,
        nickname: user.nickname,
        muteExpires: user.muteExpires
      }
    });
  } catch (error) {
    logger.error('Error muting user:', error);
    res.status(500).json({
      error: 'Failed to mute user'
    });
  }
});

// POST /api/admin/users/:userId/unmute - Unmute user
app.post('/api/admin/users/:userId/unmute', authenticateToken, requireModerator, apiRateLimiter, async (req, res) => {
  try {
    const {
      userId
    } = req.params;
    const user = await User.findById(userId);
    if (!user) {
      return res.status(404).json({
        error: 'User not found'
      });
    }
    if (!user.isMuted()) {
      return res.status(400).json({
        error: 'User is not muted'
      });
    }
    await user.unmute();
    logger.info(`User ${user.nickname} unmuted by ${req.user.nickname}`, {
      unmutedUserId: userId,
      unmutedById: req.user._id
    });
    res.json({
      message: `User ${user.nickname} has been unmuted`,
      user: {
        id: user._id,
        nickname: user.nickname,
        muteExpires: null
      }
    });
  } catch (error) {
    logger.error('Error unmuting user:', error);
    res.status(500).json({
      error: 'Failed to unmute user'
    });
  }
});

/**
 * @swagger
 * /api/users:
 *   get:
 *     tags:
 *       - Users
 *     summary: Get list of all registered users
 *     description: Retrieves a list of all users with their roles and online status
 *     security:
 *       - bearerAuth: []
 *     responses:
 *       200:
 *         description: List of users successfully retrieved
 *         content:
 *           application/json:
 *             schema:
 *               type: array
 *               items:
 *                 type: object
 *                 properties:
 *                   id:
 *                     type: string
 *                     description: User's unique identifier
 *                   nickname:
 *                     type: string
 *                     description: User's display name
 *                   role:
 *                     type: string
 *                     enum: [admin, moderator, member]
 *                     description: User's role level
 *                   status:
 *                     type: string
 *                     enum: [online, offline]
 *                     description: User's online status
 *                   createdAt:
 *                     type: string
 *                     format: date-time
 *                     description: User registration date
 *                   lastActive:
 *                     type: string
 *                     format: date-time
 *                     description: Last activity timestamp
 *             example:
 *               - id: "507f1f77bcf86cd799439011"
 *                 nickname: "john_doe"
 *                 role: "member"
 *                 status: "online"
 *                 createdAt: "2024-09-07T10:30:00Z"
 *                 lastActive: "2024-09-07T22:15:00Z"
 *       401:
 *         description: Authentication required
 *         content:
 *           application/json:
 *             schema:
 *               $ref: '#/components/schemas/ErrorResponse'
 *       500:
 *         description: Server error
 */
console.log('ðŸ”§ GET /api/users route registered at startup');
app.get('/api/users', authenticateToken, apiRateLimiter, async (req, res) => {
  try {
    const users = await User.find({}).select('_id nickname role status createdAt lastActive').sort({
      nickname: 1
    });
    logger.info(`Users list requested by ${req.user.nickname}`, {
      userId: req.user._id,
      totalUsers: users.length
    });
    console.log('ðŸ“¤ Returning users data:', users.length);
    res.json(users);
  } catch (error) {
    logger.error('Error fetching users:', error);
    console.error('âŒ Error in GET /api/users:', error.message);
    res.status(500).json({
      error: 'Failed to fetch users',
      code: 'DATABASE_ERROR'
    });
  }
});

// Swagger JSON endpoint
app.get('/api-docs.json', (req, res) => {
  res.removeHeader('Content-Security-Policy');
  res.setHeader('Content-Type', 'application/json');
  res.send(swaggerSpec);
});

// Development and test endpoint to reset rate limiting
app.post('/api/reset-ratelimit', (req, res) => {
  // In a real application, you'd want to get the store from the limiter instance
  // For express-rate-limit v7+, you can access the store like this:
  try {
    const authLimiterStore = authRateLimiter.store;
    if (authLimiterStore && typeof authLimiterStore.resetAll === 'function') {
      authLimiterStore.resetAll();
      console.log('ðŸ”„ Rate limiting reset for testing purposes');
      res.json({
        success: true,
        message: 'Rate limiting has been reset'
      });
    } else {
      // If store doesn't expose resetAll, create a temporary workaround
      console.log('âš ï¸ Rate limiter store doesn\'t support resetAll - rate limiting will expire naturally');
      res.json({
        success: false,
        message: 'Cannot reset rate limiting automatically, wait for timeout'
      });
    }
  } catch (error) {
    console.log('âŒ Error resetting rate limiting:', error.message);
    res.status(500).json({
      success: false,
      error: 'Failed to reset rate limiting'
    });
  }
});

// Health check endpoint
app.get('/health', (req, res) => {
  res.json({
    status: 'healthy',
    timestamp: new Date().toISOString(),
    uptime: process.uptime()
  });
});

// Log middleware to check incoming requests
app.use((req, res, next) => {
  logger.info(`ðŸ” Incoming request: ${req.method} ${req.url}`, {
    ip: req.ip,
    userAgent: req.get('User-Agent'),
    headers: req.headers
  });
  next();
});

/**
   * @swagger
   * /api/login:
   *   post:
   *     tags:
   *       - Authentication
   *     summary: Login existing user
   *     description: Authenticates and logs in an existing user with JWT token
   *     requestBody:
   *       required: true
   *       content:
   *         application/json:
   *           schema:
   *             $ref: '#/components/schemas/LoginRequest'
   *     responses:
   *       200:
   *         description: Login successful
   *         content:
   *           application/json:
   *             schema:
   *               $ref: '#/components/schemas/AuthResponse'
   *             example:
   *               token: "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9..."
   *               user:
   *                 id: "507f1f77bcf86cd799439011"
   *                 nickname: "john_doe"
   *                 email: "john@example.com"
   *                 role: "member"
   *       400:
   *         description: Invalid credentials or validation errors
   *         content:
   *           application/json:
   *             schema:
   *               $ref: '#/components/schemas/ErrorResponse'
   *             example:
   *               error: "Invalid credentials"
   *       500:
   *         description: Server error
   */
console.log('ðŸ”§ POST /api/login route registered at startup');
app.post('/api/login', [body('identifier').isLength({
  min: 1,
  max: 50
}).trim(), body('password').isLength({
  min: 6,
  max: 100
})], async (req, res) => {
  try {
    console.log('ðŸ”‘ Incoming login request:', {
      identifier: req.body.identifier,
      hasPassword: !!req.body.password,
      ip: req.ip
    });
    const errors = validationResult(req);
    if (!errors.isEmpty()) {
      console.log('âŒ Login validation errors:', errors.array());
      return res.status(400).json({
        errors: errors.array()
      });
    }
    const {
      identifier,
      password
    } = req.body;
    console.log('ðŸ” Searching for user with identifier:', identifier);

    // Find user by nickname or email
    const user = await User.findOne({
      $or: [{
        nickname: identifier
      }, {
        email: identifier
      }]
    });
    if (!user) {
      console.log('âŒ User not found:', identifier);
      return res.status(400).json({
        error: 'Invalid credentials'
      });
    }
    console.log('âœ… User found:', {
      nickname: user.nickname,
      email: user.email,
      status: user.status
    });

    // Compare password
    const isPasswordValid = await user.comparePassword(password);
    console.log('ðŸ”‘ Password validation result:', isPasswordValid);
    if (!isPasswordValid) {
      console.log('âŒ Invalid password for user:', user.nickname);
      return res.status(400).json({
        error: 'Invalid credentials'
      });
    }

    // Update user status to online
    user.status = 'online';
    await user.save();

    // Store user in session for parallel authentication
    console.log('ðŸ” Storing user in session for user:', user.nickname);
    req.session.authenticated = true;
    req.session.userId = user._id.toString();
    req.session.nickname = user.nickname; // Store additional info for convenience
    req.session.role = user.role;
    req.session.csrfToken = process.env.JWT_SECRET; // Simple CSRF protection using JWT_SECRET
    req.session.loginTime = new Date().toISOString();
    req.session.userAgent = req.get('User-Agent'); // Store user agent for additional security

    // Save session before JWT generation
    await new Promise((resolve, reject) => {
      req.session.save(err => {
        if (err) {
          console.error('âŒ Session save error:', err);
          reject(err);
        } else {
          console.log('âœ… Session saved successfully with CSRF protection');
          resolve();
        }
      });
    });

    // Generate JWT token
    console.log('ðŸ” Generating JWT token for user:', user.nickname);
    const token = jwt.sign({
      userId: user._id,
      nickname: user.nickname,
      role: user.role,
      csrfToken: req.session.csrfToken,
      sessionId: req.sessionId
    }, process.env.JWT_SECRET, {
      expiresIn: '24h'
    });
    console.log('âœ… JWT token generated successfully');
    logger.info(`User logged in: ${user.nickname}`);
    console.log('ðŸ“¤ Sending login response');
    res.json({
      token,
      // JWT for API calls and WebSockets
      user: {
        id: user._id,
        nickname: user.nickname,
        email: user.email,
        role: user.role
      },
      session: {
        authenticated: true,
        id: req.sessionId,
        expires: req.session.cookie.expires
      }
    });
  } catch (error) {
    logger.error('Login error:', error);
    res.status(500).json({
      error: 'Server error during login'
    });
  }
});

/**
   * @swagger
   * /api/register:
  *   post:
  *     tags:
  *       - Authentication
  *     summary: Register new user
  *     description: Creates a new user account and returns JWT token
  *     requestBody:
  *       required: true
  *       content:
  *         application/json:
  *           schema:
  *             $ref: '#/components/schemas/RegisterRequest'
  *           example:
  *             nickname: "john_doe"
  *             email: "john@example.com"
  *             password: "securePass123"
  *     responses:
  *       201:
  *         description: Registration successful
  *         content:
  *           application/json:
  *             schema:
  *               $ref: '#/components/schemas/AuthResponse'
  *             example:
  *               token: "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9..."
  *               user:
  *                 id: "507f1f77bcf86cd799439011"
  *                 nickname: "john_doe"
  *                 email: "john@example.com"
  *                 role: "member"
  *       400:
  *         description: Validation errors or user already exists
  *         content:
  *           application/json:
  *             schema:
  *               $ref: '#/components/schemas/ErrorResponse'
  *             example:
  *               error: "Nickname already taken"
  *       500:
  *         description: Server error
  */
app.post('/api/register', authRateLimiter, [body('nickname').isLength({
  min: 3,
  max: 50
}).trim().escape(), body('email').isEmail().normalizeEmail(), body('password').isLength({
  min: 6
})], async (req, res) => {
  try {
    const errors = validationResult(req);
    if (!errors.isEmpty()) {
      return res.status(400).json({
        errors: errors.array()
      });
    }
    const {
      nickname,
      email,
      password
    } = req.body;

    // Check if user exists
    const existingUser = await User.findOne({
      $or: [{
        nickname
      }, {
        email
      }]
    });
    if (existingUser) {
      const conflictField = existingUser.nickname === nickname ? 'nickname' : 'email';
      const errorMessage = conflictField === 'nickname' ? 'Nickname already taken' : 'Email already registered';
      return res.status(409).json({
        error: errorMessage
      });
    }

    // Create user
    const user = new User({
      nickname,
      email,
      password,
      role: 'member',
      status: 'online'
    });
    await user.save();
    console.log('ðŸ” Storing registered user in session');
    // Store user in session for parallel authentication during registration
    req.session.authenticated = true;
    req.session.userId = user._id.toString();
    req.session.nickname = user.nickname;
    req.session.role = user.role;
    req.session.csrfToken = process.env.JWT_SECRET; // CSRF protection
    req.session.registrationTime = new Date().toISOString();
    req.session.userAgent = req.get('User-Agent'); // Additional security tracking

    // Save session before JWT generation
    await new Promise((resolve, reject) => {
      req.session.save(err => {
        if (err) {
          console.error('âŒ Session save error during registration:', err);
          reject(err);
        } else {
          console.log('âœ… Session saved successfully during registration with security features');
          resolve();
        }
      });
    });
    console.log('JWT_SECRET present:', !!process.env.JWT_SECRET);
    const token = jwt.sign({
      userId: user._id,
      nickname: user.nickname,
      role: user.role,
      csrfToken: req.session.csrfToken,
      sessionId: req.sessionId
    }, process.env.JWT_SECRET, {
      expiresIn: '24h'
    });
    console.log('JWT token generated successfully');
    logger.info(`User registered: ${user.nickname}`);
    res.status(201).json({
      token,
      // JWT for API calls and WebSockets
      user: {
        id: user._id,
        nickname: user.nickname,
        email: user.email,
        role: user.role
      },
      session: {
        authenticated: true,
        id: req.sessionId,
        expires: req.session.cookie.expires
      }
    });
  } catch (error) {
    logger.error('Registration error:', error);
    res.status(500).json({
      error: 'Server error during registration'
    });
  }
});

/**
 * @swagger
 * /api/channels:
 *   get:
 *     tags:
 *       - Channels
 *     summary: Get list of channels
 *     description: Retrieves a list of all available channels
 *     security:
 *       - bearerAuth: []
 *     responses:
 *       200:
 *         description: List of channels
 *         content:
 *           application/json:
 *             schema:
 *               type: array
 *               items:
 *                 $ref: '#/components/schemas/Channel'
 *             example:
 *               - id: "general"
 *                 name: "General"
 *                 type: "text"
 *                 description: ""
 *                 createdBy: "system"
 *                 position: 0
 *       401:
 *         description: Unauthorized
 *         content:
 *           application/json:
 *             schema:
 *               $ref: '#/components/schemas/ErrorResponse'
 *             example:
 *               error: "Access token required"
 *       500:
 *         description: Internal server error
 */
console.log('ðŸ”§ GET /api/channels route registered at startup');
app.get('/api/channels', authenticateToken, apiRateLimiter, async (req, res) => {
  console.log('ðŸš€ GET /api/channels endpoint called', {
    method: req.method,
    url: req.url,
    headers: req.headers.authorization ? 'auth header present' : 'no auth header'
  });
  try {
    const channels = await Channel.find({}).select('-_id id name type description createdBy position').sort({
      position: 1
    });
    logger.info(`Channels list requested by ${req.user.nickname}`, {
      userId: req.user._id,
      channelCount: channels.length
    });
    console.log('ðŸ“¤ Returning channels data:', channels.length);
    res.json(channels);
  } catch (error) {
    logger.error('Error fetching channels:', error);
    console.error('âŒ Error in GET /api/channels:', error.message);
    res.status(500).json({
      error: 'Failed to fetch channels',
      code: 'DATABASE_ERROR'
    });
  }
});
console.log('ðŸ”§ POST /api/channels route registered at startup');

/**
 * @swagger
 * /api/channels:
 *   post:
 *     tags:
 *       - Channels
 *     summary: Create a new channel
 *     description: Creates a new text or voice channel
 *     security:
 *       - bearerAuth: []
 *     requestBody:
 *       required: true
 *       content:
 *         application/json:
 *           schema:
 *             $ref: '#/components/schemas/ChannelRequest'
 *           example:
 *             name: "NewChannel"
 *             type: "text"
 *             description: "Description of the new channel"
 *     responses:
 *       201:
 *         description: Channel created successfully
 *         content:
 *           application/json:
 *             schema:
 *               $ref: '#/components/schemas/Channel'
 *             example:
 *               id: "newchannel"
 *               name: "NewChannel"
 *               type: "text"
 *               description: "Description of the new channel"
 *               createdBy: "john_doe"
 *               position: 10
 *       400:
 *         description: Invalid request data
 *         content:
 *           application/json:
 *             schema:
 *               $ref: '#/components/schemas/ErrorResponse'
 *       401:
 *         description: Unauthorized
 *       409:
 *         description: Channel name already exists
 *       500:
 *         description: Server error
 */
app.post('/api/channels', authenticateToken, apiRateLimiter, [body('name').isLength({
  min: 1,
  max: 100
}).trim().escape(), body('type').isIn(['text', 'voice']).trim(), body('description').optional().isLength({
  max: 500
}).trim()], async (req, res) => {
  try {
    const errors = validationResult(req);
    if (!errors.isEmpty()) {
      return res.status(400).json({
        errors: errors.array()
      });
    }
    const {
      name,
      type,
      description
    } = req.body;
    const createdBy = req.user.nickname;

    // Create new channel (ID will be auto-generated in pre-save middleware)
    const channel = new Channel({
      name,
      type,
      description,
      createdBy
    });
    await channel.save();
    logger.info(`Channel '${name}' created by ${createdBy}`, {
      channelId: channel.id,
      type,
      userId: req.user._id
    });
    res.status(201).json({
      id: channel.id,
      name: channel.name,
      type: channel.type,
      description: channel.description,
      createdBy: channel.createdBy,
      position: channel.position
    });
  } catch (error) {
    logger.error('Error creating channel:', error);
    if (error.name === 'ValidationError') {
      return res.status(400).json({
        error: 'Invalid channel data',
        details: error.message
      });
    }
    if (error.code === 11000) {
      return res.status(409).json({
        error: 'Channel name already exists',
        code: 'DUPLICATE_CHANNEL'
      });
    }
    res.status(500).json({
      error: 'Failed to create channel',
      code: 'DATABASE_ERROR'
    });
  }
});
console.log('ðŸ”§ POST /api/logout route registered at startup');
app.post('/api/logout', authenticateToken, apiRateLimiter, async (req, res) => {
  try {
    console.log('ðŸšª Logout request from user:', req.user.nickname, {
      userId: req.user._id
    });

    // Disconnect all Socket.IO connections for this user
    const sockets = onlineUsers;
    let disconnectedCount = 0;
    for (const [socketId, socketData] of sockets.entries()) {
      if (socketData.userId === req.user._id.toString()) {
        const socket = io.sockets.sockets.get(socketId);
        if (socket) {
          socket.disconnect();
          disconnectedCount++;
        }
      }
    }

    // Update user status to offline
    await User.findByIdAndUpdate(req.user._id, {
      status: 'offline',
      lastActive: new Date()
    });
    console.log(`âœ… User ${req.user.nickname} logged out successfully, ${disconnectedCount} connections disconnected`);
    logger.info(`User logged out: ${req.user.nickname}`, {
      userId: req.user._id,
      disconnectedSockets: disconnectedCount
    });
    res.json({
      success: true,
      message: 'Logged out successfully',
      disconnectedCount
    });
  } catch (error) {
    logger.error('Logout error:', error);
    res.status(500).json({
      error: 'Server error during logout'
    });
  }
});

/**
 * Session logout endpoint - destroys session
 * This complements JWT logout to handle session-based authentication
 */
app.post('/api/logout_session', apiRateLimiter, async (req, res) => {
  try {
    console.log('ðŸšª Session logout request, sessionId:', req.sessionId);

    // Check if there's an authenticated session or JWT user
    const hasJwtAuth = !!req.user; // From JWT middleware
    const hasSessionAuth = req.sessionUser || req.session && req.session.authenticated;
    const sessionUserId = req.session && req.session.userId;
    console.log('ðŸ¤” Session logout check:', {
      hasJwtAuth,
      hasSessionAuth,
      sessionUserId,
      sessionId: req.sessionId
    });
    if (hasSessionAuth) {
      const sessionUser = sessionUserId ? await User.findById(sessionUserId) : null;
      const nickname = sessionUser ? sessionUser.nickname : 'unknown';
      console.log('âœ… Session logout: Destroying session for user:', nickname);

      // Disconnect Socket.IO connections for this session user
      if (sessionUserId) {
        const sockets = onlineUsers;
        let disconnectedCount = 0;
        for (const [socketId, socketData] of sockets.entries()) {
          if (socketData.userId === sessionUserId) {
            const socket = io.sockets.sockets.get(socketId);
            if (socket) {
              socket.disconnect();
              disconnectedCount++;
            }
          }
        }
        console.log(`ðŸ—‘ï¸ Session logout: Disconnected ${disconnectedCount} socket connections`);
      }

      // Destroy the session
      await new Promise((resolve, reject) => {
        req.session.destroy(err => {
          if (err) {
            console.error('âŒ Session destroy error:', err);
            reject(err);
          } else {
            console.log('âœ… Session destroyed successfully');
            resolve();
          }
        });
      });
      logger.info(`Session logged out: ${nickname}`, {
        sessionId: req.sessionId,
        ip: req.ip
      });
      res.json({
        success: true,
        message: 'Session logged out successfully',
        type: 'session_logout',
        sessionDestroyed: true
      });
    } else {
      console.log('âš ï¸ Session logout: No authenticated session to destroy');
      res.json({
        success: true,
        message: 'No active session to log out',
        type: 'session_logout',
        sessionDestroyed: false
      });
    }
  } catch (error) {
    logger.error('Session logout error:', error);
    res.status(500).json({
      error: 'Server error during session logout',
      code: 'SESSION_LOGOUT_ERROR'
    });
  }
});

// Hybrid logout endpoint - handles both JWT and session logout
app.post('/api/logout_complete', apiRateLimiter, async (req, res) => {
  try {
    console.log('ðŸšª Complete logout request (JWT + Session), sessionId:', req.sessionId);
    const hasJwtAuth = !!req.user;
    const hasSessionAuth = req.sessionUser || req.session && req.session.authenticated;
    const sessionUserId = req.session && req.session.userId;
    let jwtLogoutResult = null;
    let sessionLogoutResult = null;

    // Handle JWT logout if JWT is provided
    if (hasJwtAuth) {
      try {
        const sockets = onlineUsers;
        let disconnectedCount = 0;
        for (const [socketId, socketData] of sockets.entries()) {
          if (socketData.userId === req.user._id.toString()) {
            const socket = io.sockets.sockets.get(socketId);
            if (socket) {
              socket.disconnect();
              disconnectedCount++;
            }
          }
        }
        await User.findByIdAndUpdate(req.user._id, {
          status: 'offline',
          lastActive: new Date()
        });
        jwtLogoutResult = {
          success: true,
          disconnectedCount
        };
      } catch (jwtError) {
        jwtLogoutResult = {
          success: false,
          error: jwtError.message
        };
      }
    }

    // Handle session logout if session exists
    if (hasSessionAuth) {
      try {
        if (sessionUserId) {
          const sessionUser = await User.findById(sessionUserId);
          console.log('âœ… Session logout: Destroying session for user:', sessionUser ? sessionUser.nickname : 'unknown');

          // Disconnect Socket.IO connections for this session user
          const sockets = onlineUsers;
          let disconnectedCount = 0;
          for (const [socketId, socketData] of sockets.entries()) {
            if (socketData.userId === sessionUserId) {
              const socket = io.sockets.sockets.get(socketId);
              if (socket) {
                socket.disconnect();
                disconnectedCount++;
              }
            }
          }
          console.log(`ðŸ—‘ï¸ Session logout: Disconnected ${disconnectedCount} socket connections`);
        }

        // Destroy the session
        await new Promise((resolve, reject) => {
          req.session.destroy(err => {
            if (err) {
              reject(err);
            } else {
              resolve();
            }
          });
        });
        sessionLogoutResult = {
          success: true,
          sessionDestroyed: true
        };
      } catch (sessionError) {
        sessionLogoutResult = {
          success: false,
          error: sessionError.message
        };
      }
    }
    const overallSuccess = (!jwtLogoutResult || jwtLogoutResult.success) && (!sessionLogoutResult || sessionLogoutResult.success);
    res.json({
      success: overallSuccess,
      message: 'Complete logout processed',
      type: 'complete_logout',
      jwt: jwtLogoutResult,
      session: sessionLogoutResult
    });
  } catch (error) {
    logger.error('Complete logout error:', error);
    res.status(500).json({
      error: 'Server error during complete logout',
      code: 'COMPLETE_LOGOUT_ERROR'
    });
  }
});

//  404 handler (must be before global error handler)
app.use((req, res) => {
  console.warn('âŒ Final 404 handler executed - route not found!', {
    method: req.method,
    url: req.url
  });
  logger.warn(`404 - ${req.method} ${req.url}`, {
    ip: req.ip,
    userAgent: req.get('User-Agent')
  });
  res.status(404).json({
    error: 'Endpoint not found',
    path: req.url,
    method: req.method,
    code: 'NOT_FOUND'
  });
});

// Global error handling middleware (must be last)
app.use(errorHandler);

// Global users map for socket management {socketId: {userId, nickname, room}}
let onlineUsers = new Map();

// User connection counter {userId: connectionCount}
let userConnections = new Map();

// Voice channels management
const voiceChannels = new Map(); // channelId -> { socketId: { peerConnection, stream } }

// Enable session support for Socket.IO
io.use(sessionMiddleware);

// Socket.IO authentication middleware
io.use(async (socket, next) => {
  const {
    sessionId,
    csrfToken
  } = socket.handshake.auth;
  const session = socket.request.session;
  console.log('ðŸ”‘ Socket authentication attempt with session and CSRF');

  // Validate session exists and has authentication
  if (!session || !session.authenticated || !session.userId) {
    console.log('âŒ Socket authentication failed: No authenticated session');
    return next(new Error('Session authentication required'));
  }

  // Validate CSRF token for additional security (simplified for now - use JWT_SECRET)
  if (!csrfToken || csrfToken !== process.env.JWT_SECRET) {
    console.log('âŒ Socket authentication failed: Invalid CSRF token');
    return next(new Error('CSRF validation failed'));
  }
  try {
    // Verify user exists in database
    const user = await User.findById(session.userId);
    if (!user) {
      console.log('âŒ Socket authentication failed: User not found in DB');
      return next(new Error('User not found in session'));
    }

    // Handle user status update based on connection count
    const userId = session.userId;
    const connectionCount = userConnections.get(userId) || 0;
    const newConnectionCount = connectionCount + 1;
    userConnections.set(userId, newConnectionCount);

    // Check if user is banned
    if (user.isBanned()) {
      console.log('âŒ Socket authentication failed: User is banned', {
        userId: userId,
        nickname: user.nickname,
        banReason: user.banReason,
        banExpires: user.banExpires
      });
      socket.emit('banned', {
        reason: user.banReason || 'You have been banned from the server',
        expires: user.banExpires
      });
      return next(new Error('User is banned'));
    }

    // Check if user is muted and enforce mute in chat
    const isMuted = user.isMuted();
    console.log('ðŸ”‡ User mute status checked:', {
      nickname: user.nickname,
      isMuted,
      muteExpires: user.muteExpires
    });

    // Update user status with connection count tracking
    const updateResult = await User.findOneAndUpdate({
      _id: userId
    }, {
      $set: {
        status: newConnectionCount > 0 ? 'online' : 'offline',
        lastActive: new Date()
      }
    }, {
      new: true,
      runValidators: true
    });
    if (updateResult) {
      console.log(`ðŸ”„ Socket auth: User ${user.nickname} status set to online (connections: ${newConnectionCount})`);
      logger.info(`User status updated to online via socket auth`, {
        userId: userId,
        nickname: user.nickname,
        connections: newConnectionCount,
        socketId: socket.id,
        timestamp: new Date()
      });
    }

    // Override local user object with updated data
    user.status = updateResult ? updateResult.status : 'online';
    user.lastActive = updateResult ? updateResult.lastActive : new Date();

    // Set socket properties for authenticated user
    socket.userId = session.userId;
    socket.nickname = session.nickname;
    socket.role = session.role || 'member';
    console.log(`ðŸŽ‰ Socket authenticated via session: ${socket.nickname} (userId: ${socket.userId})`);
    return next();
  } catch (error) {
    console.error('âŒ Socket authentication error:', error.message);
    logger.error(`Socket auth failed: ${error.message}`, {
      socketId: socket.id,
      sessionId: session?.id,
      ip: socket.handshake.address
    });
    return next(new Error('Socket authentication failed'));
  }
});

/**
 * Cleanup inactive connections based on heartbeat
 */
function cleanupInactiveConnections() {
  const now = Date.now();
  const timeout = 60000; // 60 seconds timeout

  for (const [socketId, user] of onlineUsers.entries()) {
    if (now - user.lastHeartbeat > timeout) {
      console.log(`ðŸ§¹ Cleansing dead connection for user ${user.nickname}`);

      // Force disconnect socket
      const socket = io.sockets.sockets.get(socketId);
      if (socket) {
        socket.disconnect(true);
      }

      // Update user connections count
      const connectionsLeft = (userConnections.get(user.userId) || 0) - 1;
      userConnections.set(user.userId, Math.max(0, connectionsLeft));

      // Set status to offline if last connection
      if (connectionsLeft <= 0) {
        User.findByIdAndUpdate(user.userId, {
          status: 'offline',
          lastActive: new Date()
        }).catch(err => logger.error('Error updating status on cleanup:', err));
        console.log(`ðŸ”„ User ${user.nickname} status set to offline (dead connection)`);
        logger.info(`User status set to offline due to dead connection`, {
          userId: user.userId,
          nickname: user.nickname,
          socketId: socketId
        });
      }
      onlineUsers.delete(socketId);
    }
  }
}

// Run cleanup every 30 seconds - DISABLED for test environment
if (process.env.NODE_ENV !== 'test') {
  setInterval(cleanupInactiveConnections, 30000);
}
io.on('connection', async socket => {
  console.log('ðŸš€ Socket connection established');
  console.log(`ðŸ‘¤ User ${socket.nickname} connected`);

  // Track online user
  onlineUsers.set(socket.id, {
    userId: socket.userId,
    nickname: socket.nickname,
    role: socket.role,
    room: null,
    lastHeartbeat: Date.now()
  });

  // Log current active connections count
  console.log(`ðŸ“Š Active socket connections: ${onlineUsers.size} - auth success for ${socket.nickname}`);

  // Heartbeat mechanism
  socket.on('heartbeat', () => {
    const user = onlineUsers.get(socket.id);
    if (user) {
      user.lastHeartbeat = Date.now();
      console.log(`ðŸ’“ Heartbeat received from user ${socket.nickname}`);
    }
  });

  // Update heartbeat on user activity
  const updateHeartbeat = () => {
    const user = onlineUsers.get(socket.id);
    if (user) {
      user.lastHeartbeat = Date.now();
    }
  };
  socket.on('join_room', async data => {
    updateHeartbeat();
    const {
      room
    } = data;
    if (!room) {
      logger.warn('Join room failed: No room specified', {
        userId: socket.userId,
        nickname: socket.nickname
      });
      socket.emit('error', {
        message: 'Room name is required',
        code: 'MISSING_ROOM',
        timestamp: new Date().toISOString()
      });
      return;
    }
    if (typeof room !== 'string' || room.trim().length === 0) {
      logger.warn('Join room failed: Invalid room format', {
        userId: socket.userId,
        nickname: socket.nickname,
        room
      });
      socket.emit('error', {
        message: 'Invalid room name format',
        code: 'INVALID_ROOM_FORMAT',
        timestamp: new Date().toISOString()
      });
      return;
    }
    try {
      // Verify channel exists
      const channel = await Channel.findOne({
        id: room
      });
      if (!channel) {
        logger.warn('Join room failed: Channel not found', {
          userId: socket.userId,
          nickname: socket.nickname,
          room
        });
        socket.emit('error', {
          message: `Channel '${room}' not found`,
          code: 'CHANNEL_NOT_FOUND',
          room,
          timestamp: new Date().toISOString()
        });
        return;
      }

      // Leave previous room
      if (socket.room) {
        socket.leave(socket.room);
        onlineUsers.set(socket.id, {
          ...onlineUsers.get(socket.id),
          room: null
        });

        // Update online users in previous room
        const previousRoomUsers = Array.from(onlineUsers.values()).filter(u => u.room === socket.room).map(u => ({
          nickname: u.nickname,
          role: u.role
        }));
        io.to(socket.room).emit('online_users', previousRoomUsers);
      }
      socket.room = room;
      socket.join(socket.room);

      // Update user tracking
      onlineUsers.set(socket.id, {
        ...onlineUsers.get(socket.id),
        room: socket.room
      });
      logger.info(`User ${socket.nickname} joined room ${socket.room}`);

      // Send system message about joining
      const joinMessage = new Message({
        author: 'System',
        channel: socket.room,
        text: `${socket.nickname} joined the channel.`,
        type: 'system'
      });
      await joinMessage.save();
      io.to(socket.room).emit('message', {
        author: joinMessage.author,
        channel: joinMessage.channel,
        text: joinMessage.text,
        type: joinMessage.type,
        timestamp: joinMessage.timestamp
      });

      // Send online users in current room
      const roomUsers = Array.from(onlineUsers.values()).filter(u => u.room === socket.room).map(u => ({
        nickname: u.nickname,
        role: u.role
      }));
      io.to(socket.room).emit('online_users', roomUsers);

      // Send message history
      const history = await Message.find({
        channel: socket.room,
        $or: [{
          type: 'public'
        }, {
          type: 'system'
        }, {
          author: socket.nickname
        }, {
          target: socket.nickname
        }]
      }).sort({
        timestamp: -1
      }).limit(100).sort({
        timestamp: 1
      }); // Resort for chronological order

      socket.emit('history', history.map(msg => ({
        author: msg.author,
        room: msg.channel,
        text: msg.text,
        type: msg.type,
        target: msg.target,
        timestamp: msg.timestamp
      })));
    } catch (error) {
      logger.error('Error in join_room:', error);
      socket.emit('error', {
        message: 'Failed to join room'
      });
    }
  });

  // Load history (fallback, if needed)
  socket.on('get_history', async () => {
    if (!socket.room) {
      socket.emit('history', []);
      return;
    }
    try {
      const history = await Message.find({
        channel: socket.room,
        $or: [{
          type: 'public'
        }, {
          type: 'system'
        }, {
          author: socket.nickname
        }, {
          target: socket.nickname
        }]
      }).sort({
        timestamp: -1
      }).limit(100).sort({
        timestamp: 1
      }); // Resort for chronological order

      socket.emit('history', history.map(msg => ({
        author: msg.author,
        room: msg.channel,
        // Using channel instead of room for consistency
        text: msg.text,
        type: msg.type,
        target: msg.target,
        timestamp: msg.timestamp
      })));
    } catch (error) {
      logger.error('Error getting history:', error);
      socket.emit('error', {
        message: 'Failed to load message history'
      });
    }
  });

  // Public message
  socket.on('message', async data => {
    updateHeartbeat();
    if (!socket.room || !data.text?.trim()) return;

    // Check if user is muted
    const currentUser = await User.findById(socket.userId);
    if (currentUser && currentUser.isMuted()) {
      socket.emit('error', {
        message: 'You are muted and cannot send messages',
        code: 'USER_MUTED',
        muteExpires: currentUser.muteExpires
      });
      return;
    }
    try {
      const message = new Message({
        author: socket.nickname,
        channel: socket.room,
        text: data.text.trim(),
        type: 'public'
      });
      await message.save();
      const messageData = {
        author: message.author,
        room: message.channel,
        // Keeping 'room' for frontend compatibility
        text: message.text,
        timestamp: message.timestamp,
        status: 'delivered',
        type: message.type
      };
      io.to(socket.room).emit('message', messageData);
      logger.debug(`Message saved from ${socket.nickname} in ${socket.room}`);
    } catch (error) {
      logger.error('Error saving message:', error);
      socket.emit('error', {
        message: 'Failed to send message'
      });
    }
  });

  // Private message
  socket.on('private_message', async data => {
    updateHeartbeat();
    if (!socket.room || !data.to || !data.text?.trim()) return;
    const trimmedText = data.text.trim();
    const targetNickname = data.to.trim();
    try {
      logger.debug(`Private message attempt from ${socket.nickname} to ${targetNickname}`, {
        senderRoom: socket.room,
        senderSocketId: socket.id,
        userId: socket.userId
      });

      // Validate target nickname format
      if (targetNickname.length === 0 || targetNickname.length > 50) {
        socket.emit('error', {
          message: 'Invalid target user nickname',
          code: 'INVALID_TARGET_NICKNAME'
        });
        return;
      }

      // Prevent self-messaging
      if (targetNickname === socket.nickname) {
        socket.emit('error', {
          message: 'Cannot send private message to yourself',
          code: 'SELF_MESSAGE_NOT_ALLOWED'
        });
        return;
      }

      // Find target user in same room with detailed logging
      const targetUser = Array.from(onlineUsers.values()).find(u => u.nickname === targetNickname && u.room === socket.room);
      logger.debug(`Private message target search result for ${targetNickname}`, {
        targetFound: !!targetUser,
        targetRoom: targetUser?.room,
        senderRoom: socket.room,
        onlineUsersInRoom: Array.from(onlineUsers.values()).filter(u => u.room === socket.room).map(u => ({
          nickname: u.nickname,
          room: u.room
        }))
      });
      if (!targetUser) {
        // Enhanced error message with more context
        const onlineUsersInSenderRoom = Array.from(onlineUsers.values()).filter(u => u.room === socket.room).map(u => u.nickname);
        socket.emit('error', {
          message: `User '${targetNickname}' is not available in this channel. Available users: ${onlineUsersInSenderRoom.join(', ') || 'none'}`,
          code: 'TARGET_USER_NOT_IN_ROOM',
          target: targetNickname,
          availableUsers: onlineUsersInSenderRoom,
          senderRoom: socket.room
        });
        return;
      }

      // Create message object
      const message = new Message({
        author: socket.nickname,
        channel: socket.room,
        text: trimmedText,
        type: 'private',
        target: targetNickname
      });
      await message.save();
      const messageData = {
        author: message.author,
        room: message.channel,
        text: message.text,
        timestamp: message.timestamp,
        type: message.type,
        target: message.target,
        status: 'delivered'
      };

      // Send to target user with error handling
      const targetSocketId = Array.from(onlineUsers.keys()).find(id => onlineUsers.get(id).nickname === targetNickname);
      if (targetSocketId) {
        io.to(targetSocketId).emit('private_message', messageData);
        logger.debug(`Private message sent to target ${targetNickname}`, {
          targetSocketId: targetSocketId,
          sender: socket.nickname,
          room: socket.room,
          messageId: message._id
        });
      } else {
        logger.warn(`Target user ${targetNickname} found in onlineUsers but socket ID not found`, {
          targetNickname,
          room: socket.room,
          onlineUsersCount: onlineUsers.size,
          messageId: message._id
        });
        // Message still saved to database for later delivery if user reconnects
      }

      // Send confirmation to sender (without target for privacy)
      socket.emit('private_message', {
        author: message.author,
        room: message.room,
        text: message.text,
        timestamp: message.timestamp,
        type: message.type,
        target: null,
        // Hide target from sender's confirmation
        status: 'sent'
      });
      logger.info(`Private message sent successfully`, {
        sender: socket.nickname,
        target: targetNickname,
        room: socket.room,
        messageId: message._id,
        messageLength: trimmedText.length
      });
    } catch (error) {
      logger.error('Error sending private message:', {
        error: error.message,
        sender: socket.nickname,
        target: data.to,
        room: socket.room,
        userId: socket.userId,
        stack: error.stack
      });
      socket.emit('error', {
        message: 'Failed to send private message',
        code: 'PRIVATE_MESSAGE_FAILED'
      });
    }
  });

  // Speaking
  socket.on('speaking', data => {
    updateHeartbeat();
    socket.to(socket.room).emit('speaking', {
      nickname: socket.nickname,
      speaking: data.speaking
    });
  });

  // Voice channel events
  socket.on('join_voice_channel', async data => {
    updateHeartbeat();
    const {
      channelId
    } = data;
    if (!channelId) return;
    try {
      // Verify channel exists and is voice
      const channel = await Channel.findOne({
        id: channelId,
        type: 'voice'
      });
      if (!channel) {
        socket.emit('voice_error', {
          message: 'Voice channel not found'
        });
        return;
      }

      // Initialize voice channel if not exists
      if (!voiceChannels.has(channelId)) {
        voiceChannels.set(channelId, new Map());
      }
      const channelPeers = voiceChannels.get(channelId);

      // Notify others in the channel
      socket.to(channelId).emit('user_joined_voice', {
        nickname: socket.nickname,
        socketId: socket.id
      });

      // Add socket to voice channel room
      socket.join(channelId);
      channelPeers.set(socket.id, {
        peerConnection: null,
        stream: null
      });

      // Update user's voice channel status
      socket.voiceChannel = channelId;
      logger.info(`User ${socket.nickname} joined voice channel ${channelId}`);
      socket.emit('voice_joined', {
        channelId
      });
    } catch (error) {
      logger.error('Error joining voice channel:', error);
      socket.emit('voice_error', {
        message: 'Failed to join voice channel'
      });
    }
  });
  socket.on('leave_voice_channel', () => {
    updateHeartbeat();
    if (!socket.voiceChannel) return;
    const channelId = socket.voiceChannel;
    const channelPeers = voiceChannels.get(channelId);
    if (channelPeers) {
      channelPeers.delete(socket.id);
      if (channelPeers.size === 0) {
        voiceChannels.delete(channelId);
      }
    }

    // Notify others
    socket.to(channelId).emit('user_left_voice', {
      nickname: socket.nickname,
      socketId: socket.id
    });
    socket.leave(channelId);
    socket.voiceChannel = null;
    logger.info(`User ${socket.nickname} left voice channel ${channelId}`);
    socket.emit('voice_left');
  });
  socket.on('voice_offer', data => {
    const {
      offer,
      targetSocketId
    } = data;
    socket.to(targetSocketId).emit('voice_offer', {
      offer,
      from: socket.id,
      fromNickname: socket.nickname
    });
  });
  socket.on('voice_answer', data => {
    const {
      answer,
      targetSocketId
    } = data;
    socket.to(targetSocketId).emit('voice_answer', {
      answer,
      from: socket.id,
      fromNickname: socket.nickname
    });
  });
  socket.on('ice_candidate', data => {
    const {
      candidate,
      targetSocketId
    } = data;
    socket.to(targetSocketId).emit('ice_candidate', {
      candidate,
      from: socket.id,
      fromNickname: socket.nickname
    });
  });

  // Disconnect
  socket.on('disconnect', async () => {
    logger.info(`User ${socket.nickname} disconnected`);
    try {
      const userId = socket.userId;

      // Decrease connection count for this user
      if (userId) {
        const currentCount = userConnections.get(userId) || 0;
        const newCount = Math.max(0, currentCount - 1);
        userConnections.set(userId, newCount);
        logger.info(`User ${socket.nickname} disconnected (remaining connections: ${newCount})`, {
          userId: userId,
          socketId: socket.id,
          connectionsLeft: newCount
        });
      }

      // Leave voice channel if in one
      if (socket.voiceChannel) {
        const channelId = socket.voiceChannel;
        const channelPeers = voiceChannels.get(channelId);
        if (channelPeers) {
          channelPeers.delete(socket.id);
          if (channelPeers.size === 0) {
            voiceChannels.delete(channelId);
          }
        }

        // Notify others
        socket.to(channelId).emit('user_left_voice', {
          nickname: socket.nickname,
          socketId: socket.id
        });
      }
      if (socket.room) {
        socket.leave(socket.room);

        // Create leave message
        const leaveMessage = new Message({
          author: 'System',
          channel: socket.room,
          text: `${socket.nickname} left the channel.`,
          type: 'system'
        });
        await leaveMessage.save();
        io.to(socket.room).emit('message', {
          author: leaveMessage.author,
          room: leaveMessage.channel,
          text: leaveMessage.text,
          type: leaveMessage.type,
          timestamp: leaveMessage.timestamp
        });

        // Update online users list
        const roomUsers = Array.from(onlineUsers.values()).filter(u => u.room === socket.room && u.userId !== socket.userId).map(u => ({
          nickname: u.nickname,
          role: u.role
        }));
        io.to(socket.room).emit('online_users', roomUsers);
      }

      // Remove from tracking
      onlineUsers.delete(socket.id);

      // Log current connections after disconnect
      logger.info(`After disconnect, active socket connections: ${onlineUsers.size}`);

      // Update user status in database if this was the last connection
      if (userId) {
        const remainingConnections = userConnections.get(userId) || 0;
        if (remainingConnections === 0) {
          await User.findByIdAndUpdate(userId, {
            status: 'offline',
            lastActive: new Date()
          });
          console.log(`ðŸ”„ User ${socket.nickname} status set to offline (last connection)`);
          logger.info(`User status set to offline (last connection)`, {
            userId: userId,
            nickname: socket.nickname
          });
        } else {
          // Update lastActive but keep status online
          await User.findByIdAndUpdate(userId, {
            lastActive: new Date()
          });
          console.log(`âœ… User ${socket.nickname} still online (${remainingConnections} connections left)`);
          logger.info(`User remains online`, {
            userId: userId,
            nickname: socket.nickname,
            connectionsLeft: remainingConnections
          });
        }
      }
    } catch (error) {
      logger.error('Error in disconnect handler:', error);
    }
  });
});

// Initialize database and start server (duplicate removed)
const initializeServer = async () => {
  try {
    // Connect to MongoDB
    await connectDB();

    // Create default channels if they don't exist
    const defaultChannels = [{
      id: 'general',
      name: 'General',
      type: 'text',
      createdBy: 'system'
    }, {
      id: 'voice-chat',
      name: 'Voice Chat',
      type: 'voice',
      createdBy: 'system'
    }];
    for (const channelData of defaultChannels) {
      await Channel.findOneAndUpdate({
        id: channelData.id
      }, channelData, {
        upsert: true,
        new: true
      });
    }
    logger.info('Default channels initialized');

    // Start server
    const PORT = process.env.PORT || 3001;
    server.listen(PORT, '0.0.0.0', () => {
      logger.info(`Server running on port ${PORT}`);
      console.log(`Server running on port ${PORT}`);
    });
  } catch (error) {
    logger.error('Failed to initialize server:', error);
    process.exit(1);
  }
};

// Graceful shutdown
process.on('SIGINT', async () => {
  logger.info('Received SIGINT, shutting down gracefully...');
  await closeDB();
  io.close(() => {
    logger.info('Server shut down');
    process.exit(0);
  });
});
process.on('SIGTERM', async () => {
  logger.info('Received SIGTERM, shutting down gracefully...');
  await closeDB();
  io.close(() => {
    logger.info('Server shut down');
    process.exit(0);
  });
});

// Start the server
initializeServer().catch(err => {
  logger.error('Unhandled error during server startup:', err);
  process.exit(1);
});
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJyZXF1aXJlIiwiY29uZmlnIiwiZXhwcmVzcyIsImh0dHAiLCJzb2NrZXRJbyIsImp3dCIsImNvcnMiLCJ3aW5zdG9uIiwic3dhZ2dlckpzZG9jIiwic3dhZ2dlclVpIiwiaGVsbWV0IiwicmF0ZUxpbWl0IiwiYm9keSIsInZhbGlkYXRpb25SZXN1bHQiLCJtb25nb29zZSIsInNlc3Npb24iLCJNb25nb1N0b3JlIiwiY29ubmVjdERCIiwiY2xvc2VEQiIsImVtYWlsU2VydmljZSIsIlVzZXIiLCJNZXNzYWdlIiwiQ2hhbm5lbCIsImxvZ2dlciIsImNyZWF0ZUxvZ2dlciIsImxldmVsIiwiZm9ybWF0IiwiY29tYmluZSIsInRpbWVzdGFtcCIsImVycm9ycyIsInN0YWNrIiwianNvbiIsImRlZmF1bHRNZXRhIiwic2VydmljZSIsInRyYW5zcG9ydHMiLCJGaWxlIiwiZmlsZW5hbWUiLCJDb25zb2xlIiwiY29sb3JpemUiLCJzaW1wbGUiLCJhcHAiLCJzZXJ2ZXIiLCJjcmVhdGVTZXJ2ZXIiLCJhdXRoUmF0ZUxpbWl0ZXIiLCJ3aW5kb3dNcyIsIm1heCIsInByb2Nlc3MiLCJlbnYiLCJOT0RFX0VOViIsIkNZUFJFU1NfQVBJX1NLSVAiLCJtZXNzYWdlIiwiZXJyb3IiLCJzdGFuZGFyZEhlYWRlcnMiLCJsZWdhY3lIZWFkZXJzIiwic2tpcCIsInJlcSIsImdldCIsImluY2x1ZGVzIiwiYXBpUmF0ZUxpbWl0ZXIiLCJnZW5lcmFsUmF0ZUxpbWl0ZXIiLCJwYXNzd29yZFJlc2V0UmF0ZUxpbWl0ZXIiLCJpbyIsIm9yaWdpbiIsIm1ldGhvZHMiLCJhbGxvd2VkSGVhZGVycyIsImVuZ2luZSIsIm9uIiwiZXJyIiwiY29uc29sZSIsImxvZyIsImNvZGUiLCJodHRwU3RhdHVzIiwic3RhdHVzIiwiaGVhZGVycyIsInVzZSIsIkFMTE9XRURfT1JJR0lOUyIsInNwbGl0IiwiY3JlZGVudGlhbHMiLCJsaW1pdCIsInNlc3Npb25NaWRkbGV3YXJlIiwic2VjcmV0IiwiU0VTU0lPTl9TRUNSRVQiLCJyZXNhdmUiLCJzYXZlVW5pbml0aWFsaXplZCIsInN0b3JlIiwiY3JlYXRlIiwibW9uZ29VcmwiLCJNT05HT19VUkkiLCJjb2xsZWN0aW9uTmFtZSIsInR0bCIsImF1dG9SZW1vdmUiLCJ0b3VjaEFmdGVyIiwiY29va2llIiwic2VjdXJlIiwiaHR0cE9ubHkiLCJtYXhBZ2UiLCJzYW1lU2l0ZSIsIm5hbWUiLCJyb2xsaW5nIiwidW5zZXQiLCJlcnJvckhhbmRsZXIiLCJyZXMiLCJuZXh0IiwidXJsIiwibWV0aG9kIiwiaXAiLCJ1c2VyQWdlbnQiLCJPYmplY3QiLCJ2YWx1ZXMiLCJtYXAiLCJlIiwiZmllbGQiLCJwYXRoIiwidmFsdWUiLCJkZXRhaWxzIiwia2V5cyIsImtleVZhbHVlIiwicmVxdWVzdElkIiwiaWQiLCJzdGFydCIsIkRhdGUiLCJub3ciLCJkdXJhdGlvbiIsImluZm8iLCJzdGF0dXNDb2RlIiwidXNlciIsIm5pY2tuYW1lIiwiSlNPTiIsInN0cmluZ2lmeSIsInVuZGVmaW5lZCIsImF1dGhlbnRpY2F0ZVNlc3Npb24iLCJzZXNzaW9uSWQiLCJzZXNzaW9uSUQiLCJhdXRoZW50aWNhdGVkIiwidXNlcklkIiwiZmluZEJ5SWQiLCJfaWQiLCJzZXNzaW9uVXNlciIsIndhcm4iLCJhdXRoZW50aWNhdGVUb2tlbiIsImF1dGhIZWFkZXIiLCJ0b2tlbiIsImhhc0F1dGhIZWFkZXIiLCJoYXNUb2tlbiIsImRlY29kZWQiLCJ2ZXJpZnkiLCJKV1RfU0VDUkVUIiwicmVxdWlyZU1vZGVyYXRvciIsImhhc01vZGVyYXRvclByaXZpbGVnZXMiLCJyZXF1aXJlQWRtaW4iLCJoYXNBZG1pblByaXZpbGVnZXMiLCJjb250ZW50U2VjdXJpdHlQb2xpY3kiLCJkaXJlY3RpdmVzIiwiZGVmYXVsdFNyYyIsInN0eWxlU3JjIiwiZm9udFNyYyIsImltZ1NyYyIsInNjcmlwdFNyYyIsImNvbm5lY3RTcmMiLCJjcm9zc09yaWdpbkVtYmVkZGVyUG9saWN5Iiwic3dhZ2dlck9wdGlvbnMiLCJkZWZpbml0aW9uIiwib3BlbmFwaSIsInRpdGxlIiwidmVyc2lvbiIsImRlc2NyaXB0aW9uIiwiY29udGFjdCIsInNlcnZlcnMiLCJjb21wb25lbnRzIiwic2NoZW1hcyIsInR5cGUiLCJwcm9wZXJ0aWVzIiwibWluTGVuZ3RoIiwibWF4TGVuZ3RoIiwiZW1haWwiLCJyb2xlIiwiZW51bSIsImRlZmF1bHQiLCJjcmVhdGVkQXQiLCJsYXN0QWN0aXZlIiwicmVxdWlyZWQiLCJjcmVhdGVkQnkiLCJwb3NpdGlvbiIsIlJlZ2lzdGVyUmVxdWVzdCIsInBhc3N3b3JkIiwiTG9naW5SZXF1ZXN0IiwiaWRlbnRpZmllciIsIkF1dGhSZXNwb25zZSIsIiRyZWYiLCJDaGFubmVsUmVxdWVzdCIsIkVycm9yUmVzcG9uc2UiLCJpdGVtcyIsIm1zZyIsInBhcmFtIiwibG9jYXRpb24iLCJzZWN1cml0eVNjaGVtZXMiLCJiZWFyZXJBdXRoIiwic2NoZW1lIiwiYmVhcmVyRm9ybWF0Iiwic2VjdXJpdHkiLCJhcGlzIiwic3dhZ2dlclNwZWMiLCJyZW1vdmVIZWFkZXIiLCJzZXJ2ZSIsInNldHVwIiwicGFnZSIsInBhcnNlSW50IiwicXVlcnkiLCJ1c2VycyIsImZpbmQiLCJzZWxlY3QiLCJzb3J0IiwidG90YWwiLCJjb3VudERvY3VtZW50cyIsImFkbWluSWQiLCJwYWdpbmF0aW9uIiwicGFnZXMiLCJNYXRoIiwiY2VpbCIsInBvc3QiLCJpc0xlbmd0aCIsIm1pbiIsInRyaW0iLCJvcHRpb25hbCIsImlzSW50IiwiaXNFbXB0eSIsImFycmF5IiwicGFyYW1zIiwicmVhc29uIiwidG9TdHJpbmciLCJiYW4iLCJiYW5uZWRVc2VySWQiLCJiYW5uZWRCeUlkIiwiYmFubmVkIiwiYmFuUmVhc29uIiwiYmFuRXhwaXJlcyIsInVuYmFuIiwidW5iYW5uZWRVc2VySWQiLCJ1bmJhbm5lZEJ5SWQiLCJzYXZlIiwid2FybmVkVXNlcklkIiwid2FybmVkQnlJZCIsIndhcm5pbmciLCJpc3N1ZWRCeSIsImlzc3VlZEF0IiwiZXhwaXJlcyIsIndhcm5pbmdzQ291bnQiLCJnZXRBY3RpdmVXYXJuaW5nc0NvdW50IiwiaXNJbiIsIm5ld1JvbGUiLCJvbGRSb2xlIiwiY2hhbmdlZFVzZXJJZCIsImNoYW5nZWRCeUlkIiwibXV0ZSIsIm11dGVkVXNlcklkIiwibXV0ZWRCeUlkIiwibXV0ZUV4cGlyZXMiLCJpc011dGVkIiwidW5tdXRlIiwidW5tdXRlZFVzZXJJZCIsInVubXV0ZWRCeUlkIiwidG90YWxVc2VycyIsImxlbmd0aCIsInNldEhlYWRlciIsInNlbmQiLCJhdXRoTGltaXRlclN0b3JlIiwicmVzZXRBbGwiLCJzdWNjZXNzIiwidG9JU09TdHJpbmciLCJ1cHRpbWUiLCJoYXNQYXNzd29yZCIsImZpbmRPbmUiLCIkb3IiLCJpc1Bhc3N3b3JkVmFsaWQiLCJjb21wYXJlUGFzc3dvcmQiLCJjc3JmVG9rZW4iLCJsb2dpblRpbWUiLCJQcm9taXNlIiwicmVzb2x2ZSIsInJlamVjdCIsInNpZ24iLCJleHBpcmVzSW4iLCJlc2NhcGUiLCJpc0VtYWlsIiwibm9ybWFsaXplRW1haWwiLCJleGlzdGluZ1VzZXIiLCJjb25mbGljdEZpZWxkIiwiZXJyb3JNZXNzYWdlIiwicmVnaXN0cmF0aW9uVGltZSIsImF1dGhvcml6YXRpb24iLCJjaGFubmVscyIsImNoYW5uZWxDb3VudCIsImNoYW5uZWwiLCJjaGFubmVsSWQiLCJzb2NrZXRzIiwib25saW5lVXNlcnMiLCJkaXNjb25uZWN0ZWRDb3VudCIsInNvY2tldElkIiwic29ja2V0RGF0YSIsImVudHJpZXMiLCJzb2NrZXQiLCJkaXNjb25uZWN0IiwiZmluZEJ5SWRBbmRVcGRhdGUiLCJkaXNjb25uZWN0ZWRTb2NrZXRzIiwiaGFzSnd0QXV0aCIsImhhc1Nlc3Npb25BdXRoIiwic2Vzc2lvblVzZXJJZCIsImRlc3Ryb3kiLCJzZXNzaW9uRGVzdHJveWVkIiwiand0TG9nb3V0UmVzdWx0Iiwic2Vzc2lvbkxvZ291dFJlc3VsdCIsImp3dEVycm9yIiwic2Vzc2lvbkVycm9yIiwib3ZlcmFsbFN1Y2Nlc3MiLCJNYXAiLCJ1c2VyQ29ubmVjdGlvbnMiLCJ2b2ljZUNoYW5uZWxzIiwiaGFuZHNoYWtlIiwiYXV0aCIsInJlcXVlc3QiLCJFcnJvciIsImNvbm5lY3Rpb25Db3VudCIsIm5ld0Nvbm5lY3Rpb25Db3VudCIsInNldCIsImlzQmFubmVkIiwiZW1pdCIsInVwZGF0ZVJlc3VsdCIsImZpbmRPbmVBbmRVcGRhdGUiLCIkc2V0IiwibmV3IiwicnVuVmFsaWRhdG9ycyIsImNvbm5lY3Rpb25zIiwiYWRkcmVzcyIsImNsZWFudXBJbmFjdGl2ZUNvbm5lY3Rpb25zIiwidGltZW91dCIsImxhc3RIZWFydGJlYXQiLCJjb25uZWN0aW9uc0xlZnQiLCJjYXRjaCIsImRlbGV0ZSIsInNldEludGVydmFsIiwicm9vbSIsInNpemUiLCJ1cGRhdGVIZWFydGJlYXQiLCJkYXRhIiwibGVhdmUiLCJwcmV2aW91c1Jvb21Vc2VycyIsIkFycmF5IiwiZnJvbSIsImZpbHRlciIsInUiLCJ0byIsImpvaW4iLCJqb2luTWVzc2FnZSIsImF1dGhvciIsInRleHQiLCJyb29tVXNlcnMiLCJoaXN0b3J5IiwidGFyZ2V0IiwiY3VycmVudFVzZXIiLCJtZXNzYWdlRGF0YSIsImRlYnVnIiwidHJpbW1lZFRleHQiLCJ0YXJnZXROaWNrbmFtZSIsInNlbmRlclJvb20iLCJzZW5kZXJTb2NrZXRJZCIsInRhcmdldFVzZXIiLCJ0YXJnZXRGb3VuZCIsInRhcmdldFJvb20iLCJvbmxpbmVVc2Vyc0luUm9vbSIsIm9ubGluZVVzZXJzSW5TZW5kZXJSb29tIiwiYXZhaWxhYmxlVXNlcnMiLCJ0YXJnZXRTb2NrZXRJZCIsInNlbmRlciIsIm1lc3NhZ2VJZCIsIm9ubGluZVVzZXJzQ291bnQiLCJtZXNzYWdlTGVuZ3RoIiwic3BlYWtpbmciLCJoYXMiLCJjaGFubmVsUGVlcnMiLCJwZWVyQ29ubmVjdGlvbiIsInN0cmVhbSIsInZvaWNlQ2hhbm5lbCIsIm9mZmVyIiwiZnJvbU5pY2tuYW1lIiwiYW5zd2VyIiwiY2FuZGlkYXRlIiwiY3VycmVudENvdW50IiwibmV3Q291bnQiLCJsZWF2ZU1lc3NhZ2UiLCJyZW1haW5pbmdDb25uZWN0aW9ucyIsImluaXRpYWxpemVTZXJ2ZXIiLCJkZWZhdWx0Q2hhbm5lbHMiLCJjaGFubmVsRGF0YSIsInVwc2VydCIsIlBPUlQiLCJsaXN0ZW4iLCJleGl0IiwiY2xvc2UiXSwic291cmNlcyI6WyJzZXJ2ZXIuanMiXSwic291cmNlc0NvbnRlbnQiOlsicmVxdWlyZSgnZG90ZW52JykuY29uZmlnKCk7XG5jb25zdCBleHByZXNzID0gcmVxdWlyZSgnZXhwcmVzcycpO1xuY29uc3QgaHR0cCA9IHJlcXVpcmUoJ2h0dHAnKTtcbmNvbnN0IHNvY2tldElvID0gcmVxdWlyZSgnc29ja2V0LmlvJyk7XG5jb25zdCBqd3QgPSByZXF1aXJlKCdqc29ud2VidG9rZW4nKTtcbmNvbnN0IGNvcnMgPSByZXF1aXJlKCdjb3JzJyk7XG5jb25zdCB3aW5zdG9uID0gcmVxdWlyZSgnd2luc3RvbicpO1xuY29uc3Qgc3dhZ2dlckpzZG9jID0gcmVxdWlyZSgnc3dhZ2dlci1qc2RvYycpO1xuY29uc3Qgc3dhZ2dlclVpID0gcmVxdWlyZSgnc3dhZ2dlci11aS1leHByZXNzJyk7XG5jb25zdCBoZWxtZXQgPSByZXF1aXJlKCdoZWxtZXQnKTtcbmNvbnN0IHJhdGVMaW1pdCA9IHJlcXVpcmUoJ2V4cHJlc3MtcmF0ZS1saW1pdCcpO1xuY29uc3QgeyBib2R5LCB2YWxpZGF0aW9uUmVzdWx0IH0gPSByZXF1aXJlKCdleHByZXNzLXZhbGlkYXRvcicpO1xuY29uc3QgbW9uZ29vc2UgPSByZXF1aXJlKCdtb25nb29zZScpO1xuY29uc3Qgc2Vzc2lvbiA9IHJlcXVpcmUoJ2V4cHJlc3Mtc2Vzc2lvbicpO1xuY29uc3QgTW9uZ29TdG9yZSA9IHJlcXVpcmUoJ2Nvbm5lY3QtbW9uZ28nKTtcbmNvbnN0IHsgY29ubmVjdERCLCBjbG9zZURCIH0gPSByZXF1aXJlKCcuL2RiL2Nvbm5lY3Rpb24nKTtcbmNvbnN0IGVtYWlsU2VydmljZSA9IHJlcXVpcmUoJy4vc2VydmljZXMvZW1haWxTZXJ2aWNlJyk7XG5cbi8vIEltcG9ydCBtb2RlbHNcbmNvbnN0IFVzZXIgPSByZXF1aXJlKCcuL21vZGVscy9Vc2VyJyk7XG5jb25zdCBNZXNzYWdlID0gcmVxdWlyZSgnLi9tb2RlbHMvTWVzc2FnZScpO1xuY29uc3QgQ2hhbm5lbCA9IHJlcXVpcmUoJy4vbW9kZWxzL0NoYW5uZWwnKTtcblxuLy8gTG9nZ2VyIHNldHVwXG5jb25zdCBsb2dnZXIgPSB3aW5zdG9uLmNyZWF0ZUxvZ2dlcih7XG4gIGxldmVsOiAnaW5mbycsXG4gIGZvcm1hdDogd2luc3Rvbi5mb3JtYXQuY29tYmluZShcbiAgICB3aW5zdG9uLmZvcm1hdC50aW1lc3RhbXAoKSxcbiAgICB3aW5zdG9uLmZvcm1hdC5lcnJvcnMoeyBzdGFjazogdHJ1ZSB9KSxcbiAgICB3aW5zdG9uLmZvcm1hdC5qc29uKClcbiAgKSxcbiAgZGVmYXVsdE1ldGE6IHsgc2VydmljZTogJ2NoYXQtc2VydmVyJyB9LFxuICB0cmFuc3BvcnRzOiBbXG4gICAgbmV3IHdpbnN0b24udHJhbnNwb3J0cy5GaWxlKHsgZmlsZW5hbWU6ICdsb2dzL3NlcnZlci5sb2cnIH0pLFxuICAgIG5ldyB3aW5zdG9uLnRyYW5zcG9ydHMuQ29uc29sZSh7XG4gICAgICBmb3JtYXQ6IHdpbnN0b24uZm9ybWF0LmNvbWJpbmUoXG4gICAgICAgIHdpbnN0b24uZm9ybWF0LmNvbG9yaXplKCksXG4gICAgICAgIHdpbnN0b24uZm9ybWF0LnNpbXBsZSgpXG4gICAgICApXG4gICAgfSlcbiAgXVxufSk7XG5cbmNvbnN0IGFwcCA9IGV4cHJlc3MoKTtcbmNvbnN0IHNlcnZlciA9IGh0dHAuY3JlYXRlU2VydmVyKGFwcCk7XG5cbi8vIFJhdGUgbGltaXRpbmcgY29uZmlndXJhdGlvblxuY29uc3QgYXV0aFJhdGVMaW1pdGVyID0gcmF0ZUxpbWl0KHtcbiAgd2luZG93TXM6IDE1ICogNjAgKiAxMDAwLCAvLyAxNSBtaW51dGVzXG4gIG1heDogcHJvY2Vzcy5lbnYuTk9ERV9FTlYgPT09ICd0ZXN0JyB8fCBwcm9jZXNzLmVudi5DWVBSRVNTX0FQSV9TS0lQID8gMTAwMDAgOiA1LCAvLyBIaWdoIGxpbWl0IGZvciB0ZXN0cyBhbmQgQ3lwcmVzc1xuICBtZXNzYWdlOiB7IGVycm9yOiAnVG9vIG1hbnkgYXV0aGVudGljYXRpb24gYXR0ZW1wdHMsIHBsZWFzZSB0cnkgYWdhaW4gbGF0ZXIuJyB9LFxuICBzdGFuZGFyZEhlYWRlcnM6IHRydWUsXG4gIGxlZ2FjeUhlYWRlcnM6IGZhbHNlLFxuICBza2lwOiAocmVxKSA9PiB7XG4gICAgLy8gU2tpcCByYXRlIGxpbWl0aW5nIGZvciBDeXByZXNzIHRlc3RzIChkZXRlY3RlZCBieSB1c2VyLWFnZW50IG9yIHNwZWNpZmljIGhlYWRlcnMpXG4gICAgcmV0dXJuIHJlcS5nZXQoJ1VzZXItQWdlbnQnKSAmJiByZXEuZ2V0KCdVc2VyLUFnZW50JykuaW5jbHVkZXMoJ0N5cHJlc3MnKTtcbiAgfVxufSk7XG5cbmNvbnN0IGFwaVJhdGVMaW1pdGVyID0gcmF0ZUxpbWl0KHtcbiAgd2luZG93TXM6IDE1ICogNjAgKiAxMDAwLCAvLyAxNSBtaW51dGVzXG4gIG1heDogMTAwLCAvLyBMaW1pdCBlYWNoIElQIHRvIDEwMCBBUEkgcmVxdWVzdHMgcGVyIHdpbmRvd01zXG4gIG1lc3NhZ2U6IHsgZXJyb3I6ICdUb28gbWFueSByZXF1ZXN0cywgcGxlYXNlIHRyeSBhZ2FpbiBsYXRlci4nIH0sXG4gIHN0YW5kYXJkSGVhZGVyczogdHJ1ZSxcbiAgbGVnYWN5SGVhZGVyczogZmFsc2UsXG59KTtcblxuY29uc3QgZ2VuZXJhbFJhdGVMaW1pdGVyID0gcmF0ZUxpbWl0KHtcbiAgd2luZG93TXM6IDYwICogNjAgKiAxMDAwLCAvLyAxIGhvdXJcbiAgbWF4OiAxMDAwLCAvLyBMaW1pdCBlYWNoIElQIHRvIDEwMDAgcmVxdWVzdHMgcGVyIHdpbmRvd01zXG4gIG1lc3NhZ2U6IHsgZXJyb3I6ICdUb28gbWFueSByZXF1ZXN0cyBmcm9tIHRoaXMgSVAsIHBsZWFzZSB0cnkgYWdhaW4gbGF0ZXIuJyB9LFxuICBzdGFuZGFyZEhlYWRlcnM6IHRydWUsXG4gIGxlZ2FjeUhlYWRlcnM6IGZhbHNlLFxufSk7XG5cbmNvbnN0IHBhc3N3b3JkUmVzZXRSYXRlTGltaXRlciA9IHJhdGVMaW1pdCh7XG4gIHdpbmRvd01zOiAxNSAqIDYwICogMTAwMCwgLy8gMTUgbWludXRlc1xuICBtYXg6IDMsIC8vIExpbWl0IGVhY2ggSVAgdG8gMyBwYXNzd29yZCByZXNldCByZXF1ZXN0cyBwZXIgd2luZG93TXNcbiAgbWVzc2FnZTogeyBlcnJvcjogJ1RvbyBtYW55IHBhc3N3b3JkIHJlc2V0IHJlcXVlc3RzLCBwbGVhc2UgdHJ5IGFnYWluIGxhdGVyLicgfSxcbiAgc3RhbmRhcmRIZWFkZXJzOiB0cnVlLFxuICBsZWdhY3lIZWFkZXJzOiBmYWxzZSxcbn0pO1xuY29uc3QgaW8gPSBzb2NrZXRJbyhzZXJ2ZXIsIHtcbiAgY29yczoge1xuICAgIG9yaWdpbjogXCIqXCIsXG4gICAgbWV0aG9kczogW1wiR0VUXCIsIFwiUE9TVFwiXSxcbiAgICBhbGxvd2VkSGVhZGVyczogW1wiYXV0aG9yaXphdGlvblwiLCBcImNvbnRlbnQtdHlwZVwiXVxuICB9LFxuICAvLyBFbnN1cmUgYm90aCB0cmFuc3BvcnRzIGFyZSBzdXBwb3J0ZWRcbiAgdHJhbnNwb3J0czogWyd3ZWJzb2NrZXQnLCAncG9sbGluZyddXG59KTtcblxuLy8gTG9nIHNvY2tldCBjb25uZWN0aW9uIGVycm9ycyBmb3IgZGVidWdnaW5nXG5pby5lbmdpbmUub24oJ2Nvbm5lY3Rpb25fZXJyb3InLCAoZXJyKSA9PiB7XG4gIGNvbnNvbGUubG9nKCfwn5SMIFNvY2tldCBlbmdpbmUgY29ubmVjdGlvbiBlcnJvcjonLCBlcnIuY29kZSwgZXJyLm1lc3NhZ2UpO1xuICBsb2dnZXIuZXJyb3IoJ1NvY2tldCBjb25uZWN0aW9uIGVycm9yOicsIHtcbiAgICBjb2RlOiBlcnIuY29kZSxcbiAgICBtZXNzYWdlOiBlcnIubWVzc2FnZSxcbiAgICBodHRwU3RhdHVzOiBlcnIuc3RhdHVzLFxuICAgIGhlYWRlcnM6IGVyci5yZXE/LmhlYWRlcnNcbiAgfSk7XG59KTtcblxuLy8gQ09SUyBjb25maWd1cmF0aW9uXG5hcHAudXNlKGNvcnMoe1xuICBvcmlnaW46IHByb2Nlc3MuZW52Lk5PREVfRU5WID09PSAncHJvZHVjdGlvbidcbiAgICA/IHByb2Nlc3MuZW52LkFMTE9XRURfT1JJR0lOUz8uc3BsaXQoJywnKSB8fCBmYWxzZVxuICAgIDogdHJ1ZSxcbiAgY3JlZGVudGlhbHM6IHRydWVcbn0pKTtcblxuYXBwLnVzZShleHByZXNzLmpzb24oeyBsaW1pdDogJzEwbWInIH0pKTsgLy8gQWRkIHBheWxvYWQgc2l6ZSBsaW1pdFxuXG4vLyBTZXNzaW9uIGNvbmZpZ3VyYXRpb24gd2l0aCBzZWN1cmUgc2V0dGluZ3NcbmNvbnN0IHNlc3Npb25NaWRkbGV3YXJlID0gc2Vzc2lvbih7XG4gIHNlY3JldDogcHJvY2Vzcy5lbnYuU0VTU0lPTl9TRUNSRVQgfHwgJ3lvdXItdmVyeS1sb25nLXNlY3VyZS1zZWNyZXQta2V5LWNoYW5nZS1pbi1wcm9kdWN0aW9uJyxcbiAgcmVzYXZlOiBmYWxzZSxcbiAgc2F2ZVVuaW5pdGlhbGl6ZWQ6IGZhbHNlLFxuICBzdG9yZTogTW9uZ29TdG9yZS5jcmVhdGUoe1xuICAgIG1vbmdvVXJsOiBwcm9jZXNzLmVudi5NT05HT19VUkkgfHwgJ21vbmdvZGI6Ly9sb2NhbGhvc3Q6MjcwMTcvY2hhdC1hcHAnLFxuICAgIGNvbGxlY3Rpb25OYW1lOiAnc2Vzc2lvbnMnLFxuICAgIHR0bDogMjQgKiA2MCAqIDYwLCAvLyAxIGRheSBpbiBzZWNvbmRzXG4gICAgYXV0b1JlbW92ZTogJ25hdGl2ZScsXG4gICAgdG91Y2hBZnRlcjogMjQgKiAzNjAwIC8vIFJlZHVjZSBEQiBsb2FkIGJ5IGxpbWl0aW5nIHNlc3Npb24gc2F2ZXNcbiAgfSksXG4gIGNvb2tpZToge1xuICAgIHNlY3VyZTogcHJvY2Vzcy5lbnYuTk9ERV9FTlYgPT09ICdwcm9kdWN0aW9uJywgLy8gSFRUUFMgb25seSBpbiBwcm9kdWN0aW9uXG4gICAgaHR0cE9ubHk6IHRydWUsIC8vIFByZXZlbnQgWFNTIGFjY2VzcyB0byBjb29raWVcbiAgICBtYXhBZ2U6IDI0ICogNjAgKiA2MCAqIDEwMDAsIC8vIDI0IGhvdXJzXG4gICAgc2FtZVNpdGU6ICdzdHJpY3QnIC8vIENTUkYgcHJvdGVjdGlvblxuICB9LFxuICBuYW1lOiAnY2hhdFNlc3Npb24nLCAvLyBDdXN0b20gbmFtZSB0byBhdm9pZCBkZWZhdWx0ICdjb25uZWN0LnNpZCdcbiAgcm9sbGluZzogZmFsc2UsIC8vIERvbid0IGV4dGVuZCBjb29raWUgZXhwaXJhdGlvbiBvbiBlYWNoIHJlcXVlc3RcbiAgdW5zZXQ6ICdkZXN0cm95JyAvLyBEZXN0cm95IHNlc3Npb24gb24gbG9nb3V0XG59KTtcblxuYXBwLnVzZShzZXNzaW9uTWlkZGxld2FyZSk7XG5cbi8vIEVycm9yIGhhbmRsaW5nIG1pZGRsZXdhcmVcbmNvbnN0IGVycm9ySGFuZGxlciA9IChlcnIsIHJlcSwgcmVzLCBuZXh0KSA9PiB7XG4gIGxvZ2dlci5lcnJvcignVW5oYW5kbGVkIGVycm9yOicsIHtcbiAgICBtZXNzYWdlOiBlcnIubWVzc2FnZSxcbiAgICBzdGFjazogZXJyLnN0YWNrLFxuICAgIHVybDogcmVxLnVybCxcbiAgICBtZXRob2Q6IHJlcS5tZXRob2QsXG4gICAgaXA6IHJlcS5pcCxcbiAgICB1c2VyQWdlbnQ6IHJlcS5nZXQoJ1VzZXItQWdlbnQnKVxuICB9KTtcblxuICAvLyBNb25nb29zZSB2YWxpZGF0aW9uIGVycm9yc1xuICBpZiAoZXJyLm5hbWUgPT09ICdWYWxpZGF0aW9uRXJyb3InKSB7XG4gICAgY29uc3QgZXJyb3JzID0gT2JqZWN0LnZhbHVlcyhlcnIuZXJyb3JzKS5tYXAoZSA9PiAoe1xuICAgICAgZmllbGQ6IGUucGF0aCxcbiAgICAgIG1lc3NhZ2U6IGUubWVzc2FnZSxcbiAgICAgIHZhbHVlOiBlLnZhbHVlXG4gICAgfSkpO1xuXG4gICAgcmV0dXJuIHJlcy5zdGF0dXMoNDIyKS5qc29uKHtcbiAgICAgIGVycm9yOiAnVmFsaWRhdGlvbiBmYWlsZWQnLFxuICAgICAgZGV0YWlsczogZXJyb3JzLFxuICAgICAgY29kZTogJ1ZBTElEQVRJT05fRVJST1InXG4gICAgfSk7XG4gIH1cblxuICAvLyBNb25nb29zZSBkdXBsaWNhdGUga2V5IGVycm9yXG4gIGlmIChlcnIuY29kZSA9PT0gMTEwMDApIHtcbiAgICBjb25zdCBmaWVsZCA9IE9iamVjdC5rZXlzKGVyci5rZXlWYWx1ZSlbMF07XG4gICAgY29uc3QgdmFsdWUgPSBlcnIua2V5VmFsdWVbZmllbGRdO1xuICAgIHJldHVybiByZXMuc3RhdHVzKDQwOSkuanNvbih7XG4gICAgICBlcnJvcjogYCR7ZmllbGR9ICcke3ZhbHVlfScgYWxyZWFkeSBleGlzdHNgLFxuICAgICAgY29kZTogJ0RVUExJQ0FURV9FUlJPUidcbiAgICB9KTtcbiAgfVxuXG4gIC8vIEpXVCBlcnJvcnNcbiAgaWYgKGVyci5uYW1lID09PSAnSnNvbldlYlRva2VuRXJyb3InKSB7XG4gICAgcmV0dXJuIHJlcy5zdGF0dXMoNDAxKS5qc29uKHtcbiAgICAgIGVycm9yOiAnSW52YWxpZCBvciBleHBpcmVkIHRva2VuJyxcbiAgICAgIGNvZGU6ICdJTlZBTElEX1RPS0VOJ1xuICAgIH0pO1xuICB9XG5cbiAgaWYgKGVyci5uYW1lID09PSAnVG9rZW5FeHBpcmVkRXJyb3InKSB7XG4gICAgcmV0dXJuIHJlcy5zdGF0dXMoNDAxKS5qc29uKHtcbiAgICAgIGVycm9yOiAnVG9rZW4gaGFzIGV4cGlyZWQnLFxuICAgICAgY29kZTogJ1RPS0VOX0VYUElSRUQnXG4gICAgfSk7XG4gIH1cblxuICAvLyBEZWZhdWx0IHNlcnZlciBlcnJvclxuICByZXMuc3RhdHVzKDUwMCkuanNvbih7XG4gICAgZXJyb3I6ICdJbnRlcm5hbCBzZXJ2ZXIgZXJyb3InLFxuICAgIGNvZGU6ICdJTlRFUk5BTF9FUlJPUicsXG4gICAgcmVxdWVzdElkOiByZXEuaWQgfHwgJ3Vua25vd24nXG4gIH0pO1xufTtcblxuLy8gUmVxdWVzdCBsb2dnaW5nIG1pZGRsZXdhcmVcbmFwcC51c2UoKHJlcSwgcmVzLCBuZXh0KSA9PiB7XG4gIGNvbnN0IHN0YXJ0ID0gRGF0ZS5ub3coKTtcblxuICByZXMub24oJ2ZpbmlzaCcsICgpID0+IHtcbiAgICBjb25zdCBkdXJhdGlvbiA9IERhdGUubm93KCkgLSBzdGFydDtcbiAgICBsb2dnZXIuaW5mbyhgJHtyZXEubWV0aG9kfSAke3JlcS51cmx9IC0gJHtyZXMuc3RhdHVzQ29kZX0gKCR7ZHVyYXRpb259bXMpYCwge1xuICAgICAgaXA6IHJlcS5pcCxcbiAgICAgIHVzZXJBZ2VudDogcmVxLmdldCgnVXNlci1BZ2VudCcpLFxuICAgICAgdXNlcjogcmVxLnVzZXI/Lm5pY2tuYW1lIHx8ICdhbm9ueW1vdXMnLFxuICAgICAgYm9keTogcmVxLm1ldGhvZCAhPT0gJ0dFVCcgPyBKU09OLnN0cmluZ2lmeShyZXEuYm9keSkgOiB1bmRlZmluZWRcbiAgICB9KTtcbiAgfSk7XG5cbiAgbmV4dCgpO1xufSk7XG5cbi8vIFNlc3Npb24gYXV0aGVudGljYXRpb24gbWlkZGxld2FyZSAod29ya3MgcGFyYWxsZWwgdG8gSldUKVxuY29uc3QgYXV0aGVudGljYXRlU2Vzc2lvbiA9IGFzeW5jIChyZXEsIHJlcywgbmV4dCkgPT4ge1xuICB0cnkge1xuICAgIGNvbnNvbGUubG9nKCfwn5SQIFNlc3Npb24gYXV0aGVudGljYXRpb24gbWlkZGxld2FyZSBjYWxsZWQ6JywgeyB1cmw6IHJlcS51cmwsIG1ldGhvZDogcmVxLm1ldGhvZCwgc2Vzc2lvbklkOiByZXEuc2Vzc2lvbklEIH0pO1xuXG4gICAgLy8gQ2hlY2sgaWYgc2Vzc2lvbiBleGlzdHMgYW5kIGhhcyBhdXRoZW50aWNhdGVkIHVzZXJcbiAgICBpZiAocmVxLnNlc3Npb24gJiYgcmVxLnNlc3Npb24uYXV0aGVudGljYXRlZCAmJiByZXEuc2Vzc2lvbi51c2VySWQpIHtcbiAgICAgIGNvbnNvbGUubG9nKCfwn46vIEZvdW5kIGF1dGhlbnRpY2F0ZWQgc2Vzc2lvbiBmb3IgdXNlcklkOicsIHJlcS5zZXNzaW9uLnVzZXJJZCk7XG5cbiAgICAgIGNvbnN0IHVzZXIgPSBhd2FpdCBVc2VyLmZpbmRCeUlkKHJlcS5zZXNzaW9uLnVzZXJJZCk7XG4gICAgICBpZiAodXNlcikge1xuICAgICAgICBjb25zb2xlLmxvZygn4pyFIFNlc3Npb24gdXNlciBmb3VuZDonLCB7IG5pY2tuYW1lOiB1c2VyLm5pY2tuYW1lLCBpZDogdXNlci5faWQsIHN0YXR1czogdXNlci5zdGF0dXMgfSk7XG4gICAgICAgIHJlcS5zZXNzaW9uVXNlciA9IHVzZXI7IC8vIFN0b3JlIGluIHJlcS5zZXNzaW9uVXNlciB0byBhdm9pZCBjb25mbGljdCB3aXRoIEpXVCByZXEudXNlclxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgY29uc29sZS5sb2coJ+KaoO+4jyBTZXNzaW9uIHVzZXIgbm90IGZvdW5kIGluIERCLCBjbGVhbmluZyBzZXNzaW9uOicsIHJlcS5zZXNzaW9uLnVzZXJJZCk7XG4gICAgICAgIC8vIENsZWFuIGludmFsaWQgc2Vzc2lvblxuICAgICAgICBkZWxldGUgcmVxLnNlc3Npb24uYXV0aGVudGljYXRlZDtcbiAgICAgICAgZGVsZXRlIHJlcS5zZXNzaW9uLnVzZXJJZDtcbiAgICAgIH1cbiAgICB9IGVsc2Uge1xuICAgICAgY29uc29sZS5sb2coJ/CflI0gTm8gYXV0aGVudGljYXRlZCBzZXNzaW9uIGZvdW5kIG9yIHNlc3Npb24gbm90IGluaXRpYWxpemVkJyk7XG4gICAgICByZXEuc2Vzc2lvblVzZXIgPSBudWxsOyAvLyBFeHBsaWNpdGx5IHNldCB0byBudWxsIHdoZW4gbm8gc2Vzc2lvblxuICAgIH1cbiAgICBuZXh0KCk7XG4gIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgbG9nZ2VyLndhcm4oJ1Nlc3Npb24gYXV0aGVudGljYXRpb24gZXJyb3I6Jywge1xuICAgICAgZXJyb3I6IGVycm9yLm1lc3NhZ2UsXG4gICAgICBzZXNzaW9uSWQ6IHJlcS5zZXNzaW9uSUQsXG4gICAgICBpcDogcmVxLmlwXG4gICAgfSk7XG4gICAgcmVxLnNlc3Npb25Vc2VyID0gbnVsbDsgLy8gU2V0IHRvIG51bGwgb24gZXJyb3JcbiAgICBuZXh0KCk7XG4gIH1cbn07XG5cbi8vIEpXVCBhdXRoZW50aWNhdGlvbiBtaWRkbGV3YXJlXG5jb25zdCBhdXRoZW50aWNhdGVUb2tlbiA9IGFzeW5jIChyZXEsIHJlcywgbmV4dCkgPT4ge1xuICB0cnkge1xuICAgIGNvbnNvbGUubG9nKCfwn5SQIEpXVCBhdXRoZW50aWNhdGlvbiBtaWRkbGV3YXJlIGNhbGxlZDonLCB7IHVybDogcmVxLnVybCwgbWV0aG9kOiByZXEubWV0aG9kIH0pO1xuICAgIGNvbnN0IGF1dGhIZWFkZXIgPSByZXEuaGVhZGVyc1snYXV0aG9yaXphdGlvbiddO1xuICAgIGNvbnN0IHRva2VuID0gYXV0aEhlYWRlciAmJiBhdXRoSGVhZGVyLnNwbGl0KCcgJylbMV07IC8vIEJlYXJlciBUT0tFTlxuXG4gICAgY29uc29sZS5sb2coJ/CflJEgVG9rZW4gZXh0cmFjdGlvbiByZXN1bHQ6JywgeyBoYXNBdXRoSGVhZGVyOiAhIWF1dGhIZWFkZXIsIGhhc1Rva2VuOiAhIXRva2VuIH0pO1xuXG4gICAgaWYgKCF0b2tlbikge1xuICAgICAgY29uc29sZS5sb2coJ+KdjCBObyB0b2tlbiBwcm92aWRlZCcpO1xuICAgICAgcmV0dXJuIHJlcy5zdGF0dXMoNDAxKS5qc29uKHtcbiAgICAgICAgZXJyb3I6ICdBY2Nlc3MgdG9rZW4gcmVxdWlyZWQnLFxuICAgICAgICBjb2RlOiAnTk9fVE9LRU4nXG4gICAgICB9KTtcbiAgICB9XG5cbiAgICBjb25zdCBkZWNvZGVkID0gand0LnZlcmlmeSh0b2tlbiwgcHJvY2Vzcy5lbnYuSldUX1NFQ1JFVCk7XG4gICAgY29uc29sZS5sb2coJ+KchSBKV1QgZGVjb2RlZDonLCB7IHVzZXJJZDogZGVjb2RlZC51c2VySWQsIG5pY2tuYW1lOiBkZWNvZGVkLm5pY2tuYW1lIH0pO1xuICAgIGNvbnN0IHVzZXIgPSBhd2FpdCBVc2VyLmZpbmRCeUlkKGRlY29kZWQudXNlcklkKTtcblxuICAgIGlmICghdXNlcikge1xuICAgICAgY29uc29sZS5sb2coJ+KdjCBVc2VyIG5vdCBmb3VuZCBpbiBEQiBmb3IgSldUIHVzZXJJZDonLCBkZWNvZGVkLnVzZXJJZCk7XG4gICAgICByZXR1cm4gcmVzLnN0YXR1cyg0MDEpLmpzb24oe1xuICAgICAgICBlcnJvcjogJ1VzZXIgbm90IGZvdW5kJyxcbiAgICAgICAgY29kZTogJ1VTRVJfTk9UX0ZPVU5EJ1xuICAgICAgfSk7XG4gICAgfVxuXG4gICAgcmVxLnVzZXIgPSB1c2VyO1xuICAgIGNvbnNvbGUubG9nKCfinIUgSldUIGF1dGhlbnRpY2F0aW9uIHN1Y2Nlc3NmdWwgZm9yIHVzZXI6JywgdXNlci5uaWNrbmFtZSwgeyBpZDogdXNlci5faWQsIHN0YXR1czogdXNlci5zdGF0dXMgfSk7XG4gICAgbmV4dCgpO1xuICB9IGNhdGNoIChlcnJvcikge1xuICAgIGxvZ2dlci53YXJuKCdKV1QgYXV0aGVudGljYXRpb24gZmFpbGVkOicsIHtcbiAgICAgIGVycm9yOiBlcnJvci5tZXNzYWdlLFxuICAgICAgaXA6IHJlcS5pcFxuICAgIH0pO1xuXG4gICAgaWYgKGVycm9yLm5hbWUgPT09ICdKc29uV2ViVG9rZW5FcnJvcicpIHtcbiAgICAgIHJldHVybiByZXMuc3RhdHVzKDQwMSkuanNvbih7XG4gICAgICAgIGVycm9yOiAnSW52YWxpZCB0b2tlbiBmb3JtYXQnLFxuICAgICAgICBjb2RlOiAnSU5WQUxJRF9UT0tFTl9GT1JNQVQnXG4gICAgICB9KTtcbiAgICB9XG5cbiAgICBpZiAoZXJyb3IubmFtZSA9PT0gJ1Rva2VuRXhwaXJlZEVycm9yJykge1xuICAgICAgcmV0dXJuIHJlcy5zdGF0dXMoNDAxKS5qc29uKHtcbiAgICAgICAgZXJyb3I6ICdUb2tlbiBoYXMgZXhwaXJlZCcsXG4gICAgICAgIGNvZGU6ICdUT0tFTl9FWFBJUkVEJ1xuICAgICAgfSk7XG4gICAgfVxuXG4gICAgcmV0dXJuIHJlcy5zdGF0dXMoNDAxKS5qc29uKHtcbiAgICAgIGVycm9yOiAnVG9rZW4gdmVyaWZpY2F0aW9uIGZhaWxlZCcsXG4gICAgICBjb2RlOiAnVE9LRU5fVkVSSUZJQ0FUSU9OX0ZBSUxFRCdcbiAgICB9KTtcbiAgfVxufTtcblxuLy8gUm9sZS1iYXNlZCBhY2Nlc3MgY29udHJvbCBtaWRkbGV3YXJlXG5jb25zdCByZXF1aXJlTW9kZXJhdG9yID0gYXN5bmMgKHJlcSwgcmVzLCBuZXh0KSA9PiB7XG4gIHRyeSB7XG4gICAgaWYgKCFyZXEudXNlcikge1xuICAgICAgcmV0dXJuIHJlcy5zdGF0dXMoNDAxKS5qc29uKHtcbiAgICAgICAgZXJyb3I6ICdBdXRoZW50aWNhdGlvbiByZXF1aXJlZCcsXG4gICAgICAgIGNvZGU6ICdBVVRIX1JFUVVJUkVEJ1xuICAgICAgfSk7XG4gICAgfVxuXG4gICAgaWYgKCFyZXEudXNlci5oYXNNb2RlcmF0b3JQcml2aWxlZ2VzKCkpIHtcbiAgICAgIHJldHVybiByZXMuc3RhdHVzKDQwMykuanNvbih7XG4gICAgICAgIGVycm9yOiAnTW9kZXJhdG9yIHByaXZpbGVnZXMgcmVxdWlyZWQnLFxuICAgICAgICBjb2RlOiAnTU9ERVJBVE9SX1JFUVVJUkVEJ1xuICAgICAgfSk7XG4gICAgfVxuXG4gICAgbmV4dCgpO1xuICB9IGNhdGNoIChlcnJvcikge1xuICAgIGxvZ2dlci5lcnJvcignTW9kZXJhdG9yIGNoZWNrIGVycm9yOicsIGVycm9yKTtcbiAgICByZXMuc3RhdHVzKDUwMCkuanNvbih7XG4gICAgICBlcnJvcjogJ1NlcnZlciBlcnJvciBkdXJpbmcgYXV0aG9yaXphdGlvbiBjaGVjaycsXG4gICAgICBjb2RlOiAnQVVUSF9DSEVDS19FUlJPUidcbiAgICB9KTtcbiAgfVxufTtcblxuY29uc3QgcmVxdWlyZUFkbWluID0gYXN5bmMgKHJlcSwgcmVzLCBuZXh0KSA9PiB7XG4gIHRyeSB7XG4gICAgaWYgKCFyZXEudXNlcikge1xuICAgICAgcmV0dXJuIHJlcy5zdGF0dXMoNDAxKS5qc29uKHtcbiAgICAgICAgZXJyb3I6ICdBdXRoZW50aWNhdGlvbiByZXF1aXJlZCcsXG4gICAgICAgIGNvZGU6ICdBVVRIX1JFUVVJUkVEJ1xuICAgICAgfSk7XG4gICAgfVxuXG4gICAgaWYgKCFyZXEudXNlci5oYXNBZG1pblByaXZpbGVnZXMoKSkge1xuICAgICAgcmV0dXJuIHJlcy5zdGF0dXMoNDAzKS5qc29uKHtcbiAgICAgICAgZXJyb3I6ICdBZG1pbmlzdHJhdG9yIHByaXZpbGVnZXMgcmVxdWlyZWQnLFxuICAgICAgICBjb2RlOiAnQURNSU5fUkVRVUlSRUQnXG4gICAgICB9KTtcbiAgICB9XG5cbiAgICBuZXh0KCk7XG4gIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgbG9nZ2VyLmVycm9yKCdBZG1pbiBjaGVjayBlcnJvcjonLCBlcnJvcik7XG4gICAgcmVzLnN0YXR1cyg1MDApLmpzb24oe1xuICAgICAgZXJyb3I6ICdTZXJ2ZXIgZXJyb3IgZHVyaW5nIGF1dGhvcml6YXRpb24gY2hlY2snLFxuICAgICAgY29kZTogJ0FVVEhfQ0hFQ0tfRVJST1InXG4gICAgfSk7XG4gIH1cbn07XG5cbi8vIEVycm9yIGhhbmRsaW5nIG1pZGRsZXdhcmVcblxuLy8gU2Vzc2lvbiBhdXRoZW50aWNhdGlvbiBtaWRkbGV3YXJlIChydW4gYmVmb3JlIHJhdGUgbGltaXRpbmcpXG5hcHAudXNlKGF1dGhlbnRpY2F0ZVNlc3Npb24pO1xuXG4vLyBHZW5lcmFsIHJhdGUgbGltaXRpbmcgKGFwcGxpZWQgdG8gYWxsIEhUVFAgcmVxdWVzdHMpXG5hcHAudXNlKGdlbmVyYWxSYXRlTGltaXRlcik7XG5cbi8vIEhlbG1ldCBzZWN1cml0eSBoZWFkZXJzXG5hcHAudXNlKFxuICBoZWxtZXQoe1xuICAgIGNvbnRlbnRTZWN1cml0eVBvbGljeToge1xuICAgICAgZGlyZWN0aXZlczoge1xuICAgICAgICBkZWZhdWx0U3JjOiBbXCInc2VsZidcIl0sXG4gICAgICAgIHN0eWxlU3JjOiBbXCInc2VsZidcIiwgXCIndW5zYWZlLWlubGluZSdcIiwgXCJodHRwczovL2ZvbnRzLmdvb2dsZWFwaXMuY29tXCJdLFxuICAgICAgICBmb250U3JjOiBbXCInc2VsZidcIiwgXCJodHRwczovL2ZvbnRzLmdzdGF0aWMuY29tXCJdLFxuICAgICAgICBpbWdTcmM6IFtcIidzZWxmJ1wiLCBcImRhdGE6XCJdLFxuICAgICAgICBzY3JpcHRTcmM6IFtcIidzZWxmJ1wiLCBcIid1bnNhZmUtaW5saW5lJ1wiXSxcbiAgICAgICAgY29ubmVjdFNyYzogW1wiJ3NlbGYnXCJdXG4gICAgICB9XG4gICAgfSxcbiAgICBjcm9zc09yaWdpbkVtYmVkZGVyUG9saWN5OiBmYWxzZVxuICB9KVxuKTtcblxuLy8gU3dhZ2dlciBjb25maWd1cmF0aW9uXG5jb25zdCBzd2FnZ2VyT3B0aW9ucyA9IHtcbiAgZGVmaW5pdGlvbjoge1xuICAgIG9wZW5hcGk6ICczLjAuMCcsXG4gICAgaW5mbzoge1xuICAgICAgdGl0bGU6ICdDaGF0LUpTIEFQSScsXG4gICAgICB2ZXJzaW9uOiAnMS4wLjAnLFxuICAgICAgZGVzY3JpcHRpb246ICdSRVNUIEFQSSBmb3IgQ2hhdC1KUyBhcHBsaWNhdGlvbiB3aXRoIHJlYWwtdGltZSBtZXNzYWdpbmcgYW5kIHZvaWNlIGNoYW5uZWxzJyxcbiAgICAgIGNvbnRhY3Q6IHtcbiAgICAgICAgbmFtZTogJ0NoYXQtSlMgU3VwcG9ydCdcbiAgICAgIH1cbiAgICB9LFxuICAgIHNlcnZlcnM6IFtcbiAgICAgIHtcbiAgICAgICAgdXJsOiAnaHR0cDovL2xvY2FsaG9zdDozMDAxJyxcbiAgICAgICAgZGVzY3JpcHRpb246ICdEZXZlbG9wbWVudCBzZXJ2ZXInXG4gICAgICB9XG4gICAgXSxcbiAgICBjb21wb25lbnRzOiB7XG4gICAgICBzY2hlbWFzOiB7XG4gICAgICAgIFVzZXI6IHtcbiAgICAgICAgICB0eXBlOiAnb2JqZWN0JyxcbiAgICAgICAgICBwcm9wZXJ0aWVzOiB7XG4gICAgICAgICAgICBpZDoge1xuICAgICAgICAgICAgICB0eXBlOiAnc3RyaW5nJyxcbiAgICAgICAgICAgICAgZGVzY3JpcHRpb246ICdVc2VyIHVuaXF1ZSBpZGVudGlmaWVyJ1xuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIG5pY2tuYW1lOiB7XG4gICAgICAgICAgICAgIHR5cGU6ICdzdHJpbmcnLFxuICAgICAgICAgICAgICBkZXNjcmlwdGlvbjogJ1VzZXIgbmlja25hbWUnLFxuICAgICAgICAgICAgICBtaW5MZW5ndGg6IDMsXG4gICAgICAgICAgICAgIG1heExlbmd0aDogNTBcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBlbWFpbDoge1xuICAgICAgICAgICAgICB0eXBlOiAnc3RyaW5nJyxcbiAgICAgICAgICAgICAgZm9ybWF0OiAnZW1haWwnLFxuICAgICAgICAgICAgICBkZXNjcmlwdGlvbjogJ1VzZXIgZW1haWwgYWRkcmVzcydcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICByb2xlOiB7XG4gICAgICAgICAgICAgIHR5cGU6ICdzdHJpbmcnLFxuICAgICAgICAgICAgICBlbnVtOiBbJ2FkbWluJywgJ21lbWJlciddLFxuICAgICAgICAgICAgICBkZWZhdWx0OiAnbWVtYmVyJyxcbiAgICAgICAgICAgICAgZGVzY3JpcHRpb246ICdVc2VyIHJvbGUnXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgY3JlYXRlZEF0OiB7XG4gICAgICAgICAgICAgIHR5cGU6ICdzdHJpbmcnLFxuICAgICAgICAgICAgICBmb3JtYXQ6ICdkYXRlLXRpbWUnLFxuICAgICAgICAgICAgICBkZXNjcmlwdGlvbjogJ1VzZXIgY3JlYXRpb24gdGltZXN0YW1wJ1xuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIGxhc3RBY3RpdmU6IHtcbiAgICAgICAgICAgICAgdHlwZTogJ3N0cmluZycsXG4gICAgICAgICAgICAgIGZvcm1hdDogJ2RhdGUtdGltZScsXG4gICAgICAgICAgICAgIGRlc2NyaXB0aW9uOiAnTGFzdCBhY3Rpdml0eSB0aW1lc3RhbXAnXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgc3RhdHVzOiB7XG4gICAgICAgICAgICAgIHR5cGU6ICdzdHJpbmcnLFxuICAgICAgICAgICAgICBlbnVtOiBbJ29ubGluZScsICdvZmZsaW5lJ10sXG4gICAgICAgICAgICAgIGRlc2NyaXB0aW9uOiAnVXNlciBvbmxpbmUgc3RhdHVzJ1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH0sXG4gICAgICAgICAgcmVxdWlyZWQ6IFsnbmlja25hbWUnLCAnZW1haWwnLCAncGFzc3dvcmQnLCAncm9sZSddXG4gICAgICAgIH0sXG4gICAgICAgIENoYW5uZWw6IHtcbiAgICAgICAgICB0eXBlOiAnb2JqZWN0JyxcbiAgICAgICAgICBwcm9wZXJ0aWVzOiB7XG4gICAgICAgICAgICBpZDoge1xuICAgICAgICAgICAgICB0eXBlOiAnc3RyaW5nJyxcbiAgICAgICAgICAgICAgZGVzY3JpcHRpb246ICdDaGFubmVsIHVuaXF1ZSBpZGVudGlmaWVyIChhdXRvLWdlbmVyYXRlZCBmcm9tIG5hbWUpJ1xuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIG5hbWU6IHtcbiAgICAgICAgICAgICAgdHlwZTogJ3N0cmluZycsXG4gICAgICAgICAgICAgIGRlc2NyaXB0aW9uOiAnQ2hhbm5lbCBkaXNwbGF5IG5hbWUnLFxuICAgICAgICAgICAgICBtaW5MZW5ndGg6IDEsXG4gICAgICAgICAgICAgIG1heExlbmd0aDogMTAwXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgdHlwZToge1xuICAgICAgICAgICAgICB0eXBlOiAnc3RyaW5nJyxcbiAgICAgICAgICAgICAgZW51bTogWyd0ZXh0JywgJ3ZvaWNlJ10sXG4gICAgICAgICAgICAgIGRlc2NyaXB0aW9uOiAnQ2hhbm5lbCB0eXBlJ1xuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIGRlc2NyaXB0aW9uOiB7XG4gICAgICAgICAgICAgIHR5cGU6ICdzdHJpbmcnLFxuICAgICAgICAgICAgICBkZXNjcmlwdGlvbjogJ0NoYW5uZWwgZGVzY3JpcHRpb24nLFxuICAgICAgICAgICAgICBtYXhMZW5ndGg6IDUwMFxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIGNyZWF0ZWRCeToge1xuICAgICAgICAgICAgICB0eXBlOiAnc3RyaW5nJyxcbiAgICAgICAgICAgICAgZGVzY3JpcHRpb246ICdDcmVhdG9yIG5pY2tuYW1lJ1xuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIHBvc2l0aW9uOiB7XG4gICAgICAgICAgICAgIHR5cGU6ICdudW1iZXInLFxuICAgICAgICAgICAgICBkZWZhdWx0OiAwLFxuICAgICAgICAgICAgICBkZXNjcmlwdGlvbjogJ0NoYW5uZWwgZGlzcGxheSBwb3NpdGlvbidcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9LFxuICAgICAgICAgIHJlcXVpcmVkOiBbJ2lkJywgJ25hbWUnLCAndHlwZScsICdjcmVhdGVkQnknXVxuICAgICAgICB9LFxuICAgICAgICBSZWdpc3RlclJlcXVlc3Q6IHtcbiAgICAgICAgICB0eXBlOiAnb2JqZWN0JyxcbiAgICAgICAgICByZXF1aXJlZDogWyduaWNrbmFtZScsICdlbWFpbCcsICdwYXNzd29yZCddLFxuICAgICAgICAgIHByb3BlcnRpZXM6IHtcbiAgICAgICAgICAgIG5pY2tuYW1lOiB7XG4gICAgICAgICAgICAgIHR5cGU6ICdzdHJpbmcnLFxuICAgICAgICAgICAgICBtaW5MZW5ndGg6IDMsXG4gICAgICAgICAgICAgIG1heExlbmd0aDogNTAsXG4gICAgICAgICAgICAgIGRlc2NyaXB0aW9uOiAnVW5pcXVlIHVzZXJuYW1lJ1xuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIGVtYWlsOiB7XG4gICAgICAgICAgICAgIHR5cGU6ICdzdHJpbmcnLFxuICAgICAgICAgICAgICBmb3JtYXQ6ICdlbWFpbCcsXG4gICAgICAgICAgICAgIGRlc2NyaXB0aW9uOiAnVmFsaWQgZW1haWwgYWRkcmVzcydcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBwYXNzd29yZDoge1xuICAgICAgICAgICAgICB0eXBlOiAnc3RyaW5nJyxcbiAgICAgICAgICAgICAgbWluTGVuZ3RoOiA2LFxuICAgICAgICAgICAgICBkZXNjcmlwdGlvbjogJ1VzZXIgcGFzc3dvcmQnXG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICB9LFxuICAgICAgICBMb2dpblJlcXVlc3Q6IHtcbiAgICAgICAgICB0eXBlOiAnb2JqZWN0JyxcbiAgICAgICAgICByZXF1aXJlZDogWydpZGVudGlmaWVyJywgJ3Bhc3N3b3JkJ10sXG4gICAgICAgICAgcHJvcGVydGllczoge1xuICAgICAgICAgICAgaWRlbnRpZmllcjoge1xuICAgICAgICAgICAgICB0eXBlOiAnc3RyaW5nJyxcbiAgICAgICAgICAgICAgZGVzY3JpcHRpb246ICdVc2VybmFtZSBvciBlbWFpbCdcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBwYXNzd29yZDoge1xuICAgICAgICAgICAgICB0eXBlOiAnc3RyaW5nJyxcbiAgICAgICAgICAgICAgZGVzY3JpcHRpb246ICdVc2VyIHBhc3N3b3JkJ1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgfSxcbiAgICAgICAgQXV0aFJlc3BvbnNlOiB7XG4gICAgICAgICAgdHlwZTogJ29iamVjdCcsXG4gICAgICAgICAgcHJvcGVydGllczoge1xuICAgICAgICAgICAgdG9rZW46IHtcbiAgICAgICAgICAgICAgdHlwZTogJ3N0cmluZycsXG4gICAgICAgICAgICAgIGRlc2NyaXB0aW9uOiAnSldUIGFjY2VzcyB0b2tlbidcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICB1c2VyOiB7XG4gICAgICAgICAgICAgICRyZWY6ICcjL2NvbXBvbmVudHMvc2NoZW1hcy9Vc2VyJ1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgfSxcbiAgICAgICAgQ2hhbm5lbFJlcXVlc3Q6IHtcbiAgICAgICAgICB0eXBlOiAnb2JqZWN0JyxcbiAgICAgICAgICByZXF1aXJlZDogWyduYW1lJywgJ3R5cGUnXSxcbiAgICAgICAgICBwcm9wZXJ0aWVzOiB7XG4gICAgICAgICAgICBuYW1lOiB7XG4gICAgICAgICAgICAgIHR5cGU6ICdzdHJpbmcnLFxuICAgICAgICAgICAgICBtaW5MZW5ndGg6IDEsXG4gICAgICAgICAgICAgIG1heExlbmd0aDogMTAwLFxuICAgICAgICAgICAgICBkZXNjcmlwdGlvbjogJ0NoYW5uZWwgZGlzcGxheSBuYW1lJ1xuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIHR5cGU6IHtcbiAgICAgICAgICAgICAgdHlwZTogJ3N0cmluZycsXG4gICAgICAgICAgICAgIGVudW06IFsndGV4dCcsICd2b2ljZSddLFxuICAgICAgICAgICAgICBkZXNjcmlwdGlvbjogJ0NoYW5uZWwgdHlwZSdcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBkZXNjcmlwdGlvbjoge1xuICAgICAgICAgICAgICB0eXBlOiAnc3RyaW5nJyxcbiAgICAgICAgICAgICAgbWF4TGVuZ3RoOiA1MDAsXG4gICAgICAgICAgICAgIGRlc2NyaXB0aW9uOiAnT3B0aW9uYWwgY2hhbm5lbCBkZXNjcmlwdGlvbidcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgIH0sXG4gICAgICAgIEVycm9yUmVzcG9uc2U6IHtcbiAgICAgICAgICB0eXBlOiAnb2JqZWN0JyxcbiAgICAgICAgICBwcm9wZXJ0aWVzOiB7XG4gICAgICAgICAgICBlcnJvcjoge1xuICAgICAgICAgICAgICB0eXBlOiAnc3RyaW5nJyxcbiAgICAgICAgICAgICAgZGVzY3JpcHRpb246ICdFcnJvciBtZXNzYWdlJ1xuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIGVycm9yczoge1xuICAgICAgICAgICAgICB0eXBlOiAnYXJyYXknLFxuICAgICAgICAgICAgICBpdGVtczoge1xuICAgICAgICAgICAgICAgIHR5cGU6ICdvYmplY3QnLFxuICAgICAgICAgICAgICAgIHByb3BlcnRpZXM6IHtcbiAgICAgICAgICAgICAgICAgIG1zZzogeyB0eXBlOiAnc3RyaW5nJyB9LFxuICAgICAgICAgICAgICAgICAgcGFyYW06IHsgdHlwZTogJ3N0cmluZycgfSxcbiAgICAgICAgICAgICAgICAgIGxvY2F0aW9uOiB7IHR5cGU6ICdzdHJpbmcnIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgIGRlc2NyaXB0aW9uOiAnVmFsaWRhdGlvbiBlcnJvcnMgYXJyYXknXG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9LFxuICAgICAgc2VjdXJpdHlTY2hlbWVzOiB7XG4gICAgICAgIGJlYXJlckF1dGg6IHtcbiAgICAgICAgICB0eXBlOiAnaHR0cCcsXG4gICAgICAgICAgc2NoZW1lOiAnYmVhcmVyJyxcbiAgICAgICAgICBiZWFyZXJGb3JtYXQ6ICdKV1QnXG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9LFxuICAgIHNlY3VyaXR5OiBbXG4gICAgICB7XG4gICAgICAgIGJlYXJlckF1dGg6IFtdXG4gICAgICB9XG4gICAgXVxuICB9LFxuICBhcGlzOiBbJy4vc2VydmVyLmpzJ10gLy8gUGF0aCB0byB0aGUgQVBJIHJvdXRlc1xufTtcblxuY29uc3Qgc3dhZ2dlclNwZWMgPSBzd2FnZ2VySnNkb2Moc3dhZ2dlck9wdGlvbnMpO1xuXG4vLyBTd2FnZ2VyIFVJIHdpdGggQ1NQIGRpc2FibGVkIGZvciB0aGlzIHJvdXRlXG5hcHAudXNlKCcvYXBpLWRvY3MnLCAocmVxLCByZXMsIG5leHQpID0+IHtcbiAgLy8gRGlzYWJsZSBDU1AgZm9yIFN3YWdnZXIgVUlcbiAgcmVzLnJlbW92ZUhlYWRlcignQ29udGVudC1TZWN1cml0eS1Qb2xpY3knKTtcbiAgbmV4dCgpO1xufSwgc3dhZ2dlclVpLnNlcnZlLCBzd2FnZ2VyVWkuc2V0dXAoc3dhZ2dlclNwZWMpKTtcblxuLy8gQWRtaW5pc3RyYXRpdmUgZW5kcG9pbnRzIC0gcmVxdWlyZSBtb2RlcmF0b3IgcHJpdmlsZWdlc1xuY29uc29sZS5sb2coJ/CflKcgQWRtaW5pc3RyYXRpdmUgQVBJIGVuZHBvaW50cyByZWdpc3RlcmVkIGF0IHN0YXJ0dXAnKTtcblxuLy8gR0VUIC9hcGkvYWRtaW4vdXNlcnMgLSBMaXN0IGFsbCB1c2VycyB3aXRoIG1vZGVyYXRpb24gaW5mb1xuYXBwLmdldCgnL2FwaS9hZG1pbi91c2VycycsIGF1dGhlbnRpY2F0ZVRva2VuLCByZXF1aXJlTW9kZXJhdG9yLCBhcGlSYXRlTGltaXRlciwgYXN5bmMgKHJlcSwgcmVzKSA9PiB7XG4gIHRyeSB7XG4gICAgY29uc3QgcGFnZSA9IHBhcnNlSW50KHJlcS5xdWVyeS5wYWdlKSB8fCAxO1xuICAgIGNvbnN0IGxpbWl0ID0gcGFyc2VJbnQocmVxLnF1ZXJ5LmxpbWl0KSB8fCA1MDtcbiAgICBjb25zdCBza2lwID0gKHBhZ2UgLSAxKSAqIGxpbWl0O1xuXG4gICAgY29uc3QgdXNlcnMgPSBhd2FpdCBVc2VyLmZpbmQoe30pXG4gICAgICAuc2VsZWN0KCctcGFzc3dvcmQgLXJlc2V0UGFzc3dvcmRUb2tlbiAtcmVzZXRQYXNzd29yZEV4cGlyZXMgLW1vZGVyYXRpb25Ub2tlbiAtbW9kZXJhdGlvblRva2VuRXhwaXJlcycpXG4gICAgICAuc29ydCh7IGNyZWF0ZWRBdDogLTEgfSlcbiAgICAgIC5za2lwKHNraXApXG4gICAgICAubGltaXQobGltaXQpO1xuXG4gICAgY29uc3QgdG90YWwgPSBhd2FpdCBVc2VyLmNvdW50RG9jdW1lbnRzKCk7XG5cbiAgICBsb2dnZXIuaW5mbyhgQWRtaW4gdXNlciBsaXN0IHJlcXVlc3RlZCBieSAke3JlcS51c2VyLm5pY2tuYW1lfWAsIHtcbiAgICAgIGFkbWluSWQ6IHJlcS51c2VyLl9pZCxcbiAgICAgIHBhZ2UsXG4gICAgICBsaW1pdCxcbiAgICAgIHRvdGFsXG4gICAgfSk7XG5cbiAgICByZXMuanNvbih7XG4gICAgICB1c2VycyxcbiAgICAgIHBhZ2luYXRpb246IHtcbiAgICAgICAgcGFnZSxcbiAgICAgICAgbGltaXQsXG4gICAgICAgIHRvdGFsLFxuICAgICAgICBwYWdlczogTWF0aC5jZWlsKHRvdGFsIC8gbGltaXQpXG4gICAgICB9XG4gICAgfSk7XG4gIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgbG9nZ2VyLmVycm9yKCdFcnJvciBmZXRjaGluZyB1c2VycyBmb3IgYWRtaW46JywgZXJyb3IpO1xuICAgIHJlcy5zdGF0dXMoNTAwKS5qc29uKHsgZXJyb3I6ICdGYWlsZWQgdG8gZmV0Y2ggdXNlcnMnLCBjb2RlOiAnREFUQUJBU0VfRVJST1InIH0pO1xuICB9XG59KTtcblxuLy8gUE9TVCAvYXBpL2FkbWluL3VzZXJzLzp1c2VySWQvYmFuIC0gQmFuIGEgdXNlclxuYXBwLnBvc3QoJy9hcGkvYWRtaW4vdXNlcnMvOnVzZXJJZC9iYW4nLCBhdXRoZW50aWNhdGVUb2tlbiwgcmVxdWlyZU1vZGVyYXRvciwgYXBpUmF0ZUxpbWl0ZXIsIFtcbiAgYm9keSgncmVhc29uJykuaXNMZW5ndGgoeyBtaW46IDEsIG1heDogNTAwIH0pLnRyaW0oKSxcbiAgYm9keSgnZHVyYXRpb24nKS5vcHRpb25hbCgpLmlzSW50KHsgbWluOiAxLCBtYXg6IDMxNTM2MDAwIH0pIC8vIE1heCAxIHllYXIgaW4gc2Vjb25kc1xuXSwgYXN5bmMgKHJlcSwgcmVzKSA9PiB7XG4gIHRyeSB7XG4gICAgY29uc3QgZXJyb3JzID0gdmFsaWRhdGlvblJlc3VsdChyZXEpO1xuICAgIGlmICghZXJyb3JzLmlzRW1wdHkoKSkge1xuICAgICAgcmV0dXJuIHJlcy5zdGF0dXMoNDAwKS5qc29uKHsgZXJyb3JzOiBlcnJvcnMuYXJyYXkoKSB9KTtcbiAgICB9XG5cbiAgICBjb25zdCB7IHVzZXJJZCB9ID0gcmVxLnBhcmFtcztcbiAgICBjb25zdCB7IHJlYXNvbiwgZHVyYXRpb24gfSA9IHJlcS5ib2R5O1xuXG4gICAgY29uc3QgdXNlciA9IGF3YWl0IFVzZXIuZmluZEJ5SWQodXNlcklkKTtcbiAgICBpZiAoIXVzZXIpIHtcbiAgICAgIHJldHVybiByZXMuc3RhdHVzKDQwNCkuanNvbih7IGVycm9yOiAnVXNlciBub3QgZm91bmQnIH0pO1xuICAgIH1cblxuICAgIC8vIFByZXZlbnQgYmFubmluZyB5b3Vyc2VsZlxuICAgIGlmICh1c2VyLl9pZC50b1N0cmluZygpID09PSByZXEudXNlci5faWQudG9TdHJpbmcoKSkge1xuICAgICAgcmV0dXJuIHJlcy5zdGF0dXMoNDAwKS5qc29uKHsgZXJyb3I6ICdDYW5ub3QgYmFuIHlvdXJzZWxmJyB9KTtcbiAgICB9XG5cbiAgICAvLyBQcmV2ZW50IG5vbi1hZG1pbiBmcm9tIGJhbm5pbmcgYWRtaW5cbiAgICBpZiAodXNlci5yb2xlID09PSAnYWRtaW4nICYmIHJlcS51c2VyLnJvbGUgIT09ICdhZG1pbicpIHtcbiAgICAgIHJldHVybiByZXMuc3RhdHVzKDQwMykuanNvbih7IGVycm9yOiAnQ2Fubm90IGJhbiBhZG1pbmlzdHJhdG9yJyB9KTtcbiAgICB9XG5cbiAgICBhd2FpdCB1c2VyLmJhbihyZWFzb24sIGR1cmF0aW9uLCByZXEudXNlci5faWQpO1xuXG4gICAgbG9nZ2VyLmluZm8oYFVzZXIgJHt1c2VyLm5pY2tuYW1lfSBiYW5uZWQgYnkgJHtyZXEudXNlci5uaWNrbmFtZX1gLCB7XG4gICAgICBiYW5uZWRVc2VySWQ6IHVzZXJJZCxcbiAgICAgIGJhbm5lZEJ5SWQ6IHJlcS51c2VyLl9pZCxcbiAgICAgIHJlYXNvbixcbiAgICAgIGR1cmF0aW9uXG4gICAgfSk7XG5cbiAgICByZXMuanNvbih7XG4gICAgICBtZXNzYWdlOiBgVXNlciAke3VzZXIubmlja25hbWV9IGhhcyBiZWVuIGJhbm5lZGAsXG4gICAgICB1c2VyOiB7XG4gICAgICAgIGlkOiB1c2VyLl9pZCxcbiAgICAgICAgbmlja25hbWU6IHVzZXIubmlja25hbWUsXG4gICAgICAgIGJhbm5lZDogdHJ1ZSxcbiAgICAgICAgYmFuUmVhc29uOiByZWFzb24sXG4gICAgICAgIGJhbkV4cGlyZXM6IHVzZXIuYmFuRXhwaXJlc1xuICAgICAgfVxuICAgIH0pO1xuICB9IGNhdGNoIChlcnJvcikge1xuICAgIGxvZ2dlci5lcnJvcignRXJyb3IgYmFubmluZyB1c2VyOicsIGVycm9yKTtcbiAgICByZXMuc3RhdHVzKDUwMCkuanNvbih7IGVycm9yOiAnRmFpbGVkIHRvIGJhbiB1c2VyJyB9KTtcbiAgfVxufSk7XG5cbi8vIFBPU1QgL2FwaS9hZG1pbi91c2Vycy86dXNlcklkL3VuYmFuIC0gVW5iYW4gYSB1c2VyXG5hcHAucG9zdCgnL2FwaS9hZG1pbi91c2Vycy86dXNlcklkL3VuYmFuJywgYXV0aGVudGljYXRlVG9rZW4sIHJlcXVpcmVNb2RlcmF0b3IsIGFwaVJhdGVMaW1pdGVyLCBhc3luYyAocmVxLCByZXMpID0+IHtcbiAgdHJ5IHtcbiAgICBjb25zdCB7IHVzZXJJZCB9ID0gcmVxLnBhcmFtcztcbiAgICBjb25zdCB1c2VyID0gYXdhaXQgVXNlci5maW5kQnlJZCh1c2VySWQpO1xuICAgIGlmICghdXNlcikge1xuICAgICAgcmV0dXJuIHJlcy5zdGF0dXMoNDA0KS5qc29uKHsgZXJyb3I6ICdVc2VyIG5vdCBmb3VuZCcgfSk7XG4gICAgfVxuXG4gICAgaWYgKCF1c2VyLmJhbm5lZCkge1xuICAgICAgcmV0dXJuIHJlcy5zdGF0dXMoNDAwKS5qc29uKHsgZXJyb3I6ICdVc2VyIGlzIG5vdCBiYW5uZWQnIH0pO1xuICAgIH1cblxuICAgIGF3YWl0IHVzZXIudW5iYW4oKTtcblxuICAgIGxvZ2dlci5pbmZvKGBVc2VyICR7dXNlci5uaWNrbmFtZX0gdW5iYW5uZWQgYnkgJHtyZXEudXNlci5uaWNrbmFtZX1gLCB7XG4gICAgICB1bmJhbm5lZFVzZXJJZDogdXNlcklkLFxuICAgICAgdW5iYW5uZWRCeUlkOiByZXEudXNlci5faWRcbiAgICB9KTtcblxuICAgIHJlcy5qc29uKHtcbiAgICAgIG1lc3NhZ2U6IGBVc2VyICR7dXNlci5uaWNrbmFtZX0gaGFzIGJlZW4gdW5iYW5uZWRgLFxuICAgICAgdXNlcjoge1xuICAgICAgICBpZDogdXNlci5faWQsXG4gICAgICAgIG5pY2tuYW1lOiB1c2VyLm5pY2tuYW1lLFxuICAgICAgICBiYW5uZWQ6IGZhbHNlXG4gICAgICB9XG4gICAgfSk7XG4gIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgbG9nZ2VyLmVycm9yKCdFcnJvciB1bmJhbm5pbmcgdXNlcjonLCBlcnJvcik7XG4gICAgcmVzLnN0YXR1cyg1MDApLmpzb24oeyBlcnJvcjogJ0ZhaWxlZCB0byB1bmJhbiB1c2VyJyB9KTtcbiAgfVxufSk7XG5cbi8vIFBPU1QgL2FwaS9hZG1pbi91c2Vycy86dXNlcklkL3dhcm4gLSBJc3N1ZSB3YXJuaW5nIHRvIHVzZXJcbmFwcC5wb3N0KCcvYXBpL2FkbWluL3VzZXJzLzp1c2VySWQvd2FybicsIGF1dGhlbnRpY2F0ZVRva2VuLCByZXF1aXJlTW9kZXJhdG9yLCBhcGlSYXRlTGltaXRlciwgW1xuICBib2R5KCdyZWFzb24nKS5pc0xlbmd0aCh7IG1pbjogMSwgbWF4OiA1MDAgfSkudHJpbSgpLFxuICBib2R5KCdkdXJhdGlvbicpLm9wdGlvbmFsKCkuaXNJbnQoeyBtaW46IDEsIG1heDogMzE1MzYwMDAgfSlcbl0sIGFzeW5jIChyZXEsIHJlcykgPT4ge1xuICB0cnkge1xuICAgIGNvbnN0IGVycm9ycyA9IHZhbGlkYXRpb25SZXN1bHQocmVxKTtcbiAgICBpZiAoIWVycm9ycy5pc0VtcHR5KCkpIHtcbiAgICAgIHJldHVybiByZXMuc3RhdHVzKDQwMCkuanNvbih7IGVycm9yczogZXJyb3JzLmFycmF5KCkgfSk7XG4gICAgfVxuXG4gICAgY29uc3QgeyB1c2VySWQgfSA9IHJlcS5wYXJhbXM7XG4gICAgY29uc3QgeyByZWFzb24sIGR1cmF0aW9uIH0gPSByZXEuYm9keTtcblxuICAgIGNvbnN0IHVzZXIgPSBhd2FpdCBVc2VyLmZpbmRCeUlkKHVzZXJJZCk7XG4gICAgaWYgKCF1c2VyKSB7XG4gICAgICByZXR1cm4gcmVzLnN0YXR1cyg0MDQpLmpzb24oeyBlcnJvcjogJ1VzZXIgbm90IGZvdW5kJyB9KTtcbiAgICB9XG5cbiAgICBhd2FpdCB1c2VyLndhcm4ocmVhc29uLCByZXEudXNlci5faWQsIGR1cmF0aW9uKTtcbiAgICBhd2FpdCB1c2VyLnNhdmUoKTtcblxuICAgIGxvZ2dlci5pbmZvKGBXYXJuaW5nIGlzc3VlZCB0byB1c2VyICR7dXNlci5uaWNrbmFtZX0gYnkgJHtyZXEudXNlci5uaWNrbmFtZX1gLCB7XG4gICAgICB3YXJuZWRVc2VySWQ6IHVzZXJJZCxcbiAgICAgIHdhcm5lZEJ5SWQ6IHJlcS51c2VyLl9pZCxcbiAgICAgIHJlYXNvbixcbiAgICAgIGR1cmF0aW9uXG4gICAgfSk7XG5cbiAgICByZXMuanNvbih7XG4gICAgICBtZXNzYWdlOiBgV2FybmluZyBpc3N1ZWQgdG8gdXNlciAke3VzZXIubmlja25hbWV9YCxcbiAgICAgIHdhcm5pbmc6IHtcbiAgICAgICAgcmVhc29uLFxuICAgICAgICBpc3N1ZWRCeTogcmVxLnVzZXIubmlja25hbWUsXG4gICAgICAgIGlzc3VlZEF0OiBuZXcgRGF0ZSgpLFxuICAgICAgICBleHBpcmVzOiBkdXJhdGlvbiA/IG5ldyBEYXRlKERhdGUubm93KCkgKyBkdXJhdGlvbikgOiBudWxsXG4gICAgICB9LFxuICAgICAgdXNlcjoge1xuICAgICAgICBpZDogdXNlci5faWQsXG4gICAgICAgIG5pY2tuYW1lOiB1c2VyLm5pY2tuYW1lLFxuICAgICAgICB3YXJuaW5nc0NvdW50OiB1c2VyLmdldEFjdGl2ZVdhcm5pbmdzQ291bnQoKVxuICAgICAgfVxuICAgIH0pO1xuICB9IGNhdGNoIChlcnJvcikge1xuICAgIGxvZ2dlci5lcnJvcignRXJyb3Igd2FybmluZyB1c2VyOicsIGVycm9yKTtcbiAgICByZXMuc3RhdHVzKDUwMCkuanNvbih7IGVycm9yOiAnRmFpbGVkIHRvIHdhcm4gdXNlcicgfSk7XG4gIH1cbn0pO1xuXG4vLyBQT1NUIC9hcGkvYWRtaW4vdXNlcnMvOnVzZXJJZC9yb2xlIC0gQ2hhbmdlIHVzZXIgcm9sZVxuYXBwLnBvc3QoJy9hcGkvYWRtaW4vdXNlcnMvOnVzZXJJZC9yb2xlJywgYXV0aGVudGljYXRlVG9rZW4sIHJlcXVpcmVBZG1pbiwgYXBpUmF0ZUxpbWl0ZXIsIFtcbiAgYm9keSgncm9sZScpLmlzSW4oWydtZW1iZXInLCAnbW9kZXJhdG9yJywgJ2FkbWluJ10pXG5dLCBhc3luYyAocmVxLCByZXMpID0+IHtcbiAgdHJ5IHtcbiAgICBjb25zdCBlcnJvcnMgPSB2YWxpZGF0aW9uUmVzdWx0KHJlcSk7XG4gICAgaWYgKCFlcnJvcnMuaXNFbXB0eSgpKSB7XG4gICAgICByZXR1cm4gcmVzLnN0YXR1cyg0MDApLmpzb24oeyBlcnJvcnM6IGVycm9ycy5hcnJheSgpIH0pO1xuICAgIH1cblxuICAgIGNvbnN0IHsgdXNlcklkIH0gPSByZXEucGFyYW1zO1xuICAgIGNvbnN0IHsgcm9sZTogbmV3Um9sZSB9ID0gcmVxLmJvZHk7XG5cbiAgICBjb25zdCB1c2VyID0gYXdhaXQgVXNlci5maW5kQnlJZCh1c2VySWQpO1xuICAgIGlmICghdXNlcikge1xuICAgICAgcmV0dXJuIHJlcy5zdGF0dXMoNDA0KS5qc29uKHsgZXJyb3I6ICdVc2VyIG5vdCBmb3VuZCcgfSk7XG4gICAgfVxuXG4gICAgLy8gUHJldmVudCBtb2RpZnlpbmcgeW91ciBvd24gcm9sZSBpbiBwb3RlbnRpYWxseSBwcm9ibGVtYXRpYyB3YXlzXG4gICAgaWYgKHVzZXIuX2lkLnRvU3RyaW5nKCkgPT09IHJlcS51c2VyLl9pZC50b1N0cmluZygpKSB7XG4gICAgICByZXR1cm4gcmVzLnN0YXR1cyg0MDApLmpzb24oeyBlcnJvcjogJ0Nhbm5vdCBtb2RpZnkgeW91ciBvd24gcm9sZScgfSk7XG4gICAgfVxuXG4gICAgLy8gUHJldmVudCBub24tYWRtaW4gZnJvbSBwcm9tb3RpbmcgdG8gYWRtaW4gb3IgZGVtb3RpbmcgYWRtaW5cbiAgICBpZiAoKG5ld1JvbGUgPT09ICdhZG1pbicgfHwgdXNlci5yb2xlID09PSAnYWRtaW4nKSAmJiByZXEudXNlci5yb2xlICE9PSAnYWRtaW4nKSB7XG4gICAgICByZXR1cm4gcmVzLnN0YXR1cyg0MDMpLmpzb24oeyBlcnJvcjogJ09ubHkgYWRtaW5pc3RyYXRvcnMgY2FuIG1hbmFnZSBhZG1pbiByb2xlcycgfSk7XG4gICAgfVxuXG4gICAgY29uc3Qgb2xkUm9sZSA9IHVzZXIucm9sZTtcbiAgICB1c2VyLnJvbGUgPSBuZXdSb2xlO1xuICAgIGF3YWl0IHVzZXIuc2F2ZSgpO1xuXG4gICAgbG9nZ2VyLmluZm8oYFVzZXIgJHt1c2VyLm5pY2tuYW1lfSByb2xlIGNoYW5nZWQgZnJvbSAke29sZFJvbGV9IHRvICR7bmV3Um9sZX0gYnkgJHtyZXEudXNlci5uaWNrbmFtZX1gLCB7XG4gICAgICBjaGFuZ2VkVXNlcklkOiB1c2VySWQsXG4gICAgICBjaGFuZ2VkQnlJZDogcmVxLnVzZXIuX2lkLFxuICAgICAgb2xkUm9sZSxcbiAgICAgIG5ld1JvbGVcbiAgICB9KTtcblxuICAgIHJlcy5qc29uKHtcbiAgICAgIG1lc3NhZ2U6IGBVc2VyICR7dXNlci5uaWNrbmFtZX0gcm9sZSBjaGFuZ2VkIHRvICR7bmV3Um9sZX1gLFxuICAgICAgdXNlcjoge1xuICAgICAgICBpZDogdXNlci5faWQsXG4gICAgICAgIG5pY2tuYW1lOiB1c2VyLm5pY2tuYW1lLFxuICAgICAgICByb2xlOiBuZXdSb2xlXG4gICAgICB9XG4gICAgfSk7XG4gIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgbG9nZ2VyLmVycm9yKCdFcnJvciBjaGFuZ2luZyB1c2VyIHJvbGU6JywgZXJyb3IpO1xuICAgIHJlcy5zdGF0dXMoNTAwKS5qc29uKHsgZXJyb3I6ICdGYWlsZWQgdG8gY2hhbmdlIHVzZXIgcm9sZScgfSk7XG4gIH1cbn0pO1xuXG4vLyBQT1NUIC9hcGkvYWRtaW4vdXNlcnMvOnVzZXJJZC9tdXRlIC0gTXV0ZSB1c2VyXG5hcHAucG9zdCgnL2FwaS9hZG1pbi91c2Vycy86dXNlcklkL211dGUnLCBhdXRoZW50aWNhdGVUb2tlbiwgcmVxdWlyZU1vZGVyYXRvciwgYXBpUmF0ZUxpbWl0ZXIsIFtcbiAgYm9keSgnZHVyYXRpb24nKS5pc0ludCh7IG1pbjogNjAsIG1heDogODY0MDAgfSkgLy8gMSBtaW51dGUgdG8gMjQgaG91cnNcbl0sIGFzeW5jIChyZXEsIHJlcykgPT4ge1xuICB0cnkge1xuICAgIGNvbnN0IGVycm9ycyA9IHZhbGlkYXRpb25SZXN1bHQocmVxKTtcbiAgICBpZiAoIWVycm9ycy5pc0VtcHR5KCkpIHtcbiAgICAgIHJldHVybiByZXMuc3RhdHVzKDQwMCkuanNvbih7IGVycm9yczogZXJyb3JzLmFycmF5KCkgfSk7XG4gICAgfVxuXG4gICAgY29uc3QgeyB1c2VySWQgfSA9IHJlcS5wYXJhbXM7XG4gICAgY29uc3QgeyBkdXJhdGlvbiB9ID0gcmVxLmJvZHk7XG5cbiAgICBjb25zdCB1c2VyID0gYXdhaXQgVXNlci5maW5kQnlJZCh1c2VySWQpO1xuICAgIGlmICghdXNlcikge1xuICAgICAgcmV0dXJuIHJlcy5zdGF0dXMoNDA0KS5qc29uKHsgZXJyb3I6ICdVc2VyIG5vdCBmb3VuZCcgfSk7XG4gICAgfVxuXG4gICAgYXdhaXQgdXNlci5tdXRlKGR1cmF0aW9uKTtcblxuICAgIGxvZ2dlci5pbmZvKGBVc2VyICR7dXNlci5uaWNrbmFtZX0gbXV0ZWQgYnkgJHtyZXEudXNlci5uaWNrbmFtZX1gLCB7XG4gICAgICBtdXRlZFVzZXJJZDogdXNlcklkLFxuICAgICAgbXV0ZWRCeUlkOiByZXEudXNlci5faWQsXG4gICAgICBkdXJhdGlvblxuICAgIH0pO1xuXG4gICAgcmVzLmpzb24oe1xuICAgICAgbWVzc2FnZTogYFVzZXIgJHt1c2VyLm5pY2tuYW1lfSBoYXMgYmVlbiBtdXRlZGAsXG4gICAgICB1c2VyOiB7XG4gICAgICAgIGlkOiB1c2VyLl9pZCxcbiAgICAgICAgbmlja25hbWU6IHVzZXIubmlja25hbWUsXG4gICAgICAgIG11dGVFeHBpcmVzOiB1c2VyLm11dGVFeHBpcmVzXG4gICAgICB9XG4gICAgfSk7XG4gIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgbG9nZ2VyLmVycm9yKCdFcnJvciBtdXRpbmcgdXNlcjonLCBlcnJvcik7XG4gICAgcmVzLnN0YXR1cyg1MDApLmpzb24oeyBlcnJvcjogJ0ZhaWxlZCB0byBtdXRlIHVzZXInIH0pO1xuICB9XG59KTtcblxuLy8gUE9TVCAvYXBpL2FkbWluL3VzZXJzLzp1c2VySWQvdW5tdXRlIC0gVW5tdXRlIHVzZXJcbmFwcC5wb3N0KCcvYXBpL2FkbWluL3VzZXJzLzp1c2VySWQvdW5tdXRlJywgYXV0aGVudGljYXRlVG9rZW4sIHJlcXVpcmVNb2RlcmF0b3IsIGFwaVJhdGVMaW1pdGVyLCBhc3luYyAocmVxLCByZXMpID0+IHtcbiAgdHJ5IHtcbiAgICBjb25zdCB7IHVzZXJJZCB9ID0gcmVxLnBhcmFtcztcbiAgICBjb25zdCB1c2VyID0gYXdhaXQgVXNlci5maW5kQnlJZCh1c2VySWQpO1xuICAgIGlmICghdXNlcikge1xuICAgICAgcmV0dXJuIHJlcy5zdGF0dXMoNDA0KS5qc29uKHsgZXJyb3I6ICdVc2VyIG5vdCBmb3VuZCcgfSk7XG4gICAgfVxuXG4gICAgaWYgKCF1c2VyLmlzTXV0ZWQoKSkge1xuICAgICAgcmV0dXJuIHJlcy5zdGF0dXMoNDAwKS5qc29uKHsgZXJyb3I6ICdVc2VyIGlzIG5vdCBtdXRlZCcgfSk7XG4gICAgfVxuXG4gICAgYXdhaXQgdXNlci51bm11dGUoKTtcblxuICAgIGxvZ2dlci5pbmZvKGBVc2VyICR7dXNlci5uaWNrbmFtZX0gdW5tdXRlZCBieSAke3JlcS51c2VyLm5pY2tuYW1lfWAsIHtcbiAgICAgIHVubXV0ZWRVc2VySWQ6IHVzZXJJZCxcbiAgICAgIHVubXV0ZWRCeUlkOiByZXEudXNlci5faWRcbiAgICB9KTtcblxuICAgIHJlcy5qc29uKHtcbiAgICAgIG1lc3NhZ2U6IGBVc2VyICR7dXNlci5uaWNrbmFtZX0gaGFzIGJlZW4gdW5tdXRlZGAsXG4gICAgICB1c2VyOiB7XG4gICAgICAgIGlkOiB1c2VyLl9pZCxcbiAgICAgICAgbmlja25hbWU6IHVzZXIubmlja25hbWUsXG4gICAgICAgIG11dGVFeHBpcmVzOiBudWxsXG4gICAgICB9XG4gICAgfSk7XG4gIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgbG9nZ2VyLmVycm9yKCdFcnJvciB1bm11dGluZyB1c2VyOicsIGVycm9yKTtcbiAgICByZXMuc3RhdHVzKDUwMCkuanNvbih7IGVycm9yOiAnRmFpbGVkIHRvIHVubXV0ZSB1c2VyJyB9KTtcbiAgfVxufSk7XG5cbi8qKlxuICogQHN3YWdnZXJcbiAqIC9hcGkvdXNlcnM6XG4gKiAgIGdldDpcbiAqICAgICB0YWdzOlxuICogICAgICAgLSBVc2Vyc1xuICogICAgIHN1bW1hcnk6IEdldCBsaXN0IG9mIGFsbCByZWdpc3RlcmVkIHVzZXJzXG4gKiAgICAgZGVzY3JpcHRpb246IFJldHJpZXZlcyBhIGxpc3Qgb2YgYWxsIHVzZXJzIHdpdGggdGhlaXIgcm9sZXMgYW5kIG9ubGluZSBzdGF0dXNcbiAqICAgICBzZWN1cml0eTpcbiAqICAgICAgIC0gYmVhcmVyQXV0aDogW11cbiAqICAgICByZXNwb25zZXM6XG4gKiAgICAgICAyMDA6XG4gKiAgICAgICAgIGRlc2NyaXB0aW9uOiBMaXN0IG9mIHVzZXJzIHN1Y2Nlc3NmdWxseSByZXRyaWV2ZWRcbiAqICAgICAgICAgY29udGVudDpcbiAqICAgICAgICAgICBhcHBsaWNhdGlvbi9qc29uOlxuICogICAgICAgICAgICAgc2NoZW1hOlxuICogICAgICAgICAgICAgICB0eXBlOiBhcnJheVxuICogICAgICAgICAgICAgICBpdGVtczpcbiAqICAgICAgICAgICAgICAgICB0eXBlOiBvYmplY3RcbiAqICAgICAgICAgICAgICAgICBwcm9wZXJ0aWVzOlxuICogICAgICAgICAgICAgICAgICAgaWQ6XG4gKiAgICAgICAgICAgICAgICAgICAgIHR5cGU6IHN0cmluZ1xuICogICAgICAgICAgICAgICAgICAgICBkZXNjcmlwdGlvbjogVXNlcidzIHVuaXF1ZSBpZGVudGlmaWVyXG4gKiAgICAgICAgICAgICAgICAgICBuaWNrbmFtZTpcbiAqICAgICAgICAgICAgICAgICAgICAgdHlwZTogc3RyaW5nXG4gKiAgICAgICAgICAgICAgICAgICAgIGRlc2NyaXB0aW9uOiBVc2VyJ3MgZGlzcGxheSBuYW1lXG4gKiAgICAgICAgICAgICAgICAgICByb2xlOlxuICogICAgICAgICAgICAgICAgICAgICB0eXBlOiBzdHJpbmdcbiAqICAgICAgICAgICAgICAgICAgICAgZW51bTogW2FkbWluLCBtb2RlcmF0b3IsIG1lbWJlcl1cbiAqICAgICAgICAgICAgICAgICAgICAgZGVzY3JpcHRpb246IFVzZXIncyByb2xlIGxldmVsXG4gKiAgICAgICAgICAgICAgICAgICBzdGF0dXM6XG4gKiAgICAgICAgICAgICAgICAgICAgIHR5cGU6IHN0cmluZ1xuICogICAgICAgICAgICAgICAgICAgICBlbnVtOiBbb25saW5lLCBvZmZsaW5lXVxuICogICAgICAgICAgICAgICAgICAgICBkZXNjcmlwdGlvbjogVXNlcidzIG9ubGluZSBzdGF0dXNcbiAqICAgICAgICAgICAgICAgICAgIGNyZWF0ZWRBdDpcbiAqICAgICAgICAgICAgICAgICAgICAgdHlwZTogc3RyaW5nXG4gKiAgICAgICAgICAgICAgICAgICAgIGZvcm1hdDogZGF0ZS10aW1lXG4gKiAgICAgICAgICAgICAgICAgICAgIGRlc2NyaXB0aW9uOiBVc2VyIHJlZ2lzdHJhdGlvbiBkYXRlXG4gKiAgICAgICAgICAgICAgICAgICBsYXN0QWN0aXZlOlxuICogICAgICAgICAgICAgICAgICAgICB0eXBlOiBzdHJpbmdcbiAqICAgICAgICAgICAgICAgICAgICAgZm9ybWF0OiBkYXRlLXRpbWVcbiAqICAgICAgICAgICAgICAgICAgICAgZGVzY3JpcHRpb246IExhc3QgYWN0aXZpdHkgdGltZXN0YW1wXG4gKiAgICAgICAgICAgICBleGFtcGxlOlxuICogICAgICAgICAgICAgICAtIGlkOiBcIjUwN2YxZjc3YmNmODZjZDc5OTQzOTAxMVwiXG4gKiAgICAgICAgICAgICAgICAgbmlja25hbWU6IFwiam9obl9kb2VcIlxuICogICAgICAgICAgICAgICAgIHJvbGU6IFwibWVtYmVyXCJcbiAqICAgICAgICAgICAgICAgICBzdGF0dXM6IFwib25saW5lXCJcbiAqICAgICAgICAgICAgICAgICBjcmVhdGVkQXQ6IFwiMjAyNC0wOS0wN1QxMDozMDowMFpcIlxuICogICAgICAgICAgICAgICAgIGxhc3RBY3RpdmU6IFwiMjAyNC0wOS0wN1QyMjoxNTowMFpcIlxuICogICAgICAgNDAxOlxuICogICAgICAgICBkZXNjcmlwdGlvbjogQXV0aGVudGljYXRpb24gcmVxdWlyZWRcbiAqICAgICAgICAgY29udGVudDpcbiAqICAgICAgICAgICBhcHBsaWNhdGlvbi9qc29uOlxuICogICAgICAgICAgICAgc2NoZW1hOlxuICogICAgICAgICAgICAgICAkcmVmOiAnIy9jb21wb25lbnRzL3NjaGVtYXMvRXJyb3JSZXNwb25zZSdcbiAqICAgICAgIDUwMDpcbiAqICAgICAgICAgZGVzY3JpcHRpb246IFNlcnZlciBlcnJvclxuICovXG5jb25zb2xlLmxvZygn8J+UpyBHRVQgL2FwaS91c2VycyByb3V0ZSByZWdpc3RlcmVkIGF0IHN0YXJ0dXAnKTtcbmFwcC5nZXQoJy9hcGkvdXNlcnMnLCBhdXRoZW50aWNhdGVUb2tlbiwgYXBpUmF0ZUxpbWl0ZXIsIGFzeW5jIChyZXEsIHJlcykgPT4ge1xuICB0cnkge1xuICAgIGNvbnN0IHVzZXJzID0gYXdhaXQgVXNlci5maW5kKHt9KVxuICAgICAgLnNlbGVjdCgnX2lkIG5pY2tuYW1lIHJvbGUgc3RhdHVzIGNyZWF0ZWRBdCBsYXN0QWN0aXZlJylcbiAgICAgIC5zb3J0KHsgbmlja25hbWU6IDEgfSk7XG5cbiAgICBsb2dnZXIuaW5mbyhgVXNlcnMgbGlzdCByZXF1ZXN0ZWQgYnkgJHtyZXEudXNlci5uaWNrbmFtZX1gLCB7XG4gICAgICB1c2VySWQ6IHJlcS51c2VyLl9pZCxcbiAgICAgIHRvdGFsVXNlcnM6IHVzZXJzLmxlbmd0aFxuICAgIH0pO1xuXG4gICAgY29uc29sZS5sb2coJ/Cfk6QgUmV0dXJuaW5nIHVzZXJzIGRhdGE6JywgdXNlcnMubGVuZ3RoKTtcbiAgICByZXMuanNvbih1c2Vycyk7XG4gIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgbG9nZ2VyLmVycm9yKCdFcnJvciBmZXRjaGluZyB1c2VyczonLCBlcnJvcik7XG4gICAgY29uc29sZS5lcnJvcign4p2MIEVycm9yIGluIEdFVCAvYXBpL3VzZXJzOicsIGVycm9yLm1lc3NhZ2UpO1xuICAgIHJlcy5zdGF0dXMoNTAwKS5qc29uKHsgZXJyb3I6ICdGYWlsZWQgdG8gZmV0Y2ggdXNlcnMnLCBjb2RlOiAnREFUQUJBU0VfRVJST1InIH0pO1xuICB9XG59KTtcblxuLy8gU3dhZ2dlciBKU09OIGVuZHBvaW50XG5hcHAuZ2V0KCcvYXBpLWRvY3MuanNvbicsIChyZXEsIHJlcykgPT4ge1xuICByZXMucmVtb3ZlSGVhZGVyKCdDb250ZW50LVNlY3VyaXR5LVBvbGljeScpO1xuICByZXMuc2V0SGVhZGVyKCdDb250ZW50LVR5cGUnLCAnYXBwbGljYXRpb24vanNvbicpO1xuICByZXMuc2VuZChzd2FnZ2VyU3BlYyk7XG59KTtcblxuLy8gRGV2ZWxvcG1lbnQgYW5kIHRlc3QgZW5kcG9pbnQgdG8gcmVzZXQgcmF0ZSBsaW1pdGluZ1xuYXBwLnBvc3QoJy9hcGkvcmVzZXQtcmF0ZWxpbWl0JywgKHJlcSwgcmVzKSA9PiB7XG4gIC8vIEluIGEgcmVhbCBhcHBsaWNhdGlvbiwgeW91J2Qgd2FudCB0byBnZXQgdGhlIHN0b3JlIGZyb20gdGhlIGxpbWl0ZXIgaW5zdGFuY2VcbiAgLy8gRm9yIGV4cHJlc3MtcmF0ZS1saW1pdCB2NyssIHlvdSBjYW4gYWNjZXNzIHRoZSBzdG9yZSBsaWtlIHRoaXM6XG4gIHRyeSB7XG4gICAgY29uc3QgYXV0aExpbWl0ZXJTdG9yZSA9IGF1dGhSYXRlTGltaXRlci5zdG9yZTtcbiAgICBpZiAoYXV0aExpbWl0ZXJTdG9yZSAmJiB0eXBlb2YgYXV0aExpbWl0ZXJTdG9yZS5yZXNldEFsbCA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgYXV0aExpbWl0ZXJTdG9yZS5yZXNldEFsbCgpO1xuICAgICAgY29uc29sZS5sb2coJ/CflIQgUmF0ZSBsaW1pdGluZyByZXNldCBmb3IgdGVzdGluZyBwdXJwb3NlcycpO1xuICAgICAgcmVzLmpzb24oeyBzdWNjZXNzOiB0cnVlLCBtZXNzYWdlOiAnUmF0ZSBsaW1pdGluZyBoYXMgYmVlbiByZXNldCcgfSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIC8vIElmIHN0b3JlIGRvZXNuJ3QgZXhwb3NlIHJlc2V0QWxsLCBjcmVhdGUgYSB0ZW1wb3Jhcnkgd29ya2Fyb3VuZFxuICAgICAgY29uc29sZS5sb2coJ+KaoO+4jyBSYXRlIGxpbWl0ZXIgc3RvcmUgZG9lc25cXCd0IHN1cHBvcnQgcmVzZXRBbGwgLSByYXRlIGxpbWl0aW5nIHdpbGwgZXhwaXJlIG5hdHVyYWxseScpO1xuICAgICAgcmVzLmpzb24oeyBzdWNjZXNzOiBmYWxzZSwgbWVzc2FnZTogJ0Nhbm5vdCByZXNldCByYXRlIGxpbWl0aW5nIGF1dG9tYXRpY2FsbHksIHdhaXQgZm9yIHRpbWVvdXQnIH0pO1xuICAgIH1cbiAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICBjb25zb2xlLmxvZygn4p2MIEVycm9yIHJlc2V0dGluZyByYXRlIGxpbWl0aW5nOicsIGVycm9yLm1lc3NhZ2UpO1xuICAgIHJlcy5zdGF0dXMoNTAwKS5qc29uKHsgc3VjY2VzczogZmFsc2UsIGVycm9yOiAnRmFpbGVkIHRvIHJlc2V0IHJhdGUgbGltaXRpbmcnIH0pO1xuICB9XG59KTtcblxuLy8gSGVhbHRoIGNoZWNrIGVuZHBvaW50XG5hcHAuZ2V0KCcvaGVhbHRoJywgKHJlcSwgcmVzKSA9PiB7XG4gIHJlcy5qc29uKHtcbiAgICBzdGF0dXM6ICdoZWFsdGh5JyxcbiAgICB0aW1lc3RhbXA6IG5ldyBEYXRlKCkudG9JU09TdHJpbmcoKSxcbiAgICB1cHRpbWU6IHByb2Nlc3MudXB0aW1lKClcbiAgfSk7XG59KTtcblxuLy8gTG9nIG1pZGRsZXdhcmUgdG8gY2hlY2sgaW5jb21pbmcgcmVxdWVzdHNcbmFwcC51c2UoKHJlcSwgcmVzLCBuZXh0KSA9PiB7XG4gIGxvZ2dlci5pbmZvKGDwn5SNIEluY29taW5nIHJlcXVlc3Q6ICR7cmVxLm1ldGhvZH0gJHtyZXEudXJsfWAsIHtcbiAgICBpcDogcmVxLmlwLFxuICAgIHVzZXJBZ2VudDogcmVxLmdldCgnVXNlci1BZ2VudCcpLFxuICAgIGhlYWRlcnM6IHJlcS5oZWFkZXJzXG4gIH0pO1xuICBuZXh0KCk7XG59KTtcblxuXG5cblxuXG5cblxuXG5cblxuXG5cbi8qKlxuICAgKiBAc3dhZ2dlclxuICAgKiAvYXBpL2xvZ2luOlxuICAgKiAgIHBvc3Q6XG4gICAqICAgICB0YWdzOlxuICAgKiAgICAgICAtIEF1dGhlbnRpY2F0aW9uXG4gICAqICAgICBzdW1tYXJ5OiBMb2dpbiBleGlzdGluZyB1c2VyXG4gICAqICAgICBkZXNjcmlwdGlvbjogQXV0aGVudGljYXRlcyBhbmQgbG9ncyBpbiBhbiBleGlzdGluZyB1c2VyIHdpdGggSldUIHRva2VuXG4gICAqICAgICByZXF1ZXN0Qm9keTpcbiAgICogICAgICAgcmVxdWlyZWQ6IHRydWVcbiAgICogICAgICAgY29udGVudDpcbiAgICogICAgICAgICBhcHBsaWNhdGlvbi9qc29uOlxuICAgKiAgICAgICAgICAgc2NoZW1hOlxuICAgKiAgICAgICAgICAgICAkcmVmOiAnIy9jb21wb25lbnRzL3NjaGVtYXMvTG9naW5SZXF1ZXN0J1xuICAgKiAgICAgcmVzcG9uc2VzOlxuICAgKiAgICAgICAyMDA6XG4gICAqICAgICAgICAgZGVzY3JpcHRpb246IExvZ2luIHN1Y2Nlc3NmdWxcbiAgICogICAgICAgICBjb250ZW50OlxuICAgKiAgICAgICAgICAgYXBwbGljYXRpb24vanNvbjpcbiAgICogICAgICAgICAgICAgc2NoZW1hOlxuICAgKiAgICAgICAgICAgICAgICRyZWY6ICcjL2NvbXBvbmVudHMvc2NoZW1hcy9BdXRoUmVzcG9uc2UnXG4gICAqICAgICAgICAgICAgIGV4YW1wbGU6XG4gICAqICAgICAgICAgICAgICAgdG9rZW46IFwiZXlKaGJHY2lPaUpJVXpJMU5pSXNJblI1Y0NJNklrcFhWQ0o5Li4uXCJcbiAgICogICAgICAgICAgICAgICB1c2VyOlxuICAgKiAgICAgICAgICAgICAgICAgaWQ6IFwiNTA3ZjFmNzdiY2Y4NmNkNzk5NDM5MDExXCJcbiAgICogICAgICAgICAgICAgICAgIG5pY2tuYW1lOiBcImpvaG5fZG9lXCJcbiAgICogICAgICAgICAgICAgICAgIGVtYWlsOiBcImpvaG5AZXhhbXBsZS5jb21cIlxuICAgKiAgICAgICAgICAgICAgICAgcm9sZTogXCJtZW1iZXJcIlxuICAgKiAgICAgICA0MDA6XG4gICAqICAgICAgICAgZGVzY3JpcHRpb246IEludmFsaWQgY3JlZGVudGlhbHMgb3IgdmFsaWRhdGlvbiBlcnJvcnNcbiAgICogICAgICAgICBjb250ZW50OlxuICAgKiAgICAgICAgICAgYXBwbGljYXRpb24vanNvbjpcbiAgICogICAgICAgICAgICAgc2NoZW1hOlxuICAgKiAgICAgICAgICAgICAgICRyZWY6ICcjL2NvbXBvbmVudHMvc2NoZW1hcy9FcnJvclJlc3BvbnNlJ1xuICAgKiAgICAgICAgICAgICBleGFtcGxlOlxuICAgKiAgICAgICAgICAgICAgIGVycm9yOiBcIkludmFsaWQgY3JlZGVudGlhbHNcIlxuICAgKiAgICAgICA1MDA6XG4gICAqICAgICAgICAgZGVzY3JpcHRpb246IFNlcnZlciBlcnJvclxuICAgKi9cbmNvbnNvbGUubG9nKCfwn5SnIFBPU1QgL2FwaS9sb2dpbiByb3V0ZSByZWdpc3RlcmVkIGF0IHN0YXJ0dXAnKTtcbmFwcC5wb3N0KCcvYXBpL2xvZ2luJywgW1xuICBib2R5KCdpZGVudGlmaWVyJykuaXNMZW5ndGgoeyBtaW46IDEsIG1heDogNTAgfSkudHJpbSgpLFxuICBib2R5KCdwYXNzd29yZCcpLmlzTGVuZ3RoKHsgbWluOiA2LCBtYXg6IDEwMCB9KVxuXSwgYXN5bmMgKHJlcSwgcmVzKSA9PiB7XG4gIHRyeSB7XG4gICAgY29uc29sZS5sb2coJ/CflJEgSW5jb21pbmcgbG9naW4gcmVxdWVzdDonLCB7IGlkZW50aWZpZXI6IHJlcS5ib2R5LmlkZW50aWZpZXIsIGhhc1Bhc3N3b3JkOiAhIXJlcS5ib2R5LnBhc3N3b3JkLCBpcDogcmVxLmlwIH0pO1xuICAgIGNvbnN0IGVycm9ycyA9IHZhbGlkYXRpb25SZXN1bHQocmVxKTtcbiAgICBpZiAoIWVycm9ycy5pc0VtcHR5KCkpIHtcbiAgICAgIGNvbnNvbGUubG9nKCfinYwgTG9naW4gdmFsaWRhdGlvbiBlcnJvcnM6JywgZXJyb3JzLmFycmF5KCkpO1xuICAgICAgcmV0dXJuIHJlcy5zdGF0dXMoNDAwKS5qc29uKHsgZXJyb3JzOiBlcnJvcnMuYXJyYXkoKSB9KTtcbiAgICB9XG5cbiAgICBjb25zdCB7IGlkZW50aWZpZXIsIHBhc3N3b3JkIH0gPSByZXEuYm9keTtcbiAgICBjb25zb2xlLmxvZygn8J+UjSBTZWFyY2hpbmcgZm9yIHVzZXIgd2l0aCBpZGVudGlmaWVyOicsIGlkZW50aWZpZXIpO1xuXG4gICAgLy8gRmluZCB1c2VyIGJ5IG5pY2tuYW1lIG9yIGVtYWlsXG4gICAgY29uc3QgdXNlciA9IGF3YWl0IFVzZXIuZmluZE9uZSh7XG4gICAgICAkb3I6IFt7IG5pY2tuYW1lOiBpZGVudGlmaWVyIH0sIHsgZW1haWw6IGlkZW50aWZpZXIgfV1cbiAgICB9KTtcblxuICAgIGlmICghdXNlcikge1xuICAgICAgY29uc29sZS5sb2coJ+KdjCBVc2VyIG5vdCBmb3VuZDonLCBpZGVudGlmaWVyKTtcbiAgICAgIHJldHVybiByZXMuc3RhdHVzKDQwMCkuanNvbih7IGVycm9yOiAnSW52YWxpZCBjcmVkZW50aWFscycgfSk7XG4gICAgfVxuXG4gICAgY29uc29sZS5sb2coJ+KchSBVc2VyIGZvdW5kOicsIHsgbmlja25hbWU6IHVzZXIubmlja25hbWUsIGVtYWlsOiB1c2VyLmVtYWlsLCBzdGF0dXM6IHVzZXIuc3RhdHVzIH0pO1xuXG4gICAgLy8gQ29tcGFyZSBwYXNzd29yZFxuICAgIGNvbnN0IGlzUGFzc3dvcmRWYWxpZCA9IGF3YWl0IHVzZXIuY29tcGFyZVBhc3N3b3JkKHBhc3N3b3JkKTtcbiAgICBjb25zb2xlLmxvZygn8J+UkSBQYXNzd29yZCB2YWxpZGF0aW9uIHJlc3VsdDonLCBpc1Bhc3N3b3JkVmFsaWQpO1xuXG4gICAgaWYgKCFpc1Bhc3N3b3JkVmFsaWQpIHtcbiAgICAgIGNvbnNvbGUubG9nKCfinYwgSW52YWxpZCBwYXNzd29yZCBmb3IgdXNlcjonLCB1c2VyLm5pY2tuYW1lKTtcbiAgICAgIHJldHVybiByZXMuc3RhdHVzKDQwMCkuanNvbih7IGVycm9yOiAnSW52YWxpZCBjcmVkZW50aWFscycgfSk7XG4gICAgfVxuXG4gICAgLy8gVXBkYXRlIHVzZXIgc3RhdHVzIHRvIG9ubGluZVxuICAgIHVzZXIuc3RhdHVzID0gJ29ubGluZSc7XG4gICAgYXdhaXQgdXNlci5zYXZlKCk7XG5cbiAgICAvLyBTdG9yZSB1c2VyIGluIHNlc3Npb24gZm9yIHBhcmFsbGVsIGF1dGhlbnRpY2F0aW9uXG4gICAgY29uc29sZS5sb2coJ/CflI8gU3RvcmluZyB1c2VyIGluIHNlc3Npb24gZm9yIHVzZXI6JywgdXNlci5uaWNrbmFtZSk7XG4gICAgcmVxLnNlc3Npb24uYXV0aGVudGljYXRlZCA9IHRydWU7XG4gICAgcmVxLnNlc3Npb24udXNlcklkID0gdXNlci5faWQudG9TdHJpbmcoKTtcbiAgICByZXEuc2Vzc2lvbi5uaWNrbmFtZSA9IHVzZXIubmlja25hbWU7IC8vIFN0b3JlIGFkZGl0aW9uYWwgaW5mbyBmb3IgY29udmVuaWVuY2VcbiAgICByZXEuc2Vzc2lvbi5yb2xlID0gdXNlci5yb2xlO1xuICAgIHJlcS5zZXNzaW9uLmNzcmZUb2tlbiA9IHByb2Nlc3MuZW52LkpXVF9TRUNSRVQ7IC8vIFNpbXBsZSBDU1JGIHByb3RlY3Rpb24gdXNpbmcgSldUX1NFQ1JFVFxuICAgIHJlcS5zZXNzaW9uLmxvZ2luVGltZSA9IG5ldyBEYXRlKCkudG9JU09TdHJpbmcoKTtcbiAgICByZXEuc2Vzc2lvbi51c2VyQWdlbnQgPSByZXEuZ2V0KCdVc2VyLUFnZW50Jyk7IC8vIFN0b3JlIHVzZXIgYWdlbnQgZm9yIGFkZGl0aW9uYWwgc2VjdXJpdHlcblxuICAgIC8vIFNhdmUgc2Vzc2lvbiBiZWZvcmUgSldUIGdlbmVyYXRpb25cbiAgICBhd2FpdCBuZXcgUHJvbWlzZSgocmVzb2x2ZSwgcmVqZWN0KSA9PiB7XG4gICAgICByZXEuc2Vzc2lvbi5zYXZlKChlcnIpID0+IHtcbiAgICAgICAgaWYgKGVycikge1xuICAgICAgICAgIGNvbnNvbGUuZXJyb3IoJ+KdjCBTZXNzaW9uIHNhdmUgZXJyb3I6JywgZXJyKTtcbiAgICAgICAgICByZWplY3QoZXJyKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBjb25zb2xlLmxvZygn4pyFIFNlc3Npb24gc2F2ZWQgc3VjY2Vzc2Z1bGx5IHdpdGggQ1NSRiBwcm90ZWN0aW9uJyk7XG4gICAgICAgICAgcmVzb2x2ZSgpO1xuICAgICAgICB9XG4gICAgICB9KTtcbiAgICB9KTtcblxuICAgIC8vIEdlbmVyYXRlIEpXVCB0b2tlblxuICAgIGNvbnNvbGUubG9nKCfwn5SPIEdlbmVyYXRpbmcgSldUIHRva2VuIGZvciB1c2VyOicsIHVzZXIubmlja25hbWUpO1xuICAgIGNvbnN0IHRva2VuID0gand0LnNpZ24oXG4gICAgICB7XG4gICAgICAgIHVzZXJJZDogdXNlci5faWQsXG4gICAgICAgIG5pY2tuYW1lOiB1c2VyLm5pY2tuYW1lLFxuICAgICAgICByb2xlOiB1c2VyLnJvbGUsXG4gICAgICAgIGNzcmZUb2tlbjogcmVxLnNlc3Npb24uY3NyZlRva2VuLFxuICAgICAgICBzZXNzaW9uSWQ6IHJlcS5zZXNzaW9uSWRcbiAgICAgIH0sXG4gICAgICBwcm9jZXNzLmVudi5KV1RfU0VDUkVULFxuICAgICAgeyBleHBpcmVzSW46ICcyNGgnIH1cbiAgICApO1xuICAgIGNvbnNvbGUubG9nKCfinIUgSldUIHRva2VuIGdlbmVyYXRlZCBzdWNjZXNzZnVsbHknKTtcblxuICAgIGxvZ2dlci5pbmZvKGBVc2VyIGxvZ2dlZCBpbjogJHt1c2VyLm5pY2tuYW1lfWApO1xuXG4gICAgY29uc29sZS5sb2coJ/Cfk6QgU2VuZGluZyBsb2dpbiByZXNwb25zZScpO1xuICAgIHJlcy5qc29uKHtcbiAgICAgIHRva2VuLCAvLyBKV1QgZm9yIEFQSSBjYWxscyBhbmQgV2ViU29ja2V0c1xuICAgICAgdXNlcjoge1xuICAgICAgICBpZDogdXNlci5faWQsXG4gICAgICAgIG5pY2tuYW1lOiB1c2VyLm5pY2tuYW1lLFxuICAgICAgICBlbWFpbDogdXNlci5lbWFpbCxcbiAgICAgICAgcm9sZTogdXNlci5yb2xlXG4gICAgICB9LFxuICAgICAgc2Vzc2lvbjoge1xuICAgICAgICBhdXRoZW50aWNhdGVkOiB0cnVlLFxuICAgICAgICBpZDogcmVxLnNlc3Npb25JZCxcbiAgICAgICAgZXhwaXJlczogcmVxLnNlc3Npb24uY29va2llLmV4cGlyZXNcbiAgICAgIH1cbiAgICB9KTtcbiAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICBsb2dnZXIuZXJyb3IoJ0xvZ2luIGVycm9yOicsIGVycm9yKTtcbiAgICByZXMuc3RhdHVzKDUwMCkuanNvbih7IGVycm9yOiAnU2VydmVyIGVycm9yIGR1cmluZyBsb2dpbicgfSk7XG4gIH1cbn0pO1xuXG4vKipcbiAgICogQHN3YWdnZXJcbiAgICogL2FwaS9yZWdpc3RlcjpcbiAgKiAgIHBvc3Q6XG4gICogICAgIHRhZ3M6XG4gICogICAgICAgLSBBdXRoZW50aWNhdGlvblxuICAqICAgICBzdW1tYXJ5OiBSZWdpc3RlciBuZXcgdXNlclxuICAqICAgICBkZXNjcmlwdGlvbjogQ3JlYXRlcyBhIG5ldyB1c2VyIGFjY291bnQgYW5kIHJldHVybnMgSldUIHRva2VuXG4gICogICAgIHJlcXVlc3RCb2R5OlxuICAqICAgICAgIHJlcXVpcmVkOiB0cnVlXG4gICogICAgICAgY29udGVudDpcbiAgKiAgICAgICAgIGFwcGxpY2F0aW9uL2pzb246XG4gICogICAgICAgICAgIHNjaGVtYTpcbiAgKiAgICAgICAgICAgICAkcmVmOiAnIy9jb21wb25lbnRzL3NjaGVtYXMvUmVnaXN0ZXJSZXF1ZXN0J1xuICAqICAgICAgICAgICBleGFtcGxlOlxuICAqICAgICAgICAgICAgIG5pY2tuYW1lOiBcImpvaG5fZG9lXCJcbiAgKiAgICAgICAgICAgICBlbWFpbDogXCJqb2huQGV4YW1wbGUuY29tXCJcbiAgKiAgICAgICAgICAgICBwYXNzd29yZDogXCJzZWN1cmVQYXNzMTIzXCJcbiAgKiAgICAgcmVzcG9uc2VzOlxuICAqICAgICAgIDIwMTpcbiAgKiAgICAgICAgIGRlc2NyaXB0aW9uOiBSZWdpc3RyYXRpb24gc3VjY2Vzc2Z1bFxuICAqICAgICAgICAgY29udGVudDpcbiAgKiAgICAgICAgICAgYXBwbGljYXRpb24vanNvbjpcbiAgKiAgICAgICAgICAgICBzY2hlbWE6XG4gICogICAgICAgICAgICAgICAkcmVmOiAnIy9jb21wb25lbnRzL3NjaGVtYXMvQXV0aFJlc3BvbnNlJ1xuICAqICAgICAgICAgICAgIGV4YW1wbGU6XG4gICogICAgICAgICAgICAgICB0b2tlbjogXCJleUpoYkdjaU9pSklVekkxTmlJc0luUjVjQ0k2SWtwWFZDSjkuLi5cIlxuICAqICAgICAgICAgICAgICAgdXNlcjpcbiAgKiAgICAgICAgICAgICAgICAgaWQ6IFwiNTA3ZjFmNzdiY2Y4NmNkNzk5NDM5MDExXCJcbiAgKiAgICAgICAgICAgICAgICAgbmlja25hbWU6IFwiam9obl9kb2VcIlxuICAqICAgICAgICAgICAgICAgICBlbWFpbDogXCJqb2huQGV4YW1wbGUuY29tXCJcbiAgKiAgICAgICAgICAgICAgICAgcm9sZTogXCJtZW1iZXJcIlxuICAqICAgICAgIDQwMDpcbiAgKiAgICAgICAgIGRlc2NyaXB0aW9uOiBWYWxpZGF0aW9uIGVycm9ycyBvciB1c2VyIGFscmVhZHkgZXhpc3RzXG4gICogICAgICAgICBjb250ZW50OlxuICAqICAgICAgICAgICBhcHBsaWNhdGlvbi9qc29uOlxuICAqICAgICAgICAgICAgIHNjaGVtYTpcbiAgKiAgICAgICAgICAgICAgICRyZWY6ICcjL2NvbXBvbmVudHMvc2NoZW1hcy9FcnJvclJlc3BvbnNlJ1xuICAqICAgICAgICAgICAgIGV4YW1wbGU6XG4gICogICAgICAgICAgICAgICBlcnJvcjogXCJOaWNrbmFtZSBhbHJlYWR5IHRha2VuXCJcbiAgKiAgICAgICA1MDA6XG4gICogICAgICAgICBkZXNjcmlwdGlvbjogU2VydmVyIGVycm9yXG4gICovXG5hcHAucG9zdCgnL2FwaS9yZWdpc3RlcicsIGF1dGhSYXRlTGltaXRlciwgW1xuICBib2R5KCduaWNrbmFtZScpLmlzTGVuZ3RoKHsgbWluOiAzLCBtYXg6IDUwIH0pLnRyaW0oKS5lc2NhcGUoKSxcbiAgYm9keSgnZW1haWwnKS5pc0VtYWlsKCkubm9ybWFsaXplRW1haWwoKSxcbiAgYm9keSgncGFzc3dvcmQnKS5pc0xlbmd0aCh7IG1pbjogNiB9KVxuXSwgYXN5bmMgKHJlcSwgcmVzKSA9PiB7XG4gIHRyeSB7XG4gICAgY29uc3QgZXJyb3JzID0gdmFsaWRhdGlvblJlc3VsdChyZXEpO1xuICAgIGlmICghZXJyb3JzLmlzRW1wdHkoKSkge1xuICAgICAgcmV0dXJuIHJlcy5zdGF0dXMoNDAwKS5qc29uKHsgZXJyb3JzOiBlcnJvcnMuYXJyYXkoKSB9KTtcbiAgICB9XG5cbiAgICBjb25zdCB7IG5pY2tuYW1lLCBlbWFpbCwgcGFzc3dvcmQgfSA9IHJlcS5ib2R5O1xuXG4gICAgLy8gQ2hlY2sgaWYgdXNlciBleGlzdHNcbiAgICBjb25zdCBleGlzdGluZ1VzZXIgPSBhd2FpdCBVc2VyLmZpbmRPbmUoe1xuICAgICAgJG9yOiBbeyBuaWNrbmFtZSB9LCB7IGVtYWlsIH1dXG4gICAgfSk7XG5cbiAgICBpZiAoZXhpc3RpbmdVc2VyKSB7XG4gICAgICBjb25zdCBjb25mbGljdEZpZWxkID0gZXhpc3RpbmdVc2VyLm5pY2tuYW1lID09PSBuaWNrbmFtZSA/ICduaWNrbmFtZScgOiAnZW1haWwnO1xuICAgICAgY29uc3QgZXJyb3JNZXNzYWdlID0gY29uZmxpY3RGaWVsZCA9PT0gJ25pY2tuYW1lJyA/ICdOaWNrbmFtZSBhbHJlYWR5IHRha2VuJyA6ICdFbWFpbCBhbHJlYWR5IHJlZ2lzdGVyZWQnO1xuICAgICAgcmV0dXJuIHJlcy5zdGF0dXMoNDA5KS5qc29uKHsgZXJyb3I6IGVycm9yTWVzc2FnZSB9KTtcbiAgICB9XG5cbiAgICAvLyBDcmVhdGUgdXNlclxuICAgIGNvbnN0IHVzZXIgPSBuZXcgVXNlcih7IG5pY2tuYW1lLCBlbWFpbCwgcGFzc3dvcmQsIHJvbGU6ICdtZW1iZXInLCBzdGF0dXM6ICdvbmxpbmUnIH0pO1xuICAgIGF3YWl0IHVzZXIuc2F2ZSgpO1xuXG4gICAgY29uc29sZS5sb2coJ/CflI8gU3RvcmluZyByZWdpc3RlcmVkIHVzZXIgaW4gc2Vzc2lvbicpO1xuICAgIC8vIFN0b3JlIHVzZXIgaW4gc2Vzc2lvbiBmb3IgcGFyYWxsZWwgYXV0aGVudGljYXRpb24gZHVyaW5nIHJlZ2lzdHJhdGlvblxuICAgIHJlcS5zZXNzaW9uLmF1dGhlbnRpY2F0ZWQgPSB0cnVlO1xuICAgIHJlcS5zZXNzaW9uLnVzZXJJZCA9IHVzZXIuX2lkLnRvU3RyaW5nKCk7XG4gICAgcmVxLnNlc3Npb24ubmlja25hbWUgPSB1c2VyLm5pY2tuYW1lO1xuICAgIHJlcS5zZXNzaW9uLnJvbGUgPSB1c2VyLnJvbGU7XG4gICAgcmVxLnNlc3Npb24uY3NyZlRva2VuID0gcHJvY2Vzcy5lbnYuSldUX1NFQ1JFVDsgLy8gQ1NSRiBwcm90ZWN0aW9uXG4gICAgcmVxLnNlc3Npb24ucmVnaXN0cmF0aW9uVGltZSA9IG5ldyBEYXRlKCkudG9JU09TdHJpbmcoKTtcbiAgICByZXEuc2Vzc2lvbi51c2VyQWdlbnQgPSByZXEuZ2V0KCdVc2VyLUFnZW50Jyk7IC8vIEFkZGl0aW9uYWwgc2VjdXJpdHkgdHJhY2tpbmdcblxuICAgIC8vIFNhdmUgc2Vzc2lvbiBiZWZvcmUgSldUIGdlbmVyYXRpb25cbiAgICBhd2FpdCBuZXcgUHJvbWlzZSgocmVzb2x2ZSwgcmVqZWN0KSA9PiB7XG4gICAgICByZXEuc2Vzc2lvbi5zYXZlKChlcnIpID0+IHtcbiAgICAgICAgaWYgKGVycikge1xuICAgICAgICAgIGNvbnNvbGUuZXJyb3IoJ+KdjCBTZXNzaW9uIHNhdmUgZXJyb3IgZHVyaW5nIHJlZ2lzdHJhdGlvbjonLCBlcnIpO1xuICAgICAgICAgIHJlamVjdChlcnIpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIGNvbnNvbGUubG9nKCfinIUgU2Vzc2lvbiBzYXZlZCBzdWNjZXNzZnVsbHkgZHVyaW5nIHJlZ2lzdHJhdGlvbiB3aXRoIHNlY3VyaXR5IGZlYXR1cmVzJyk7XG4gICAgICAgICAgcmVzb2x2ZSgpO1xuICAgICAgICB9XG4gICAgICB9KTtcbiAgICB9KTtcblxuICAgIGNvbnNvbGUubG9nKCdKV1RfU0VDUkVUIHByZXNlbnQ6JywgISFwcm9jZXNzLmVudi5KV1RfU0VDUkVUKTtcbiAgICBjb25zdCB0b2tlbiA9IGp3dC5zaWduKFxuICAgICAge1xuICAgICAgICB1c2VySWQ6IHVzZXIuX2lkLFxuICAgICAgICBuaWNrbmFtZTogdXNlci5uaWNrbmFtZSxcbiAgICAgICAgcm9sZTogdXNlci5yb2xlLFxuICAgICAgICBjc3JmVG9rZW46IHJlcS5zZXNzaW9uLmNzcmZUb2tlbixcbiAgICAgICAgc2Vzc2lvbklkOiByZXEuc2Vzc2lvbklkXG4gICAgICB9LFxuICAgICAgcHJvY2Vzcy5lbnYuSldUX1NFQ1JFVCxcbiAgICAgIHsgZXhwaXJlc0luOiAnMjRoJyB9XG4gICAgKTtcblxuICAgIGNvbnNvbGUubG9nKCdKV1QgdG9rZW4gZ2VuZXJhdGVkIHN1Y2Nlc3NmdWxseScpO1xuICAgIGxvZ2dlci5pbmZvKGBVc2VyIHJlZ2lzdGVyZWQ6ICR7dXNlci5uaWNrbmFtZX1gKTtcblxuICAgIHJlcy5zdGF0dXMoMjAxKS5qc29uKHtcbiAgICAgIHRva2VuLCAvLyBKV1QgZm9yIEFQSSBjYWxscyBhbmQgV2ViU29ja2V0c1xuICAgICAgdXNlcjoge1xuICAgICAgICBpZDogdXNlci5faWQsXG4gICAgICAgIG5pY2tuYW1lOiB1c2VyLm5pY2tuYW1lLFxuICAgICAgICBlbWFpbDogdXNlci5lbWFpbCxcbiAgICAgICAgcm9sZTogdXNlci5yb2xlXG4gICAgICB9LFxuICAgICAgc2Vzc2lvbjoge1xuICAgICAgICBhdXRoZW50aWNhdGVkOiB0cnVlLFxuICAgICAgICBpZDogcmVxLnNlc3Npb25JZCxcbiAgICAgICAgZXhwaXJlczogcmVxLnNlc3Npb24uY29va2llLmV4cGlyZXNcbiAgICAgIH1cbiAgICB9KTtcbiAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICBsb2dnZXIuZXJyb3IoJ1JlZ2lzdHJhdGlvbiBlcnJvcjonLCBlcnJvcik7XG4gICAgcmVzLnN0YXR1cyg1MDApLmpzb24oeyBlcnJvcjogJ1NlcnZlciBlcnJvciBkdXJpbmcgcmVnaXN0cmF0aW9uJyB9KTtcbiAgfVxufSk7XG5cbi8qKlxuICogQHN3YWdnZXJcbiAqIC9hcGkvY2hhbm5lbHM6XG4gKiAgIGdldDpcbiAqICAgICB0YWdzOlxuICogICAgICAgLSBDaGFubmVsc1xuICogICAgIHN1bW1hcnk6IEdldCBsaXN0IG9mIGNoYW5uZWxzXG4gKiAgICAgZGVzY3JpcHRpb246IFJldHJpZXZlcyBhIGxpc3Qgb2YgYWxsIGF2YWlsYWJsZSBjaGFubmVsc1xuICogICAgIHNlY3VyaXR5OlxuICogICAgICAgLSBiZWFyZXJBdXRoOiBbXVxuICogICAgIHJlc3BvbnNlczpcbiAqICAgICAgIDIwMDpcbiAqICAgICAgICAgZGVzY3JpcHRpb246IExpc3Qgb2YgY2hhbm5lbHNcbiAqICAgICAgICAgY29udGVudDpcbiAqICAgICAgICAgICBhcHBsaWNhdGlvbi9qc29uOlxuICogICAgICAgICAgICAgc2NoZW1hOlxuICogICAgICAgICAgICAgICB0eXBlOiBhcnJheVxuICogICAgICAgICAgICAgICBpdGVtczpcbiAqICAgICAgICAgICAgICAgICAkcmVmOiAnIy9jb21wb25lbnRzL3NjaGVtYXMvQ2hhbm5lbCdcbiAqICAgICAgICAgICAgIGV4YW1wbGU6XG4gKiAgICAgICAgICAgICAgIC0gaWQ6IFwiZ2VuZXJhbFwiXG4gKiAgICAgICAgICAgICAgICAgbmFtZTogXCJHZW5lcmFsXCJcbiAqICAgICAgICAgICAgICAgICB0eXBlOiBcInRleHRcIlxuICogICAgICAgICAgICAgICAgIGRlc2NyaXB0aW9uOiBcIlwiXG4gKiAgICAgICAgICAgICAgICAgY3JlYXRlZEJ5OiBcInN5c3RlbVwiXG4gKiAgICAgICAgICAgICAgICAgcG9zaXRpb246IDBcbiAqICAgICAgIDQwMTpcbiAqICAgICAgICAgZGVzY3JpcHRpb246IFVuYXV0aG9yaXplZFxuICogICAgICAgICBjb250ZW50OlxuICogICAgICAgICAgIGFwcGxpY2F0aW9uL2pzb246XG4gKiAgICAgICAgICAgICBzY2hlbWE6XG4gKiAgICAgICAgICAgICAgICRyZWY6ICcjL2NvbXBvbmVudHMvc2NoZW1hcy9FcnJvclJlc3BvbnNlJ1xuICogICAgICAgICAgICAgZXhhbXBsZTpcbiAqICAgICAgICAgICAgICAgZXJyb3I6IFwiQWNjZXNzIHRva2VuIHJlcXVpcmVkXCJcbiAqICAgICAgIDUwMDpcbiAqICAgICAgICAgZGVzY3JpcHRpb246IEludGVybmFsIHNlcnZlciBlcnJvclxuICovXG5jb25zb2xlLmxvZygn8J+UpyBHRVQgL2FwaS9jaGFubmVscyByb3V0ZSByZWdpc3RlcmVkIGF0IHN0YXJ0dXAnKTtcbmFwcC5nZXQoJy9hcGkvY2hhbm5lbHMnLCBhdXRoZW50aWNhdGVUb2tlbiwgYXBpUmF0ZUxpbWl0ZXIsIGFzeW5jIChyZXEsIHJlcykgPT4ge1xuICBjb25zb2xlLmxvZygn8J+agCBHRVQgL2FwaS9jaGFubmVscyBlbmRwb2ludCBjYWxsZWQnLCB7IG1ldGhvZDogcmVxLm1ldGhvZCwgdXJsOiByZXEudXJsLCBoZWFkZXJzOiByZXEuaGVhZGVycy5hdXRob3JpemF0aW9uID8gJ2F1dGggaGVhZGVyIHByZXNlbnQnIDogJ25vIGF1dGggaGVhZGVyJyB9KTtcbiAgdHJ5IHtcbiAgICBjb25zdCBjaGFubmVscyA9IGF3YWl0IENoYW5uZWwuZmluZCh7fSlcbiAgICAgIC5zZWxlY3QoJy1faWQgaWQgbmFtZSB0eXBlIGRlc2NyaXB0aW9uIGNyZWF0ZWRCeSBwb3NpdGlvbicpXG4gICAgICAuc29ydCh7IHBvc2l0aW9uOiAxIH0pO1xuXG4gICAgbG9nZ2VyLmluZm8oYENoYW5uZWxzIGxpc3QgcmVxdWVzdGVkIGJ5ICR7cmVxLnVzZXIubmlja25hbWV9YCwge1xuICAgICAgdXNlcklkOiByZXEudXNlci5faWQsXG4gICAgICBjaGFubmVsQ291bnQ6IGNoYW5uZWxzLmxlbmd0aFxuICAgIH0pO1xuXG4gICAgY29uc29sZS5sb2coJ/Cfk6QgUmV0dXJuaW5nIGNoYW5uZWxzIGRhdGE6JywgY2hhbm5lbHMubGVuZ3RoKTtcbiAgICByZXMuanNvbihjaGFubmVscyk7XG4gIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgbG9nZ2VyLmVycm9yKCdFcnJvciBmZXRjaGluZyBjaGFubmVsczonLCBlcnJvcik7XG4gICAgY29uc29sZS5lcnJvcign4p2MIEVycm9yIGluIEdFVCAvYXBpL2NoYW5uZWxzOicsIGVycm9yLm1lc3NhZ2UpO1xuICAgIHJlcy5zdGF0dXMoNTAwKS5qc29uKHsgZXJyb3I6ICdGYWlsZWQgdG8gZmV0Y2ggY2hhbm5lbHMnLCBjb2RlOiAnREFUQUJBU0VfRVJST1InIH0pO1xuICB9XG59KTtcblxuY29uc29sZS5sb2coJ/CflKcgUE9TVCAvYXBpL2NoYW5uZWxzIHJvdXRlIHJlZ2lzdGVyZWQgYXQgc3RhcnR1cCcpO1xuXG4vKipcbiAqIEBzd2FnZ2VyXG4gKiAvYXBpL2NoYW5uZWxzOlxuICogICBwb3N0OlxuICogICAgIHRhZ3M6XG4gKiAgICAgICAtIENoYW5uZWxzXG4gKiAgICAgc3VtbWFyeTogQ3JlYXRlIGEgbmV3IGNoYW5uZWxcbiAqICAgICBkZXNjcmlwdGlvbjogQ3JlYXRlcyBhIG5ldyB0ZXh0IG9yIHZvaWNlIGNoYW5uZWxcbiAqICAgICBzZWN1cml0eTpcbiAqICAgICAgIC0gYmVhcmVyQXV0aDogW11cbiAqICAgICByZXF1ZXN0Qm9keTpcbiAqICAgICAgIHJlcXVpcmVkOiB0cnVlXG4gKiAgICAgICBjb250ZW50OlxuICogICAgICAgICBhcHBsaWNhdGlvbi9qc29uOlxuICogICAgICAgICAgIHNjaGVtYTpcbiAqICAgICAgICAgICAgICRyZWY6ICcjL2NvbXBvbmVudHMvc2NoZW1hcy9DaGFubmVsUmVxdWVzdCdcbiAqICAgICAgICAgICBleGFtcGxlOlxuICogICAgICAgICAgICAgbmFtZTogXCJOZXdDaGFubmVsXCJcbiAqICAgICAgICAgICAgIHR5cGU6IFwidGV4dFwiXG4gKiAgICAgICAgICAgICBkZXNjcmlwdGlvbjogXCJEZXNjcmlwdGlvbiBvZiB0aGUgbmV3IGNoYW5uZWxcIlxuICogICAgIHJlc3BvbnNlczpcbiAqICAgICAgIDIwMTpcbiAqICAgICAgICAgZGVzY3JpcHRpb246IENoYW5uZWwgY3JlYXRlZCBzdWNjZXNzZnVsbHlcbiAqICAgICAgICAgY29udGVudDpcbiAqICAgICAgICAgICBhcHBsaWNhdGlvbi9qc29uOlxuICogICAgICAgICAgICAgc2NoZW1hOlxuICogICAgICAgICAgICAgICAkcmVmOiAnIy9jb21wb25lbnRzL3NjaGVtYXMvQ2hhbm5lbCdcbiAqICAgICAgICAgICAgIGV4YW1wbGU6XG4gKiAgICAgICAgICAgICAgIGlkOiBcIm5ld2NoYW5uZWxcIlxuICogICAgICAgICAgICAgICBuYW1lOiBcIk5ld0NoYW5uZWxcIlxuICogICAgICAgICAgICAgICB0eXBlOiBcInRleHRcIlxuICogICAgICAgICAgICAgICBkZXNjcmlwdGlvbjogXCJEZXNjcmlwdGlvbiBvZiB0aGUgbmV3IGNoYW5uZWxcIlxuICogICAgICAgICAgICAgICBjcmVhdGVkQnk6IFwiam9obl9kb2VcIlxuICogICAgICAgICAgICAgICBwb3NpdGlvbjogMTBcbiAqICAgICAgIDQwMDpcbiAqICAgICAgICAgZGVzY3JpcHRpb246IEludmFsaWQgcmVxdWVzdCBkYXRhXG4gKiAgICAgICAgIGNvbnRlbnQ6XG4gKiAgICAgICAgICAgYXBwbGljYXRpb24vanNvbjpcbiAqICAgICAgICAgICAgIHNjaGVtYTpcbiAqICAgICAgICAgICAgICAgJHJlZjogJyMvY29tcG9uZW50cy9zY2hlbWFzL0Vycm9yUmVzcG9uc2UnXG4gKiAgICAgICA0MDE6XG4gKiAgICAgICAgIGRlc2NyaXB0aW9uOiBVbmF1dGhvcml6ZWRcbiAqICAgICAgIDQwOTpcbiAqICAgICAgICAgZGVzY3JpcHRpb246IENoYW5uZWwgbmFtZSBhbHJlYWR5IGV4aXN0c1xuICogICAgICAgNTAwOlxuICogICAgICAgICBkZXNjcmlwdGlvbjogU2VydmVyIGVycm9yXG4gKi9cbmFwcC5wb3N0KCcvYXBpL2NoYW5uZWxzJywgYXV0aGVudGljYXRlVG9rZW4sIGFwaVJhdGVMaW1pdGVyLCBbXG4gIGJvZHkoJ25hbWUnKS5pc0xlbmd0aCh7IG1pbjogMSwgbWF4OiAxMDAgfSkudHJpbSgpLmVzY2FwZSgpLFxuICBib2R5KCd0eXBlJykuaXNJbihbJ3RleHQnLCAndm9pY2UnXSkudHJpbSgpLFxuICBib2R5KCdkZXNjcmlwdGlvbicpLm9wdGlvbmFsKCkuaXNMZW5ndGgoeyBtYXg6IDUwMCB9KS50cmltKClcbl0sIGFzeW5jIChyZXEsIHJlcykgPT4ge1xuICB0cnkge1xuICAgIGNvbnN0IGVycm9ycyA9IHZhbGlkYXRpb25SZXN1bHQocmVxKTtcbiAgICBpZiAoIWVycm9ycy5pc0VtcHR5KCkpIHtcbiAgICAgIHJldHVybiByZXMuc3RhdHVzKDQwMCkuanNvbih7IGVycm9yczogZXJyb3JzLmFycmF5KCkgfSk7XG4gICAgfVxuXG4gICAgY29uc3QgeyBuYW1lLCB0eXBlLCBkZXNjcmlwdGlvbiB9ID0gcmVxLmJvZHk7XG4gICAgY29uc3QgY3JlYXRlZEJ5ID0gcmVxLnVzZXIubmlja25hbWU7XG5cbiAgICAvLyBDcmVhdGUgbmV3IGNoYW5uZWwgKElEIHdpbGwgYmUgYXV0by1nZW5lcmF0ZWQgaW4gcHJlLXNhdmUgbWlkZGxld2FyZSlcbiAgICBjb25zdCBjaGFubmVsID0gbmV3IENoYW5uZWwoe1xuICAgICAgbmFtZSxcbiAgICAgIHR5cGUsXG4gICAgICBkZXNjcmlwdGlvbixcbiAgICAgIGNyZWF0ZWRCeVxuICAgIH0pO1xuXG4gICAgYXdhaXQgY2hhbm5lbC5zYXZlKCk7XG5cbiAgICBsb2dnZXIuaW5mbyhgQ2hhbm5lbCAnJHtuYW1lfScgY3JlYXRlZCBieSAke2NyZWF0ZWRCeX1gLCB7XG4gICAgICBjaGFubmVsSWQ6IGNoYW5uZWwuaWQsXG4gICAgICB0eXBlLFxuICAgICAgdXNlcklkOiByZXEudXNlci5faWRcbiAgICB9KTtcblxuICAgIHJlcy5zdGF0dXMoMjAxKS5qc29uKHtcbiAgICAgIGlkOiBjaGFubmVsLmlkLFxuICAgICAgbmFtZTogY2hhbm5lbC5uYW1lLFxuICAgICAgdHlwZTogY2hhbm5lbC50eXBlLFxuICAgICAgZGVzY3JpcHRpb246IGNoYW5uZWwuZGVzY3JpcHRpb24sXG4gICAgICBjcmVhdGVkQnk6IGNoYW5uZWwuY3JlYXRlZEJ5LFxuICAgICAgcG9zaXRpb246IGNoYW5uZWwucG9zaXRpb25cbiAgICB9KTtcblxuICB9IGNhdGNoIChlcnJvcikge1xuICAgIGxvZ2dlci5lcnJvcignRXJyb3IgY3JlYXRpbmcgY2hhbm5lbDonLCBlcnJvcik7XG5cbiAgICBpZiAoZXJyb3IubmFtZSA9PT0gJ1ZhbGlkYXRpb25FcnJvcicpIHtcbiAgICAgIHJldHVybiByZXMuc3RhdHVzKDQwMCkuanNvbih7XG4gICAgICAgIGVycm9yOiAnSW52YWxpZCBjaGFubmVsIGRhdGEnLFxuICAgICAgICBkZXRhaWxzOiBlcnJvci5tZXNzYWdlXG4gICAgICB9KTtcbiAgICB9XG5cbiAgICBpZiAoZXJyb3IuY29kZSA9PT0gMTEwMDApIHtcbiAgICAgIHJldHVybiByZXMuc3RhdHVzKDQwOSkuanNvbih7XG4gICAgICAgIGVycm9yOiAnQ2hhbm5lbCBuYW1lIGFscmVhZHkgZXhpc3RzJyxcbiAgICAgICAgY29kZTogJ0RVUExJQ0FURV9DSEFOTkVMJ1xuICAgICAgfSk7XG4gICAgfVxuXG4gICAgcmVzLnN0YXR1cyg1MDApLmpzb24oe1xuICAgICAgZXJyb3I6ICdGYWlsZWQgdG8gY3JlYXRlIGNoYW5uZWwnLFxuICAgICAgY29kZTogJ0RBVEFCQVNFX0VSUk9SJ1xuICAgIH0pO1xuICB9XG59KTtcblxuY29uc29sZS5sb2coJ/CflKcgUE9TVCAvYXBpL2xvZ291dCByb3V0ZSByZWdpc3RlcmVkIGF0IHN0YXJ0dXAnKTtcbmFwcC5wb3N0KCcvYXBpL2xvZ291dCcsIGF1dGhlbnRpY2F0ZVRva2VuLCBhcGlSYXRlTGltaXRlciwgYXN5bmMgKHJlcSwgcmVzKSA9PiB7XG4gIHRyeSB7XG4gICAgY29uc29sZS5sb2coJ/CfmqogTG9nb3V0IHJlcXVlc3QgZnJvbSB1c2VyOicsIHJlcS51c2VyLm5pY2tuYW1lLCB7IHVzZXJJZDogcmVxLnVzZXIuX2lkIH0pO1xuXG4gICAgLy8gRGlzY29ubmVjdCBhbGwgU29ja2V0LklPIGNvbm5lY3Rpb25zIGZvciB0aGlzIHVzZXJcbiAgICBjb25zdCBzb2NrZXRzID0gb25saW5lVXNlcnM7XG4gICAgbGV0IGRpc2Nvbm5lY3RlZENvdW50ID0gMDtcbiAgICBmb3IgKGNvbnN0IFtzb2NrZXRJZCwgc29ja2V0RGF0YV0gb2Ygc29ja2V0cy5lbnRyaWVzKCkpIHtcbiAgICAgIGlmIChzb2NrZXREYXRhLnVzZXJJZCA9PT0gcmVxLnVzZXIuX2lkLnRvU3RyaW5nKCkpIHtcbiAgICAgICAgY29uc3Qgc29ja2V0ID0gaW8uc29ja2V0cy5zb2NrZXRzLmdldChzb2NrZXRJZCk7XG4gICAgICAgIGlmIChzb2NrZXQpIHtcbiAgICAgICAgICBzb2NrZXQuZGlzY29ubmVjdCgpO1xuICAgICAgICAgIGRpc2Nvbm5lY3RlZENvdW50Kys7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG5cbiAgICAvLyBVcGRhdGUgdXNlciBzdGF0dXMgdG8gb2ZmbGluZVxuICAgIGF3YWl0IFVzZXIuZmluZEJ5SWRBbmRVcGRhdGUocmVxLnVzZXIuX2lkLCB7XG4gICAgICBzdGF0dXM6ICdvZmZsaW5lJyxcbiAgICAgIGxhc3RBY3RpdmU6IG5ldyBEYXRlKClcbiAgICB9KTtcblxuICAgIGNvbnNvbGUubG9nKGDinIUgVXNlciAke3JlcS51c2VyLm5pY2tuYW1lfSBsb2dnZWQgb3V0IHN1Y2Nlc3NmdWxseSwgJHtkaXNjb25uZWN0ZWRDb3VudH0gY29ubmVjdGlvbnMgZGlzY29ubmVjdGVkYCk7XG4gICAgbG9nZ2VyLmluZm8oYFVzZXIgbG9nZ2VkIG91dDogJHtyZXEudXNlci5uaWNrbmFtZX1gLCB7XG4gICAgICB1c2VySWQ6IHJlcS51c2VyLl9pZCxcbiAgICAgIGRpc2Nvbm5lY3RlZFNvY2tldHM6IGRpc2Nvbm5lY3RlZENvdW50XG4gICAgfSk7XG5cbiAgICByZXMuanNvbih7XG4gICAgICBzdWNjZXNzOiB0cnVlLFxuICAgICAgbWVzc2FnZTogJ0xvZ2dlZCBvdXQgc3VjY2Vzc2Z1bGx5JyxcbiAgICAgIGRpc2Nvbm5lY3RlZENvdW50XG4gICAgfSk7XG4gIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgbG9nZ2VyLmVycm9yKCdMb2dvdXQgZXJyb3I6JywgZXJyb3IpO1xuICAgIHJlcy5zdGF0dXMoNTAwKS5qc29uKHsgZXJyb3I6ICdTZXJ2ZXIgZXJyb3IgZHVyaW5nIGxvZ291dCcgfSk7XG4gIH1cbn0pO1xuXG4vKipcbiAqIFNlc3Npb24gbG9nb3V0IGVuZHBvaW50IC0gZGVzdHJveXMgc2Vzc2lvblxuICogVGhpcyBjb21wbGVtZW50cyBKV1QgbG9nb3V0IHRvIGhhbmRsZSBzZXNzaW9uLWJhc2VkIGF1dGhlbnRpY2F0aW9uXG4gKi9cbmFwcC5wb3N0KCcvYXBpL2xvZ291dF9zZXNzaW9uJywgYXBpUmF0ZUxpbWl0ZXIsIGFzeW5jIChyZXEsIHJlcykgPT4ge1xuICB0cnkge1xuICAgIGNvbnNvbGUubG9nKCfwn5qqIFNlc3Npb24gbG9nb3V0IHJlcXVlc3QsIHNlc3Npb25JZDonLCByZXEuc2Vzc2lvbklkKTtcblxuICAgIC8vIENoZWNrIGlmIHRoZXJlJ3MgYW4gYXV0aGVudGljYXRlZCBzZXNzaW9uIG9yIEpXVCB1c2VyXG4gICAgY29uc3QgaGFzSnd0QXV0aCA9ICEhcmVxLnVzZXI7IC8vIEZyb20gSldUIG1pZGRsZXdhcmVcbiAgICBjb25zdCBoYXNTZXNzaW9uQXV0aCA9IHJlcS5zZXNzaW9uVXNlciB8fCAocmVxLnNlc3Npb24gJiYgcmVxLnNlc3Npb24uYXV0aGVudGljYXRlZCk7XG4gICAgY29uc3Qgc2Vzc2lvblVzZXJJZCA9IHJlcS5zZXNzaW9uICYmIHJlcS5zZXNzaW9uLnVzZXJJZDtcblxuICAgIGNvbnNvbGUubG9nKCfwn6SUIFNlc3Npb24gbG9nb3V0IGNoZWNrOicsIHtcbiAgICAgIGhhc0p3dEF1dGgsXG4gICAgICBoYXNTZXNzaW9uQXV0aCxcbiAgICAgIHNlc3Npb25Vc2VySWQsXG4gICAgICBzZXNzaW9uSWQ6IHJlcS5zZXNzaW9uSWRcbiAgICB9KTtcblxuICAgIGlmIChoYXNTZXNzaW9uQXV0aCkge1xuICAgICAgY29uc3Qgc2Vzc2lvblVzZXIgPSBzZXNzaW9uVXNlcklkID8gYXdhaXQgVXNlci5maW5kQnlJZChzZXNzaW9uVXNlcklkKSA6IG51bGw7XG4gICAgICBjb25zdCBuaWNrbmFtZSA9IHNlc3Npb25Vc2VyID8gc2Vzc2lvblVzZXIubmlja25hbWUgOiAndW5rbm93bic7XG5cbiAgICAgIGNvbnNvbGUubG9nKCfinIUgU2Vzc2lvbiBsb2dvdXQ6IERlc3Ryb3lpbmcgc2Vzc2lvbiBmb3IgdXNlcjonLCBuaWNrbmFtZSk7XG5cbiAgICAgIC8vIERpc2Nvbm5lY3QgU29ja2V0LklPIGNvbm5lY3Rpb25zIGZvciB0aGlzIHNlc3Npb24gdXNlclxuICAgICAgaWYgKHNlc3Npb25Vc2VySWQpIHtcbiAgICAgICAgY29uc3Qgc29ja2V0cyA9IG9ubGluZVVzZXJzO1xuICAgICAgICBsZXQgZGlzY29ubmVjdGVkQ291bnQgPSAwO1xuICAgICAgICBmb3IgKGNvbnN0IFtzb2NrZXRJZCwgc29ja2V0RGF0YV0gb2Ygc29ja2V0cy5lbnRyaWVzKCkpIHtcbiAgICAgICAgICBpZiAoc29ja2V0RGF0YS51c2VySWQgPT09IHNlc3Npb25Vc2VySWQpIHtcbiAgICAgICAgICAgIGNvbnN0IHNvY2tldCA9IGlvLnNvY2tldHMuc29ja2V0cy5nZXQoc29ja2V0SWQpO1xuICAgICAgICAgICAgaWYgKHNvY2tldCkge1xuICAgICAgICAgICAgICBzb2NrZXQuZGlzY29ubmVjdCgpO1xuICAgICAgICAgICAgICBkaXNjb25uZWN0ZWRDb3VudCsrO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIGNvbnNvbGUubG9nKGDwn5eR77iPIFNlc3Npb24gbG9nb3V0OiBEaXNjb25uZWN0ZWQgJHtkaXNjb25uZWN0ZWRDb3VudH0gc29ja2V0IGNvbm5lY3Rpb25zYCk7XG4gICAgICB9XG5cbiAgICAgIC8vIERlc3Ryb3kgdGhlIHNlc3Npb25cbiAgICAgIGF3YWl0IG5ldyBQcm9taXNlKChyZXNvbHZlLCByZWplY3QpID0+IHtcbiAgICAgICAgcmVxLnNlc3Npb24uZGVzdHJveSgoZXJyKSA9PiB7XG4gICAgICAgICAgaWYgKGVycikge1xuICAgICAgICAgICAgY29uc29sZS5lcnJvcign4p2MIFNlc3Npb24gZGVzdHJveSBlcnJvcjonLCBlcnIpO1xuICAgICAgICAgICAgcmVqZWN0KGVycik7XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKCfinIUgU2Vzc2lvbiBkZXN0cm95ZWQgc3VjY2Vzc2Z1bGx5Jyk7XG4gICAgICAgICAgICByZXNvbHZlKCk7XG4gICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICAgIH0pO1xuXG4gICAgICBsb2dnZXIuaW5mbyhgU2Vzc2lvbiBsb2dnZWQgb3V0OiAke25pY2tuYW1lfWAsIHtcbiAgICAgICAgc2Vzc2lvbklkOiByZXEuc2Vzc2lvbklkLFxuICAgICAgICBpcDogcmVxLmlwXG4gICAgICB9KTtcblxuICAgICAgcmVzLmpzb24oe1xuICAgICAgICBzdWNjZXNzOiB0cnVlLFxuICAgICAgICBtZXNzYWdlOiAnU2Vzc2lvbiBsb2dnZWQgb3V0IHN1Y2Nlc3NmdWxseScsXG4gICAgICAgIHR5cGU6ICdzZXNzaW9uX2xvZ291dCcsXG4gICAgICAgIHNlc3Npb25EZXN0cm95ZWQ6IHRydWVcbiAgICAgIH0pO1xuICAgIH0gZWxzZSB7XG4gICAgICBjb25zb2xlLmxvZygn4pqg77iPIFNlc3Npb24gbG9nb3V0OiBObyBhdXRoZW50aWNhdGVkIHNlc3Npb24gdG8gZGVzdHJveScpO1xuICAgICAgcmVzLmpzb24oe1xuICAgICAgICBzdWNjZXNzOiB0cnVlLFxuICAgICAgICBtZXNzYWdlOiAnTm8gYWN0aXZlIHNlc3Npb24gdG8gbG9nIG91dCcsXG4gICAgICAgIHR5cGU6ICdzZXNzaW9uX2xvZ291dCcsXG4gICAgICAgIHNlc3Npb25EZXN0cm95ZWQ6IGZhbHNlXG4gICAgICB9KTtcbiAgICB9XG5cbiAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICBsb2dnZXIuZXJyb3IoJ1Nlc3Npb24gbG9nb3V0IGVycm9yOicsIGVycm9yKTtcbiAgICByZXMuc3RhdHVzKDUwMCkuanNvbih7XG4gICAgICBlcnJvcjogJ1NlcnZlciBlcnJvciBkdXJpbmcgc2Vzc2lvbiBsb2dvdXQnLFxuICAgICAgY29kZTogJ1NFU1NJT05fTE9HT1VUX0VSUk9SJ1xuICAgIH0pO1xuICB9XG59KTtcblxuLy8gSHlicmlkIGxvZ291dCBlbmRwb2ludCAtIGhhbmRsZXMgYm90aCBKV1QgYW5kIHNlc3Npb24gbG9nb3V0XG5hcHAucG9zdCgnL2FwaS9sb2dvdXRfY29tcGxldGUnLCBhcGlSYXRlTGltaXRlciwgYXN5bmMgKHJlcSwgcmVzKSA9PiB7XG4gIHRyeSB7XG4gICAgY29uc29sZS5sb2coJ/CfmqogQ29tcGxldGUgbG9nb3V0IHJlcXVlc3QgKEpXVCArIFNlc3Npb24pLCBzZXNzaW9uSWQ6JywgcmVxLnNlc3Npb25JZCk7XG5cbiAgICBjb25zdCBoYXNKd3RBdXRoID0gISFyZXEudXNlcjtcbiAgICBjb25zdCBoYXNTZXNzaW9uQXV0aCA9IHJlcS5zZXNzaW9uVXNlciB8fCAocmVxLnNlc3Npb24gJiYgcmVxLnNlc3Npb24uYXV0aGVudGljYXRlZCk7XG4gICAgY29uc3Qgc2Vzc2lvblVzZXJJZCA9IHJlcS5zZXNzaW9uICYmIHJlcS5zZXNzaW9uLnVzZXJJZDtcblxuICAgIGxldCBqd3RMb2dvdXRSZXN1bHQgPSBudWxsO1xuICAgIGxldCBzZXNzaW9uTG9nb3V0UmVzdWx0ID0gbnVsbDtcblxuICAgIC8vIEhhbmRsZSBKV1QgbG9nb3V0IGlmIEpXVCBpcyBwcm92aWRlZFxuICAgIGlmIChoYXNKd3RBdXRoKSB7XG4gICAgICB0cnkge1xuICAgICAgICBjb25zdCBzb2NrZXRzID0gb25saW5lVXNlcnM7XG4gICAgICAgIGxldCBkaXNjb25uZWN0ZWRDb3VudCA9IDA7XG4gICAgICAgIGZvciAoY29uc3QgW3NvY2tldElkLCBzb2NrZXREYXRhXSBvZiBzb2NrZXRzLmVudHJpZXMoKSkge1xuICAgICAgICAgIGlmIChzb2NrZXREYXRhLnVzZXJJZCA9PT0gcmVxLnVzZXIuX2lkLnRvU3RyaW5nKCkpIHtcbiAgICAgICAgICAgIGNvbnN0IHNvY2tldCA9IGlvLnNvY2tldHMuc29ja2V0cy5nZXQoc29ja2V0SWQpO1xuICAgICAgICAgICAgaWYgKHNvY2tldCkge1xuICAgICAgICAgICAgICBzb2NrZXQuZGlzY29ubmVjdCgpO1xuICAgICAgICAgICAgICBkaXNjb25uZWN0ZWRDb3VudCsrO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIGF3YWl0IFVzZXIuZmluZEJ5SWRBbmRVcGRhdGUocmVxLnVzZXIuX2lkLCB7XG4gICAgICAgICAgc3RhdHVzOiAnb2ZmbGluZScsXG4gICAgICAgICAgbGFzdEFjdGl2ZTogbmV3IERhdGUoKVxuICAgICAgICB9KTtcblxuICAgICAgICBqd3RMb2dvdXRSZXN1bHQgPSB7XG4gICAgICAgICAgc3VjY2VzczogdHJ1ZSxcbiAgICAgICAgICBkaXNjb25uZWN0ZWRDb3VudFxuICAgICAgICB9O1xuICAgICAgfSBjYXRjaCAoand0RXJyb3IpIHtcbiAgICAgICAgand0TG9nb3V0UmVzdWx0ID0ge1xuICAgICAgICAgIHN1Y2Nlc3M6IGZhbHNlLFxuICAgICAgICAgIGVycm9yOiBqd3RFcnJvci5tZXNzYWdlXG4gICAgICAgIH07XG4gICAgICB9XG4gICAgfVxuXG4gICAgLy8gSGFuZGxlIHNlc3Npb24gbG9nb3V0IGlmIHNlc3Npb24gZXhpc3RzXG4gICAgaWYgKGhhc1Nlc3Npb25BdXRoKSB7XG4gICAgICB0cnkge1xuICAgICAgICBpZiAoc2Vzc2lvblVzZXJJZCkge1xuICAgICAgICAgIGNvbnN0IHNlc3Npb25Vc2VyID0gYXdhaXQgVXNlci5maW5kQnlJZChzZXNzaW9uVXNlcklkKTtcbiAgICAgICAgICBjb25zb2xlLmxvZygn4pyFIFNlc3Npb24gbG9nb3V0OiBEZXN0cm95aW5nIHNlc3Npb24gZm9yIHVzZXI6Jywgc2Vzc2lvblVzZXIgPyBzZXNzaW9uVXNlci5uaWNrbmFtZSA6ICd1bmtub3duJyk7XG5cbiAgICAgICAgICAvLyBEaXNjb25uZWN0IFNvY2tldC5JTyBjb25uZWN0aW9ucyBmb3IgdGhpcyBzZXNzaW9uIHVzZXJcbiAgICAgICAgICBjb25zdCBzb2NrZXRzID0gb25saW5lVXNlcnM7XG4gICAgICAgICAgbGV0IGRpc2Nvbm5lY3RlZENvdW50ID0gMDtcbiAgICAgICAgICBmb3IgKGNvbnN0IFtzb2NrZXRJZCwgc29ja2V0RGF0YV0gb2Ygc29ja2V0cy5lbnRyaWVzKCkpIHtcbiAgICAgICAgICAgIGlmIChzb2NrZXREYXRhLnVzZXJJZCA9PT0gc2Vzc2lvblVzZXJJZCkge1xuICAgICAgICAgICAgICBjb25zdCBzb2NrZXQgPSBpby5zb2NrZXRzLnNvY2tldHMuZ2V0KHNvY2tldElkKTtcbiAgICAgICAgICAgICAgaWYgKHNvY2tldCkge1xuICAgICAgICAgICAgICAgIHNvY2tldC5kaXNjb25uZWN0KCk7XG4gICAgICAgICAgICAgICAgZGlzY29ubmVjdGVkQ291bnQrKztcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgICBjb25zb2xlLmxvZyhg8J+Xke+4jyBTZXNzaW9uIGxvZ291dDogRGlzY29ubmVjdGVkICR7ZGlzY29ubmVjdGVkQ291bnR9IHNvY2tldCBjb25uZWN0aW9uc2ApO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gRGVzdHJveSB0aGUgc2Vzc2lvblxuICAgICAgICBhd2FpdCBuZXcgUHJvbWlzZSgocmVzb2x2ZSwgcmVqZWN0KSA9PiB7XG4gICAgICAgICAgcmVxLnNlc3Npb24uZGVzdHJveSgoZXJyKSA9PiB7XG4gICAgICAgICAgICBpZiAoZXJyKSB7XG4gICAgICAgICAgICAgIHJlamVjdChlcnIpO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgcmVzb2x2ZSgpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH0pO1xuICAgICAgICB9KTtcblxuICAgICAgICBzZXNzaW9uTG9nb3V0UmVzdWx0ID0ge1xuICAgICAgICAgIHN1Y2Nlc3M6IHRydWUsXG4gICAgICAgICAgc2Vzc2lvbkRlc3Ryb3llZDogdHJ1ZVxuICAgICAgICB9O1xuICAgICAgfSBjYXRjaCAoc2Vzc2lvbkVycm9yKSB7XG4gICAgICAgIHNlc3Npb25Mb2dvdXRSZXN1bHQgPSB7XG4gICAgICAgICAgc3VjY2VzczogZmFsc2UsXG4gICAgICAgICAgZXJyb3I6IHNlc3Npb25FcnJvci5tZXNzYWdlXG4gICAgICAgIH07XG4gICAgICB9XG4gICAgfVxuXG4gICAgY29uc3Qgb3ZlcmFsbFN1Y2Nlc3MgPSAoIWp3dExvZ291dFJlc3VsdCB8fCBqd3RMb2dvdXRSZXN1bHQuc3VjY2VzcykgJiZcbiAgICAgICAgICAgICAgICAgICAgICAgICAgKCFzZXNzaW9uTG9nb3V0UmVzdWx0IHx8IHNlc3Npb25Mb2dvdXRSZXN1bHQuc3VjY2Vzcyk7XG5cbiAgICByZXMuanNvbih7XG4gICAgICBzdWNjZXNzOiBvdmVyYWxsU3VjY2VzcyxcbiAgICAgIG1lc3NhZ2U6ICdDb21wbGV0ZSBsb2dvdXQgcHJvY2Vzc2VkJyxcbiAgICAgIHR5cGU6ICdjb21wbGV0ZV9sb2dvdXQnLFxuICAgICAgand0OiBqd3RMb2dvdXRSZXN1bHQsXG4gICAgICBzZXNzaW9uOiBzZXNzaW9uTG9nb3V0UmVzdWx0XG4gICAgfSk7XG5cbiAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICBsb2dnZXIuZXJyb3IoJ0NvbXBsZXRlIGxvZ291dCBlcnJvcjonLCBlcnJvcik7XG4gICAgcmVzLnN0YXR1cyg1MDApLmpzb24oe1xuICAgICAgZXJyb3I6ICdTZXJ2ZXIgZXJyb3IgZHVyaW5nIGNvbXBsZXRlIGxvZ291dCcsXG4gICAgICBjb2RlOiAnQ09NUExFVEVfTE9HT1VUX0VSUk9SJ1xuICAgIH0pO1xuICB9XG59KTtcblxuLy8gIDQwNCBoYW5kbGVyIChtdXN0IGJlIGJlZm9yZSBnbG9iYWwgZXJyb3IgaGFuZGxlcilcbmFwcC51c2UoKHJlcSwgcmVzKSA9PiB7XG4gIGNvbnNvbGUud2Fybign4p2MIEZpbmFsIDQwNCBoYW5kbGVyIGV4ZWN1dGVkIC0gcm91dGUgbm90IGZvdW5kIScsIHsgbWV0aG9kOiByZXEubWV0aG9kLCB1cmw6IHJlcS51cmwgfSk7XG4gIGxvZ2dlci53YXJuKGA0MDQgLSAke3JlcS5tZXRob2R9ICR7cmVxLnVybH1gLCB7XG4gICAgaXA6IHJlcS5pcCxcbiAgICB1c2VyQWdlbnQ6IHJlcS5nZXQoJ1VzZXItQWdlbnQnKVxuICB9KTtcblxuICByZXMuc3RhdHVzKDQwNCkuanNvbih7XG4gICAgZXJyb3I6ICdFbmRwb2ludCBub3QgZm91bmQnLFxuICAgIHBhdGg6IHJlcS51cmwsXG4gICAgbWV0aG9kOiByZXEubWV0aG9kLFxuICAgIGNvZGU6ICdOT1RfRk9VTkQnXG4gIH0pO1xufSk7XG5cbi8vIEdsb2JhbCBlcnJvciBoYW5kbGluZyBtaWRkbGV3YXJlIChtdXN0IGJlIGxhc3QpXG5hcHAudXNlKGVycm9ySGFuZGxlcik7XG5cblxuXG5cblxuXG5cblxuXG4vLyBHbG9iYWwgdXNlcnMgbWFwIGZvciBzb2NrZXQgbWFuYWdlbWVudCB7c29ja2V0SWQ6IHt1c2VySWQsIG5pY2tuYW1lLCByb29tfX1cbmxldCBvbmxpbmVVc2VycyA9IG5ldyBNYXAoKTtcblxuLy8gVXNlciBjb25uZWN0aW9uIGNvdW50ZXIge3VzZXJJZDogY29ubmVjdGlvbkNvdW50fVxubGV0IHVzZXJDb25uZWN0aW9ucyA9IG5ldyBNYXAoKTtcblxuLy8gVm9pY2UgY2hhbm5lbHMgbWFuYWdlbWVudFxuY29uc3Qgdm9pY2VDaGFubmVscyA9IG5ldyBNYXAoKTsgLy8gY2hhbm5lbElkIC0+IHsgc29ja2V0SWQ6IHsgcGVlckNvbm5lY3Rpb24sIHN0cmVhbSB9IH1cblxuLy8gRW5hYmxlIHNlc3Npb24gc3VwcG9ydCBmb3IgU29ja2V0LklPXG5pby51c2Uoc2Vzc2lvbk1pZGRsZXdhcmUpO1xuXG4vLyBTb2NrZXQuSU8gYXV0aGVudGljYXRpb24gbWlkZGxld2FyZVxuaW8udXNlKGFzeW5jIChzb2NrZXQsIG5leHQpID0+IHtcbiAgY29uc3QgeyBzZXNzaW9uSWQsIGNzcmZUb2tlbiB9ID0gc29ja2V0LmhhbmRzaGFrZS5hdXRoO1xuICBjb25zdCBzZXNzaW9uID0gc29ja2V0LnJlcXVlc3Quc2Vzc2lvbjtcblxuICBjb25zb2xlLmxvZygn8J+UkSBTb2NrZXQgYXV0aGVudGljYXRpb24gYXR0ZW1wdCB3aXRoIHNlc3Npb24gYW5kIENTUkYnKTtcblxuICAvLyBWYWxpZGF0ZSBzZXNzaW9uIGV4aXN0cyBhbmQgaGFzIGF1dGhlbnRpY2F0aW9uXG4gIGlmICghc2Vzc2lvbiB8fCAhc2Vzc2lvbi5hdXRoZW50aWNhdGVkIHx8ICFzZXNzaW9uLnVzZXJJZCkge1xuICAgIGNvbnNvbGUubG9nKCfinYwgU29ja2V0IGF1dGhlbnRpY2F0aW9uIGZhaWxlZDogTm8gYXV0aGVudGljYXRlZCBzZXNzaW9uJyk7XG4gICAgcmV0dXJuIG5leHQobmV3IEVycm9yKCdTZXNzaW9uIGF1dGhlbnRpY2F0aW9uIHJlcXVpcmVkJykpO1xuICB9XG5cbiAgLy8gVmFsaWRhdGUgQ1NSRiB0b2tlbiBmb3IgYWRkaXRpb25hbCBzZWN1cml0eSAoc2ltcGxpZmllZCBmb3Igbm93IC0gdXNlIEpXVF9TRUNSRVQpXG4gIGlmICghY3NyZlRva2VuIHx8IGNzcmZUb2tlbiAhPT0gcHJvY2Vzcy5lbnYuSldUX1NFQ1JFVCkge1xuICAgIGNvbnNvbGUubG9nKCfinYwgU29ja2V0IGF1dGhlbnRpY2F0aW9uIGZhaWxlZDogSW52YWxpZCBDU1JGIHRva2VuJyk7XG4gICAgcmV0dXJuIG5leHQobmV3IEVycm9yKCdDU1JGIHZhbGlkYXRpb24gZmFpbGVkJykpO1xuICB9XG5cbiAgdHJ5IHtcbiAgICAvLyBWZXJpZnkgdXNlciBleGlzdHMgaW4gZGF0YWJhc2VcbiAgICBjb25zdCB1c2VyID0gYXdhaXQgVXNlci5maW5kQnlJZChzZXNzaW9uLnVzZXJJZCk7XG4gICAgaWYgKCF1c2VyKSB7XG4gICAgICBjb25zb2xlLmxvZygn4p2MIFNvY2tldCBhdXRoZW50aWNhdGlvbiBmYWlsZWQ6IFVzZXIgbm90IGZvdW5kIGluIERCJyk7XG4gICAgICByZXR1cm4gbmV4dChuZXcgRXJyb3IoJ1VzZXIgbm90IGZvdW5kIGluIHNlc3Npb24nKSk7XG4gICAgfVxuXG4gICAgLy8gSGFuZGxlIHVzZXIgc3RhdHVzIHVwZGF0ZSBiYXNlZCBvbiBjb25uZWN0aW9uIGNvdW50XG4gICAgY29uc3QgdXNlcklkID0gc2Vzc2lvbi51c2VySWQ7XG4gICAgY29uc3QgY29ubmVjdGlvbkNvdW50ID0gdXNlckNvbm5lY3Rpb25zLmdldCh1c2VySWQpIHx8IDA7XG4gICAgY29uc3QgbmV3Q29ubmVjdGlvbkNvdW50ID0gY29ubmVjdGlvbkNvdW50ICsgMTtcbiAgICB1c2VyQ29ubmVjdGlvbnMuc2V0KHVzZXJJZCwgbmV3Q29ubmVjdGlvbkNvdW50KTtcblxuICAgIC8vIENoZWNrIGlmIHVzZXIgaXMgYmFubmVkXG4gICAgaWYgKHVzZXIuaXNCYW5uZWQoKSkge1xuICAgICAgY29uc29sZS5sb2coJ+KdjCBTb2NrZXQgYXV0aGVudGljYXRpb24gZmFpbGVkOiBVc2VyIGlzIGJhbm5lZCcsIHtcbiAgICAgICAgdXNlcklkOiB1c2VySWQsXG4gICAgICAgIG5pY2tuYW1lOiB1c2VyLm5pY2tuYW1lLFxuICAgICAgICBiYW5SZWFzb246IHVzZXIuYmFuUmVhc29uLFxuICAgICAgICBiYW5FeHBpcmVzOiB1c2VyLmJhbkV4cGlyZXNcbiAgICAgIH0pO1xuICAgICAgc29ja2V0LmVtaXQoJ2Jhbm5lZCcsIHtcbiAgICAgICAgcmVhc29uOiB1c2VyLmJhblJlYXNvbiB8fCAnWW91IGhhdmUgYmVlbiBiYW5uZWQgZnJvbSB0aGUgc2VydmVyJyxcbiAgICAgICAgZXhwaXJlczogdXNlci5iYW5FeHBpcmVzXG4gICAgICB9KTtcbiAgICAgIHJldHVybiBuZXh0KG5ldyBFcnJvcignVXNlciBpcyBiYW5uZWQnKSk7XG4gICAgfVxuXG4gICAgLy8gQ2hlY2sgaWYgdXNlciBpcyBtdXRlZCBhbmQgZW5mb3JjZSBtdXRlIGluIGNoYXRcbiAgICBjb25zdCBpc011dGVkID0gdXNlci5pc011dGVkKCk7XG4gICAgY29uc29sZS5sb2coJ/CflIcgVXNlciBtdXRlIHN0YXR1cyBjaGVja2VkOicsIHsgbmlja25hbWU6IHVzZXIubmlja25hbWUsIGlzTXV0ZWQsIG11dGVFeHBpcmVzOiB1c2VyLm11dGVFeHBpcmVzIH0pO1xuXG4gICAgLy8gVXBkYXRlIHVzZXIgc3RhdHVzIHdpdGggY29ubmVjdGlvbiBjb3VudCB0cmFja2luZ1xuICAgIGNvbnN0IHVwZGF0ZVJlc3VsdCA9IGF3YWl0IFVzZXIuZmluZE9uZUFuZFVwZGF0ZShcbiAgICAgIHsgX2lkOiB1c2VySWQgfSxcbiAgICAgIHtcbiAgICAgICAgJHNldDoge1xuICAgICAgICAgIHN0YXR1czogbmV3Q29ubmVjdGlvbkNvdW50ID4gMCA/ICdvbmxpbmUnIDogJ29mZmxpbmUnLFxuICAgICAgICAgIGxhc3RBY3RpdmU6IG5ldyBEYXRlKClcbiAgICAgICAgfVxuICAgICAgfSxcbiAgICAgIHtcbiAgICAgICAgbmV3OiB0cnVlLFxuICAgICAgICBydW5WYWxpZGF0b3JzOiB0cnVlXG4gICAgICB9XG4gICAgKTtcblxuICAgIGlmICh1cGRhdGVSZXN1bHQpIHtcbiAgICAgIGNvbnNvbGUubG9nKGDwn5SEIFNvY2tldCBhdXRoOiBVc2VyICR7dXNlci5uaWNrbmFtZX0gc3RhdHVzIHNldCB0byBvbmxpbmUgKGNvbm5lY3Rpb25zOiAke25ld0Nvbm5lY3Rpb25Db3VudH0pYCk7XG4gICAgICBsb2dnZXIuaW5mbyhgVXNlciBzdGF0dXMgdXBkYXRlZCB0byBvbmxpbmUgdmlhIHNvY2tldCBhdXRoYCwge1xuICAgICAgICB1c2VySWQ6IHVzZXJJZCxcbiAgICAgICAgbmlja25hbWU6IHVzZXIubmlja25hbWUsXG4gICAgICAgIGNvbm5lY3Rpb25zOiBuZXdDb25uZWN0aW9uQ291bnQsXG4gICAgICAgIHNvY2tldElkOiBzb2NrZXQuaWQsXG4gICAgICAgIHRpbWVzdGFtcDogbmV3IERhdGUoKVxuICAgICAgfSk7XG4gICAgfVxuXG4gICAgLy8gT3ZlcnJpZGUgbG9jYWwgdXNlciBvYmplY3Qgd2l0aCB1cGRhdGVkIGRhdGFcbiAgICB1c2VyLnN0YXR1cyA9IHVwZGF0ZVJlc3VsdCA/IHVwZGF0ZVJlc3VsdC5zdGF0dXMgOiAnb25saW5lJztcbiAgICB1c2VyLmxhc3RBY3RpdmUgPSB1cGRhdGVSZXN1bHQgPyB1cGRhdGVSZXN1bHQubGFzdEFjdGl2ZSA6IG5ldyBEYXRlKCk7XG5cbiAgICAvLyBTZXQgc29ja2V0IHByb3BlcnRpZXMgZm9yIGF1dGhlbnRpY2F0ZWQgdXNlclxuICAgIHNvY2tldC51c2VySWQgPSBzZXNzaW9uLnVzZXJJZDtcbiAgICBzb2NrZXQubmlja25hbWUgPSBzZXNzaW9uLm5pY2tuYW1lO1xuICAgIHNvY2tldC5yb2xlID0gc2Vzc2lvbi5yb2xlIHx8ICdtZW1iZXInO1xuICAgIGNvbnNvbGUubG9nKGDwn46JIFNvY2tldCBhdXRoZW50aWNhdGVkIHZpYSBzZXNzaW9uOiAke3NvY2tldC5uaWNrbmFtZX0gKHVzZXJJZDogJHtzb2NrZXQudXNlcklkfSlgKTtcbiAgICByZXR1cm4gbmV4dCgpO1xuXG4gIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgY29uc29sZS5lcnJvcign4p2MIFNvY2tldCBhdXRoZW50aWNhdGlvbiBlcnJvcjonLCBlcnJvci5tZXNzYWdlKTtcbiAgICBsb2dnZXIuZXJyb3IoYFNvY2tldCBhdXRoIGZhaWxlZDogJHtlcnJvci5tZXNzYWdlfWAsIHtcbiAgICAgIHNvY2tldElkOiBzb2NrZXQuaWQsXG4gICAgICBzZXNzaW9uSWQ6IHNlc3Npb24/LmlkLFxuICAgICAgaXA6IHNvY2tldC5oYW5kc2hha2UuYWRkcmVzc1xuICAgIH0pO1xuICAgIHJldHVybiBuZXh0KG5ldyBFcnJvcignU29ja2V0IGF1dGhlbnRpY2F0aW9uIGZhaWxlZCcpKTtcbiAgfVxufSk7XG5cbi8qKlxuICogQ2xlYW51cCBpbmFjdGl2ZSBjb25uZWN0aW9ucyBiYXNlZCBvbiBoZWFydGJlYXRcbiAqL1xuZnVuY3Rpb24gY2xlYW51cEluYWN0aXZlQ29ubmVjdGlvbnMoKSB7XG4gIGNvbnN0IG5vdyA9IERhdGUubm93KCk7XG4gIGNvbnN0IHRpbWVvdXQgPSA2MDAwMDsgLy8gNjAgc2Vjb25kcyB0aW1lb3V0XG5cbiAgZm9yIChjb25zdCBbc29ja2V0SWQsIHVzZXJdIG9mIG9ubGluZVVzZXJzLmVudHJpZXMoKSkge1xuICAgIGlmIChub3cgLSB1c2VyLmxhc3RIZWFydGJlYXQgPiB0aW1lb3V0KSB7XG4gICAgICBjb25zb2xlLmxvZyhg8J+nuSBDbGVhbnNpbmcgZGVhZCBjb25uZWN0aW9uIGZvciB1c2VyICR7dXNlci5uaWNrbmFtZX1gKTtcblxuICAgICAgLy8gRm9yY2UgZGlzY29ubmVjdCBzb2NrZXRcbiAgICAgIGNvbnN0IHNvY2tldCA9IGlvLnNvY2tldHMuc29ja2V0cy5nZXQoc29ja2V0SWQpO1xuICAgICAgaWYgKHNvY2tldCkge1xuICAgICAgICBzb2NrZXQuZGlzY29ubmVjdCh0cnVlKTtcbiAgICAgIH1cblxuICAgICAgLy8gVXBkYXRlIHVzZXIgY29ubmVjdGlvbnMgY291bnRcbiAgICAgIGNvbnN0IGNvbm5lY3Rpb25zTGVmdCA9ICh1c2VyQ29ubmVjdGlvbnMuZ2V0KHVzZXIudXNlcklkKSB8fCAwKSAtIDE7XG4gICAgICB1c2VyQ29ubmVjdGlvbnMuc2V0KHVzZXIudXNlcklkLCBNYXRoLm1heCgwLCBjb25uZWN0aW9uc0xlZnQpKTtcblxuICAgICAgLy8gU2V0IHN0YXR1cyB0byBvZmZsaW5lIGlmIGxhc3QgY29ubmVjdGlvblxuICAgICAgaWYgKGNvbm5lY3Rpb25zTGVmdCA8PSAwKSB7XG4gICAgICAgIFVzZXIuZmluZEJ5SWRBbmRVcGRhdGUodXNlci51c2VySWQsIHtcbiAgICAgICAgICBzdGF0dXM6ICdvZmZsaW5lJyxcbiAgICAgICAgICBsYXN0QWN0aXZlOiBuZXcgRGF0ZSgpXG4gICAgICAgIH0pLmNhdGNoKGVyciA9PiBsb2dnZXIuZXJyb3IoJ0Vycm9yIHVwZGF0aW5nIHN0YXR1cyBvbiBjbGVhbnVwOicsIGVycikpO1xuXG4gICAgICAgIGNvbnNvbGUubG9nKGDwn5SEIFVzZXIgJHt1c2VyLm5pY2tuYW1lfSBzdGF0dXMgc2V0IHRvIG9mZmxpbmUgKGRlYWQgY29ubmVjdGlvbilgKTtcbiAgICAgICAgbG9nZ2VyLmluZm8oYFVzZXIgc3RhdHVzIHNldCB0byBvZmZsaW5lIGR1ZSB0byBkZWFkIGNvbm5lY3Rpb25gLCB7XG4gICAgICAgICAgdXNlcklkOiB1c2VyLnVzZXJJZCxcbiAgICAgICAgICBuaWNrbmFtZTogdXNlci5uaWNrbmFtZSxcbiAgICAgICAgICBzb2NrZXRJZDogc29ja2V0SWRcbiAgICAgICAgfSk7XG4gICAgICB9XG5cbiAgICAgIG9ubGluZVVzZXJzLmRlbGV0ZShzb2NrZXRJZCk7XG4gICAgfVxuICB9XG59XG5cbi8vIFJ1biBjbGVhbnVwIGV2ZXJ5IDMwIHNlY29uZHMgLSBESVNBQkxFRCBmb3IgdGVzdCBlbnZpcm9ubWVudFxuaWYgKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAndGVzdCcpIHtcbiAgc2V0SW50ZXJ2YWwoY2xlYW51cEluYWN0aXZlQ29ubmVjdGlvbnMsIDMwMDAwKTtcbn1cblxuaW8ub24oJ2Nvbm5lY3Rpb24nLCBhc3luYyAoc29ja2V0KSA9PiB7XG4gIGNvbnNvbGUubG9nKCfwn5qAIFNvY2tldCBjb25uZWN0aW9uIGVzdGFibGlzaGVkJyk7XG4gIGNvbnNvbGUubG9nKGDwn5GkIFVzZXIgJHtzb2NrZXQubmlja25hbWV9IGNvbm5lY3RlZGApO1xuXG4gIC8vIFRyYWNrIG9ubGluZSB1c2VyXG4gIG9ubGluZVVzZXJzLnNldChzb2NrZXQuaWQsIHtcbiAgICB1c2VySWQ6IHNvY2tldC51c2VySWQsXG4gICAgbmlja25hbWU6IHNvY2tldC5uaWNrbmFtZSxcbiAgICByb2xlOiBzb2NrZXQucm9sZSxcbiAgICByb29tOiBudWxsLFxuICAgIGxhc3RIZWFydGJlYXQ6IERhdGUubm93KClcbiAgfSk7XG5cbiAgLy8gTG9nIGN1cnJlbnQgYWN0aXZlIGNvbm5lY3Rpb25zIGNvdW50XG4gIGNvbnNvbGUubG9nKGDwn5OKIEFjdGl2ZSBzb2NrZXQgY29ubmVjdGlvbnM6ICR7b25saW5lVXNlcnMuc2l6ZX0gLSBhdXRoIHN1Y2Nlc3MgZm9yICR7c29ja2V0Lm5pY2tuYW1lfWApO1xuXG4gIC8vIEhlYXJ0YmVhdCBtZWNoYW5pc21cbiAgc29ja2V0Lm9uKCdoZWFydGJlYXQnLCAoKSA9PiB7XG4gICAgY29uc3QgdXNlciA9IG9ubGluZVVzZXJzLmdldChzb2NrZXQuaWQpO1xuICAgIGlmICh1c2VyKSB7XG4gICAgICB1c2VyLmxhc3RIZWFydGJlYXQgPSBEYXRlLm5vdygpO1xuICAgICAgY29uc29sZS5sb2coYPCfkpMgSGVhcnRiZWF0IHJlY2VpdmVkIGZyb20gdXNlciAke3NvY2tldC5uaWNrbmFtZX1gKTtcbiAgICB9XG4gIH0pO1xuXG4gIC8vIFVwZGF0ZSBoZWFydGJlYXQgb24gdXNlciBhY3Rpdml0eVxuICBjb25zdCB1cGRhdGVIZWFydGJlYXQgPSAoKSA9PiB7XG4gICAgY29uc3QgdXNlciA9IG9ubGluZVVzZXJzLmdldChzb2NrZXQuaWQpO1xuICAgIGlmICh1c2VyKSB7XG4gICAgICB1c2VyLmxhc3RIZWFydGJlYXQgPSBEYXRlLm5vdygpO1xuICAgIH1cbiAgfTtcblxuICBzb2NrZXQub24oJ2pvaW5fcm9vbScsIGFzeW5jIChkYXRhKSA9PiB7XG4gICAgdXBkYXRlSGVhcnRiZWF0KCk7XG4gICAgY29uc3QgeyByb29tIH0gPSBkYXRhO1xuICAgIGlmICghcm9vbSkge1xuICAgICAgbG9nZ2VyLndhcm4oJ0pvaW4gcm9vbSBmYWlsZWQ6IE5vIHJvb20gc3BlY2lmaWVkJywge1xuICAgICAgICB1c2VySWQ6IHNvY2tldC51c2VySWQsXG4gICAgICAgIG5pY2tuYW1lOiBzb2NrZXQubmlja25hbWVcbiAgICAgIH0pO1xuICAgICAgc29ja2V0LmVtaXQoJ2Vycm9yJywge1xuICAgICAgICBtZXNzYWdlOiAnUm9vbSBuYW1lIGlzIHJlcXVpcmVkJyxcbiAgICAgICAgY29kZTogJ01JU1NJTkdfUk9PTScsXG4gICAgICAgIHRpbWVzdGFtcDogbmV3IERhdGUoKS50b0lTT1N0cmluZygpXG4gICAgICB9KTtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICBpZiAodHlwZW9mIHJvb20gIT09ICdzdHJpbmcnIHx8IHJvb20udHJpbSgpLmxlbmd0aCA9PT0gMCkge1xuICAgICAgbG9nZ2VyLndhcm4oJ0pvaW4gcm9vbSBmYWlsZWQ6IEludmFsaWQgcm9vbSBmb3JtYXQnLCB7XG4gICAgICAgIHVzZXJJZDogc29ja2V0LnVzZXJJZCxcbiAgICAgICAgbmlja25hbWU6IHNvY2tldC5uaWNrbmFtZSxcbiAgICAgICAgcm9vbVxuICAgICAgfSk7XG4gICAgICBzb2NrZXQuZW1pdCgnZXJyb3InLCB7XG4gICAgICAgIG1lc3NhZ2U6ICdJbnZhbGlkIHJvb20gbmFtZSBmb3JtYXQnLFxuICAgICAgICBjb2RlOiAnSU5WQUxJRF9ST09NX0ZPUk1BVCcsXG4gICAgICAgIHRpbWVzdGFtcDogbmV3IERhdGUoKS50b0lTT1N0cmluZygpXG4gICAgICB9KTtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICB0cnkge1xuICAgICAgLy8gVmVyaWZ5IGNoYW5uZWwgZXhpc3RzXG4gICAgICBjb25zdCBjaGFubmVsID0gYXdhaXQgQ2hhbm5lbC5maW5kT25lKHsgaWQ6IHJvb20gfSk7XG4gICAgICBpZiAoIWNoYW5uZWwpIHtcbiAgICAgICAgbG9nZ2VyLndhcm4oJ0pvaW4gcm9vbSBmYWlsZWQ6IENoYW5uZWwgbm90IGZvdW5kJywge1xuICAgICAgICAgIHVzZXJJZDogc29ja2V0LnVzZXJJZCxcbiAgICAgICAgICBuaWNrbmFtZTogc29ja2V0Lm5pY2tuYW1lLFxuICAgICAgICAgIHJvb21cbiAgICAgICAgfSk7XG4gICAgICAgIHNvY2tldC5lbWl0KCdlcnJvcicsIHtcbiAgICAgICAgICBtZXNzYWdlOiBgQ2hhbm5lbCAnJHtyb29tfScgbm90IGZvdW5kYCxcbiAgICAgICAgICBjb2RlOiAnQ0hBTk5FTF9OT1RfRk9VTkQnLFxuICAgICAgICAgIHJvb20sXG4gICAgICAgICAgdGltZXN0YW1wOiBuZXcgRGF0ZSgpLnRvSVNPU3RyaW5nKClcbiAgICAgICAgfSk7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cblxuICAgICAgLy8gTGVhdmUgcHJldmlvdXMgcm9vbVxuICAgICAgaWYgKHNvY2tldC5yb29tKSB7XG4gICAgICAgIHNvY2tldC5sZWF2ZShzb2NrZXQucm9vbSk7XG4gICAgICAgIG9ubGluZVVzZXJzLnNldChzb2NrZXQuaWQsIHsgLi4ub25saW5lVXNlcnMuZ2V0KHNvY2tldC5pZCksIHJvb206IG51bGwgfSk7XG5cbiAgICAgICAgLy8gVXBkYXRlIG9ubGluZSB1c2VycyBpbiBwcmV2aW91cyByb29tXG4gICAgICAgIGNvbnN0IHByZXZpb3VzUm9vbVVzZXJzID0gQXJyYXkuZnJvbShvbmxpbmVVc2Vycy52YWx1ZXMoKSlcbiAgICAgICAgICAuZmlsdGVyKHUgPT4gdS5yb29tID09PSBzb2NrZXQucm9vbSlcbiAgICAgICAgICAubWFwKHUgPT4gKHsgbmlja25hbWU6IHUubmlja25hbWUsIHJvbGU6IHUucm9sZSB9KSk7XG4gICAgICAgIGlvLnRvKHNvY2tldC5yb29tKS5lbWl0KCdvbmxpbmVfdXNlcnMnLCBwcmV2aW91c1Jvb21Vc2Vycyk7XG4gICAgICB9XG5cbiAgICAgIHNvY2tldC5yb29tID0gcm9vbTtcbiAgICAgIHNvY2tldC5qb2luKHNvY2tldC5yb29tKTtcblxuICAgICAgLy8gVXBkYXRlIHVzZXIgdHJhY2tpbmdcbiAgICAgIG9ubGluZVVzZXJzLnNldChzb2NrZXQuaWQsIHtcbiAgICAgICAgLi4ub25saW5lVXNlcnMuZ2V0KHNvY2tldC5pZCksXG4gICAgICAgIHJvb206IHNvY2tldC5yb29tXG4gICAgICB9KTtcblxuICAgICAgbG9nZ2VyLmluZm8oYFVzZXIgJHtzb2NrZXQubmlja25hbWV9IGpvaW5lZCByb29tICR7c29ja2V0LnJvb219YCk7XG5cbiAgICAgIC8vIFNlbmQgc3lzdGVtIG1lc3NhZ2UgYWJvdXQgam9pbmluZ1xuICAgICAgY29uc3Qgam9pbk1lc3NhZ2UgPSBuZXcgTWVzc2FnZSh7XG4gICAgICAgIGF1dGhvcjogJ1N5c3RlbScsXG4gICAgICAgIGNoYW5uZWw6IHNvY2tldC5yb29tLFxuICAgICAgICB0ZXh0OiBgJHtzb2NrZXQubmlja25hbWV9IGpvaW5lZCB0aGUgY2hhbm5lbC5gLFxuICAgICAgICB0eXBlOiAnc3lzdGVtJ1xuICAgICAgfSk7XG4gICAgICBhd2FpdCBqb2luTWVzc2FnZS5zYXZlKCk7XG5cbiAgICAgIGlvLnRvKHNvY2tldC5yb29tKS5lbWl0KCdtZXNzYWdlJywge1xuICAgICAgICBhdXRob3I6IGpvaW5NZXNzYWdlLmF1dGhvcixcbiAgICAgICAgY2hhbm5lbDogam9pbk1lc3NhZ2UuY2hhbm5lbCxcbiAgICAgICAgdGV4dDogam9pbk1lc3NhZ2UudGV4dCxcbiAgICAgICAgdHlwZTogam9pbk1lc3NhZ2UudHlwZSxcbiAgICAgICAgdGltZXN0YW1wOiBqb2luTWVzc2FnZS50aW1lc3RhbXBcbiAgICAgIH0pO1xuXG4gICAgICAvLyBTZW5kIG9ubGluZSB1c2VycyBpbiBjdXJyZW50IHJvb21cbiAgICAgIGNvbnN0IHJvb21Vc2VycyA9IEFycmF5LmZyb20ob25saW5lVXNlcnMudmFsdWVzKCkpXG4gICAgICAgIC5maWx0ZXIodSA9PiB1LnJvb20gPT09IHNvY2tldC5yb29tKVxuICAgICAgICAubWFwKHUgPT4gKHsgbmlja25hbWU6IHUubmlja25hbWUsIHJvbGU6IHUucm9sZSB9KSk7XG4gICAgICBpby50byhzb2NrZXQucm9vbSkuZW1pdCgnb25saW5lX3VzZXJzJywgcm9vbVVzZXJzKTtcblxuICAgICAgLy8gU2VuZCBtZXNzYWdlIGhpc3RvcnlcbiAgICAgIGNvbnN0IGhpc3RvcnkgPSBhd2FpdCBNZXNzYWdlLmZpbmQoe1xuICAgICAgICBjaGFubmVsOiBzb2NrZXQucm9vbSxcbiAgICAgICAgJG9yOiBbXG4gICAgICAgICAgeyB0eXBlOiAncHVibGljJyB9LFxuICAgICAgICAgIHsgdHlwZTogJ3N5c3RlbScgfSxcbiAgICAgICAgICB7IGF1dGhvcjogc29ja2V0Lm5pY2tuYW1lIH0sXG4gICAgICAgICAgeyB0YXJnZXQ6IHNvY2tldC5uaWNrbmFtZSB9XG4gICAgICAgIF1cbiAgICAgIH0pXG4gICAgICAgIC5zb3J0KHsgdGltZXN0YW1wOiAtMSB9KVxuICAgICAgICAubGltaXQoMTAwKVxuICAgICAgICAuc29ydCh7IHRpbWVzdGFtcDogMSB9KTsgLy8gUmVzb3J0IGZvciBjaHJvbm9sb2dpY2FsIG9yZGVyXG5cbiAgICAgIHNvY2tldC5lbWl0KCdoaXN0b3J5JywgaGlzdG9yeS5tYXAobXNnID0+ICh7XG4gICAgICAgIGF1dGhvcjogbXNnLmF1dGhvcixcbiAgICAgICAgcm9vbTogbXNnLmNoYW5uZWwsXG4gICAgICAgIHRleHQ6IG1zZy50ZXh0LFxuICAgICAgICB0eXBlOiBtc2cudHlwZSxcbiAgICAgICAgdGFyZ2V0OiBtc2cudGFyZ2V0LFxuICAgICAgICB0aW1lc3RhbXA6IG1zZy50aW1lc3RhbXBcbiAgICAgIH0pKSk7XG5cbiAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgbG9nZ2VyLmVycm9yKCdFcnJvciBpbiBqb2luX3Jvb206JywgZXJyb3IpO1xuICAgICAgc29ja2V0LmVtaXQoJ2Vycm9yJywgeyBtZXNzYWdlOiAnRmFpbGVkIHRvIGpvaW4gcm9vbScgfSk7XG4gICAgfVxuICB9KTtcblxuICAvLyBMb2FkIGhpc3RvcnkgKGZhbGxiYWNrLCBpZiBuZWVkZWQpXG4gIHNvY2tldC5vbignZ2V0X2hpc3RvcnknLCBhc3luYyAoKSA9PiB7XG4gICAgaWYgKCFzb2NrZXQucm9vbSkge1xuICAgICAgc29ja2V0LmVtaXQoJ2hpc3RvcnknLCBbXSk7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgdHJ5IHtcbiAgICAgIGNvbnN0IGhpc3RvcnkgPSBhd2FpdCBNZXNzYWdlLmZpbmQoe1xuICAgICAgICBjaGFubmVsOiBzb2NrZXQucm9vbSxcbiAgICAgICAgJG9yOiBbXG4gICAgICAgICAgeyB0eXBlOiAncHVibGljJyB9LFxuICAgICAgICAgIHsgdHlwZTogJ3N5c3RlbScgfSxcbiAgICAgICAgICB7IGF1dGhvcjogc29ja2V0Lm5pY2tuYW1lIH0sXG4gICAgICAgICAgeyB0YXJnZXQ6IHNvY2tldC5uaWNrbmFtZSB9XG4gICAgICAgIF1cbiAgICAgIH0pXG4gICAgICAgIC5zb3J0KHsgdGltZXN0YW1wOiAtMSB9KVxuICAgICAgICAubGltaXQoMTAwKVxuICAgICAgICAuc29ydCh7IHRpbWVzdGFtcDogMSB9KTsgLy8gUmVzb3J0IGZvciBjaHJvbm9sb2dpY2FsIG9yZGVyXG5cbiAgICAgIHNvY2tldC5lbWl0KCdoaXN0b3J5JywgaGlzdG9yeS5tYXAobXNnID0+ICh7XG4gICAgICAgIGF1dGhvcjogbXNnLmF1dGhvcixcbiAgICAgICAgcm9vbTogbXNnLmNoYW5uZWwsIC8vIFVzaW5nIGNoYW5uZWwgaW5zdGVhZCBvZiByb29tIGZvciBjb25zaXN0ZW5jeVxuICAgICAgICB0ZXh0OiBtc2cudGV4dCxcbiAgICAgICAgdHlwZTogbXNnLnR5cGUsXG4gICAgICAgIHRhcmdldDogbXNnLnRhcmdldCxcbiAgICAgICAgdGltZXN0YW1wOiBtc2cudGltZXN0YW1wXG4gICAgICB9KSkpO1xuICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICBsb2dnZXIuZXJyb3IoJ0Vycm9yIGdldHRpbmcgaGlzdG9yeTonLCBlcnJvcik7XG4gICAgICBzb2NrZXQuZW1pdCgnZXJyb3InLCB7IG1lc3NhZ2U6ICdGYWlsZWQgdG8gbG9hZCBtZXNzYWdlIGhpc3RvcnknIH0pO1xuICAgIH1cbiAgfSk7XG5cbiAgLy8gUHVibGljIG1lc3NhZ2VcbiAgc29ja2V0Lm9uKCdtZXNzYWdlJywgYXN5bmMgKGRhdGEpID0+IHtcbiAgICB1cGRhdGVIZWFydGJlYXQoKTtcbiAgICBpZiAoIXNvY2tldC5yb29tIHx8ICFkYXRhLnRleHQ/LnRyaW0oKSkgcmV0dXJuO1xuXG4gICAgLy8gQ2hlY2sgaWYgdXNlciBpcyBtdXRlZFxuICAgIGNvbnN0IGN1cnJlbnRVc2VyID0gYXdhaXQgVXNlci5maW5kQnlJZChzb2NrZXQudXNlcklkKTtcbiAgICBpZiAoY3VycmVudFVzZXIgJiYgY3VycmVudFVzZXIuaXNNdXRlZCgpKSB7XG4gICAgICBzb2NrZXQuZW1pdCgnZXJyb3InLCB7XG4gICAgICAgIG1lc3NhZ2U6ICdZb3UgYXJlIG11dGVkIGFuZCBjYW5ub3Qgc2VuZCBtZXNzYWdlcycsXG4gICAgICAgIGNvZGU6ICdVU0VSX01VVEVEJyxcbiAgICAgICAgbXV0ZUV4cGlyZXM6IGN1cnJlbnRVc2VyLm11dGVFeHBpcmVzXG4gICAgICB9KTtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICB0cnkge1xuICAgICAgY29uc3QgbWVzc2FnZSA9IG5ldyBNZXNzYWdlKHtcbiAgICAgICAgYXV0aG9yOiBzb2NrZXQubmlja25hbWUsXG4gICAgICAgIGNoYW5uZWw6IHNvY2tldC5yb29tLFxuICAgICAgICB0ZXh0OiBkYXRhLnRleHQudHJpbSgpLFxuICAgICAgICB0eXBlOiAncHVibGljJ1xuICAgICAgfSk7XG5cbiAgICAgIGF3YWl0IG1lc3NhZ2Uuc2F2ZSgpO1xuXG4gICAgICBjb25zdCBtZXNzYWdlRGF0YSA9IHtcbiAgICAgICAgYXV0aG9yOiBtZXNzYWdlLmF1dGhvcixcbiAgICAgICAgcm9vbTogbWVzc2FnZS5jaGFubmVsLCAvLyBLZWVwaW5nICdyb29tJyBmb3IgZnJvbnRlbmQgY29tcGF0aWJpbGl0eVxuICAgICAgICB0ZXh0OiBtZXNzYWdlLnRleHQsXG4gICAgICAgIHRpbWVzdGFtcDogbWVzc2FnZS50aW1lc3RhbXAsXG4gICAgICAgIHN0YXR1czogJ2RlbGl2ZXJlZCcsXG4gICAgICAgIHR5cGU6IG1lc3NhZ2UudHlwZVxuICAgICAgfTtcblxuICAgICAgaW8udG8oc29ja2V0LnJvb20pLmVtaXQoJ21lc3NhZ2UnLCBtZXNzYWdlRGF0YSk7XG4gICAgICBsb2dnZXIuZGVidWcoYE1lc3NhZ2Ugc2F2ZWQgZnJvbSAke3NvY2tldC5uaWNrbmFtZX0gaW4gJHtzb2NrZXQucm9vbX1gKTtcbiAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgbG9nZ2VyLmVycm9yKCdFcnJvciBzYXZpbmcgbWVzc2FnZTonLCBlcnJvcik7XG4gICAgICBzb2NrZXQuZW1pdCgnZXJyb3InLCB7IG1lc3NhZ2U6ICdGYWlsZWQgdG8gc2VuZCBtZXNzYWdlJyB9KTtcbiAgICB9XG4gIH0pO1xuXG4gIC8vIFByaXZhdGUgbWVzc2FnZVxuICBzb2NrZXQub24oJ3ByaXZhdGVfbWVzc2FnZScsIGFzeW5jIChkYXRhKSA9PiB7XG4gICAgdXBkYXRlSGVhcnRiZWF0KCk7XG4gICAgaWYgKCFzb2NrZXQucm9vbSB8fCAhZGF0YS50byB8fCAhZGF0YS50ZXh0Py50cmltKCkpIHJldHVybjtcblxuICAgIGNvbnN0IHRyaW1tZWRUZXh0ID0gZGF0YS50ZXh0LnRyaW0oKTtcbiAgICBjb25zdCB0YXJnZXROaWNrbmFtZSA9IGRhdGEudG8udHJpbSgpO1xuXG4gICAgdHJ5IHtcbiAgICAgIGxvZ2dlci5kZWJ1ZyhgUHJpdmF0ZSBtZXNzYWdlIGF0dGVtcHQgZnJvbSAke3NvY2tldC5uaWNrbmFtZX0gdG8gJHt0YXJnZXROaWNrbmFtZX1gLCB7XG4gICAgICAgIHNlbmRlclJvb206IHNvY2tldC5yb29tLFxuICAgICAgICBzZW5kZXJTb2NrZXRJZDogc29ja2V0LmlkLFxuICAgICAgICB1c2VySWQ6IHNvY2tldC51c2VySWRcbiAgICAgIH0pO1xuXG4gICAgICAvLyBWYWxpZGF0ZSB0YXJnZXQgbmlja25hbWUgZm9ybWF0XG4gICAgICBpZiAodGFyZ2V0Tmlja25hbWUubGVuZ3RoID09PSAwIHx8IHRhcmdldE5pY2tuYW1lLmxlbmd0aCA+IDUwKSB7XG4gICAgICAgIHNvY2tldC5lbWl0KCdlcnJvcicsIHtcbiAgICAgICAgICBtZXNzYWdlOiAnSW52YWxpZCB0YXJnZXQgdXNlciBuaWNrbmFtZScsXG4gICAgICAgICAgY29kZTogJ0lOVkFMSURfVEFSR0VUX05JQ0tOQU1FJ1xuICAgICAgICB9KTtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuXG4gICAgICAvLyBQcmV2ZW50IHNlbGYtbWVzc2FnaW5nXG4gICAgICBpZiAodGFyZ2V0Tmlja25hbWUgPT09IHNvY2tldC5uaWNrbmFtZSkge1xuICAgICAgICBzb2NrZXQuZW1pdCgnZXJyb3InLCB7XG4gICAgICAgICAgbWVzc2FnZTogJ0Nhbm5vdCBzZW5kIHByaXZhdGUgbWVzc2FnZSB0byB5b3Vyc2VsZicsXG4gICAgICAgICAgY29kZTogJ1NFTEZfTUVTU0FHRV9OT1RfQUxMT1dFRCdcbiAgICAgICAgfSk7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cblxuICAgICAgLy8gRmluZCB0YXJnZXQgdXNlciBpbiBzYW1lIHJvb20gd2l0aCBkZXRhaWxlZCBsb2dnaW5nXG4gICAgICBjb25zdCB0YXJnZXRVc2VyID0gQXJyYXkuZnJvbShvbmxpbmVVc2Vycy52YWx1ZXMoKSkuZmluZChcbiAgICAgICAgdSA9PiB1Lm5pY2tuYW1lID09PSB0YXJnZXROaWNrbmFtZSAmJiB1LnJvb20gPT09IHNvY2tldC5yb29tXG4gICAgICApO1xuXG4gICAgICBsb2dnZXIuZGVidWcoYFByaXZhdGUgbWVzc2FnZSB0YXJnZXQgc2VhcmNoIHJlc3VsdCBmb3IgJHt0YXJnZXROaWNrbmFtZX1gLCB7XG4gICAgICAgIHRhcmdldEZvdW5kOiAhIXRhcmdldFVzZXIsXG4gICAgICAgIHRhcmdldFJvb206IHRhcmdldFVzZXI/LnJvb20sXG4gICAgICAgIHNlbmRlclJvb206IHNvY2tldC5yb29tLFxuICAgICAgICBvbmxpbmVVc2Vyc0luUm9vbTogQXJyYXkuZnJvbShvbmxpbmVVc2Vycy52YWx1ZXMoKSlcbiAgICAgICAgICAuZmlsdGVyKHUgPT4gdS5yb29tID09PSBzb2NrZXQucm9vbSlcbiAgICAgICAgICAubWFwKHUgPT4gKHsgbmlja25hbWU6IHUubmlja25hbWUsIHJvb206IHUucm9vbSB9KSlcbiAgICAgIH0pO1xuXG4gICAgICBpZiAoIXRhcmdldFVzZXIpIHtcbiAgICAgICAgLy8gRW5oYW5jZWQgZXJyb3IgbWVzc2FnZSB3aXRoIG1vcmUgY29udGV4dFxuICAgICAgICBjb25zdCBvbmxpbmVVc2Vyc0luU2VuZGVyUm9vbSA9IEFycmF5LmZyb20ob25saW5lVXNlcnMudmFsdWVzKCkpXG4gICAgICAgICAgLmZpbHRlcih1ID0+IHUucm9vbSA9PT0gc29ja2V0LnJvb20pXG4gICAgICAgICAgLm1hcCh1ID0+IHUubmlja25hbWUpO1xuXG4gICAgICAgIHNvY2tldC5lbWl0KCdlcnJvcicsIHtcbiAgICAgICAgICBtZXNzYWdlOiBgVXNlciAnJHt0YXJnZXROaWNrbmFtZX0nIGlzIG5vdCBhdmFpbGFibGUgaW4gdGhpcyBjaGFubmVsLiBBdmFpbGFibGUgdXNlcnM6ICR7b25saW5lVXNlcnNJblNlbmRlclJvb20uam9pbignLCAnKSB8fCAnbm9uZSd9YCxcbiAgICAgICAgICBjb2RlOiAnVEFSR0VUX1VTRVJfTk9UX0lOX1JPT00nLFxuICAgICAgICAgIHRhcmdldDogdGFyZ2V0Tmlja25hbWUsXG4gICAgICAgICAgYXZhaWxhYmxlVXNlcnM6IG9ubGluZVVzZXJzSW5TZW5kZXJSb29tLFxuICAgICAgICAgIHNlbmRlclJvb206IHNvY2tldC5yb29tXG4gICAgICAgIH0pO1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG5cbiAgICAgIC8vIENyZWF0ZSBtZXNzYWdlIG9iamVjdFxuICAgICAgY29uc3QgbWVzc2FnZSA9IG5ldyBNZXNzYWdlKHtcbiAgICAgICAgYXV0aG9yOiBzb2NrZXQubmlja25hbWUsXG4gICAgICAgIGNoYW5uZWw6IHNvY2tldC5yb29tLFxuICAgICAgICB0ZXh0OiB0cmltbWVkVGV4dCxcbiAgICAgICAgdHlwZTogJ3ByaXZhdGUnLFxuICAgICAgICB0YXJnZXQ6IHRhcmdldE5pY2tuYW1lXG4gICAgICB9KTtcbiAgICAgIGF3YWl0IG1lc3NhZ2Uuc2F2ZSgpO1xuXG4gICAgICBjb25zdCBtZXNzYWdlRGF0YSA9IHtcbiAgICAgICAgYXV0aG9yOiBtZXNzYWdlLmF1dGhvcixcbiAgICAgICAgcm9vbTogbWVzc2FnZS5jaGFubmVsLFxuICAgICAgICB0ZXh0OiBtZXNzYWdlLnRleHQsXG4gICAgICAgIHRpbWVzdGFtcDogbWVzc2FnZS50aW1lc3RhbXAsXG4gICAgICAgIHR5cGU6IG1lc3NhZ2UudHlwZSxcbiAgICAgICAgdGFyZ2V0OiBtZXNzYWdlLnRhcmdldCxcbiAgICAgICAgc3RhdHVzOiAnZGVsaXZlcmVkJ1xuICAgICAgfTtcblxuICAgICAgLy8gU2VuZCB0byB0YXJnZXQgdXNlciB3aXRoIGVycm9yIGhhbmRsaW5nXG4gICAgICBjb25zdCB0YXJnZXRTb2NrZXRJZCA9IEFycmF5LmZyb20ob25saW5lVXNlcnMua2V5cygpKS5maW5kKFxuICAgICAgICBpZCA9PiBvbmxpbmVVc2Vycy5nZXQoaWQpLm5pY2tuYW1lID09PSB0YXJnZXROaWNrbmFtZVxuICAgICAgKTtcblxuICAgICAgaWYgKHRhcmdldFNvY2tldElkKSB7XG4gICAgICAgIGlvLnRvKHRhcmdldFNvY2tldElkKS5lbWl0KCdwcml2YXRlX21lc3NhZ2UnLCBtZXNzYWdlRGF0YSk7XG4gICAgICAgIGxvZ2dlci5kZWJ1ZyhgUHJpdmF0ZSBtZXNzYWdlIHNlbnQgdG8gdGFyZ2V0ICR7dGFyZ2V0Tmlja25hbWV9YCwge1xuICAgICAgICAgIHRhcmdldFNvY2tldElkOiB0YXJnZXRTb2NrZXRJZCxcbiAgICAgICAgICBzZW5kZXI6IHNvY2tldC5uaWNrbmFtZSxcbiAgICAgICAgICByb29tOiBzb2NrZXQucm9vbSxcbiAgICAgICAgICBtZXNzYWdlSWQ6IG1lc3NhZ2UuX2lkXG4gICAgICAgIH0pO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgbG9nZ2VyLndhcm4oYFRhcmdldCB1c2VyICR7dGFyZ2V0Tmlja25hbWV9IGZvdW5kIGluIG9ubGluZVVzZXJzIGJ1dCBzb2NrZXQgSUQgbm90IGZvdW5kYCwge1xuICAgICAgICAgIHRhcmdldE5pY2tuYW1lLFxuICAgICAgICAgIHJvb206IHNvY2tldC5yb29tLFxuICAgICAgICAgIG9ubGluZVVzZXJzQ291bnQ6IG9ubGluZVVzZXJzLnNpemUsXG4gICAgICAgICAgbWVzc2FnZUlkOiBtZXNzYWdlLl9pZFxuICAgICAgICB9KTtcbiAgICAgICAgLy8gTWVzc2FnZSBzdGlsbCBzYXZlZCB0byBkYXRhYmFzZSBmb3IgbGF0ZXIgZGVsaXZlcnkgaWYgdXNlciByZWNvbm5lY3RzXG4gICAgICB9XG5cbiAgICAgIC8vIFNlbmQgY29uZmlybWF0aW9uIHRvIHNlbmRlciAod2l0aG91dCB0YXJnZXQgZm9yIHByaXZhY3kpXG4gICAgICBzb2NrZXQuZW1pdCgncHJpdmF0ZV9tZXNzYWdlJywge1xuICAgICAgICBhdXRob3I6IG1lc3NhZ2UuYXV0aG9yLFxuICAgICAgICByb29tOiBtZXNzYWdlLnJvb20sXG4gICAgICAgIHRleHQ6IG1lc3NhZ2UudGV4dCxcbiAgICAgICAgdGltZXN0YW1wOiBtZXNzYWdlLnRpbWVzdGFtcCxcbiAgICAgICAgdHlwZTogbWVzc2FnZS50eXBlLFxuICAgICAgICB0YXJnZXQ6IG51bGwsIC8vIEhpZGUgdGFyZ2V0IGZyb20gc2VuZGVyJ3MgY29uZmlybWF0aW9uXG4gICAgICAgIHN0YXR1czogJ3NlbnQnXG4gICAgICB9KTtcblxuICAgICAgbG9nZ2VyLmluZm8oYFByaXZhdGUgbWVzc2FnZSBzZW50IHN1Y2Nlc3NmdWxseWAsIHtcbiAgICAgICAgc2VuZGVyOiBzb2NrZXQubmlja25hbWUsXG4gICAgICAgIHRhcmdldDogdGFyZ2V0Tmlja25hbWUsXG4gICAgICAgIHJvb206IHNvY2tldC5yb29tLFxuICAgICAgICBtZXNzYWdlSWQ6IG1lc3NhZ2UuX2lkLFxuICAgICAgICBtZXNzYWdlTGVuZ3RoOiB0cmltbWVkVGV4dC5sZW5ndGhcbiAgICAgIH0pO1xuXG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgIGxvZ2dlci5lcnJvcignRXJyb3Igc2VuZGluZyBwcml2YXRlIG1lc3NhZ2U6Jywge1xuICAgICAgICBlcnJvcjogZXJyb3IubWVzc2FnZSxcbiAgICAgICAgc2VuZGVyOiBzb2NrZXQubmlja25hbWUsXG4gICAgICAgIHRhcmdldDogZGF0YS50byxcbiAgICAgICAgcm9vbTogc29ja2V0LnJvb20sXG4gICAgICAgIHVzZXJJZDogc29ja2V0LnVzZXJJZCxcbiAgICAgICAgc3RhY2s6IGVycm9yLnN0YWNrXG4gICAgICB9KTtcbiAgICAgIHNvY2tldC5lbWl0KCdlcnJvcicsIHtcbiAgICAgICAgbWVzc2FnZTogJ0ZhaWxlZCB0byBzZW5kIHByaXZhdGUgbWVzc2FnZScsXG4gICAgICAgIGNvZGU6ICdQUklWQVRFX01FU1NBR0VfRkFJTEVEJ1xuICAgICAgfSk7XG4gICAgfVxuICB9KTtcblxuICAvLyBTcGVha2luZ1xuICBzb2NrZXQub24oJ3NwZWFraW5nJywgKGRhdGEpID0+IHtcbiAgICB1cGRhdGVIZWFydGJlYXQoKTtcbiAgICBzb2NrZXQudG8oc29ja2V0LnJvb20pLmVtaXQoJ3NwZWFraW5nJywgeyBuaWNrbmFtZTogc29ja2V0Lm5pY2tuYW1lLCBzcGVha2luZzogZGF0YS5zcGVha2luZyB9KTtcbiAgfSk7XG5cbiAgLy8gVm9pY2UgY2hhbm5lbCBldmVudHNcbiAgc29ja2V0Lm9uKCdqb2luX3ZvaWNlX2NoYW5uZWwnLCBhc3luYyAoZGF0YSkgPT4ge1xuICAgIHVwZGF0ZUhlYXJ0YmVhdCgpO1xuICAgIGNvbnN0IHsgY2hhbm5lbElkIH0gPSBkYXRhO1xuICAgIGlmICghY2hhbm5lbElkKSByZXR1cm47XG5cbiAgICB0cnkge1xuICAgICAgLy8gVmVyaWZ5IGNoYW5uZWwgZXhpc3RzIGFuZCBpcyB2b2ljZVxuICAgICAgY29uc3QgY2hhbm5lbCA9IGF3YWl0IENoYW5uZWwuZmluZE9uZSh7IGlkOiBjaGFubmVsSWQsIHR5cGU6ICd2b2ljZScgfSk7XG4gICAgICBpZiAoIWNoYW5uZWwpIHtcbiAgICAgICAgc29ja2V0LmVtaXQoJ3ZvaWNlX2Vycm9yJywgeyBtZXNzYWdlOiAnVm9pY2UgY2hhbm5lbCBub3QgZm91bmQnIH0pO1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG5cbiAgICAgIC8vIEluaXRpYWxpemUgdm9pY2UgY2hhbm5lbCBpZiBub3QgZXhpc3RzXG4gICAgICBpZiAoIXZvaWNlQ2hhbm5lbHMuaGFzKGNoYW5uZWxJZCkpIHtcbiAgICAgICAgdm9pY2VDaGFubmVscy5zZXQoY2hhbm5lbElkLCBuZXcgTWFwKCkpO1xuICAgICAgfVxuXG4gICAgICBjb25zdCBjaGFubmVsUGVlcnMgPSB2b2ljZUNoYW5uZWxzLmdldChjaGFubmVsSWQpO1xuXG4gICAgICAvLyBOb3RpZnkgb3RoZXJzIGluIHRoZSBjaGFubmVsXG4gICAgICBzb2NrZXQudG8oY2hhbm5lbElkKS5lbWl0KCd1c2VyX2pvaW5lZF92b2ljZScsIHsgbmlja25hbWU6IHNvY2tldC5uaWNrbmFtZSwgc29ja2V0SWQ6IHNvY2tldC5pZCB9KTtcblxuICAgICAgLy8gQWRkIHNvY2tldCB0byB2b2ljZSBjaGFubmVsIHJvb21cbiAgICAgIHNvY2tldC5qb2luKGNoYW5uZWxJZCk7XG4gICAgICBjaGFubmVsUGVlcnMuc2V0KHNvY2tldC5pZCwgeyBwZWVyQ29ubmVjdGlvbjogbnVsbCwgc3RyZWFtOiBudWxsIH0pO1xuXG4gICAgICAvLyBVcGRhdGUgdXNlcidzIHZvaWNlIGNoYW5uZWwgc3RhdHVzXG4gICAgICBzb2NrZXQudm9pY2VDaGFubmVsID0gY2hhbm5lbElkO1xuXG4gICAgICBsb2dnZXIuaW5mbyhgVXNlciAke3NvY2tldC5uaWNrbmFtZX0gam9pbmVkIHZvaWNlIGNoYW5uZWwgJHtjaGFubmVsSWR9YCk7XG4gICAgICBzb2NrZXQuZW1pdCgndm9pY2Vfam9pbmVkJywgeyBjaGFubmVsSWQgfSk7XG5cbiAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgbG9nZ2VyLmVycm9yKCdFcnJvciBqb2luaW5nIHZvaWNlIGNoYW5uZWw6JywgZXJyb3IpO1xuICAgICAgc29ja2V0LmVtaXQoJ3ZvaWNlX2Vycm9yJywgeyBtZXNzYWdlOiAnRmFpbGVkIHRvIGpvaW4gdm9pY2UgY2hhbm5lbCcgfSk7XG4gICAgfVxuICB9KTtcblxuICBzb2NrZXQub24oJ2xlYXZlX3ZvaWNlX2NoYW5uZWwnLCAoKSA9PiB7XG4gICAgdXBkYXRlSGVhcnRiZWF0KCk7XG4gICAgaWYgKCFzb2NrZXQudm9pY2VDaGFubmVsKSByZXR1cm47XG5cbiAgICBjb25zdCBjaGFubmVsSWQgPSBzb2NrZXQudm9pY2VDaGFubmVsO1xuICAgIGNvbnN0IGNoYW5uZWxQZWVycyA9IHZvaWNlQ2hhbm5lbHMuZ2V0KGNoYW5uZWxJZCk7XG5cbiAgICBpZiAoY2hhbm5lbFBlZXJzKSB7XG4gICAgICBjaGFubmVsUGVlcnMuZGVsZXRlKHNvY2tldC5pZCk7XG4gICAgICBpZiAoY2hhbm5lbFBlZXJzLnNpemUgPT09IDApIHtcbiAgICAgICAgdm9pY2VDaGFubmVscy5kZWxldGUoY2hhbm5lbElkKTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICAvLyBOb3RpZnkgb3RoZXJzXG4gICAgc29ja2V0LnRvKGNoYW5uZWxJZCkuZW1pdCgndXNlcl9sZWZ0X3ZvaWNlJywgeyBuaWNrbmFtZTogc29ja2V0Lm5pY2tuYW1lLCBzb2NrZXRJZDogc29ja2V0LmlkIH0pO1xuXG4gICAgc29ja2V0LmxlYXZlKGNoYW5uZWxJZCk7XG4gICAgc29ja2V0LnZvaWNlQ2hhbm5lbCA9IG51bGw7XG5cbiAgICBsb2dnZXIuaW5mbyhgVXNlciAke3NvY2tldC5uaWNrbmFtZX0gbGVmdCB2b2ljZSBjaGFubmVsICR7Y2hhbm5lbElkfWApO1xuICAgIHNvY2tldC5lbWl0KCd2b2ljZV9sZWZ0Jyk7XG4gIH0pO1xuXG4gIHNvY2tldC5vbigndm9pY2Vfb2ZmZXInLCAoZGF0YSkgPT4ge1xuICAgIGNvbnN0IHsgb2ZmZXIsIHRhcmdldFNvY2tldElkIH0gPSBkYXRhO1xuICAgIHNvY2tldC50byh0YXJnZXRTb2NrZXRJZCkuZW1pdCgndm9pY2Vfb2ZmZXInLCB7XG4gICAgICBvZmZlcixcbiAgICAgIGZyb206IHNvY2tldC5pZCxcbiAgICAgIGZyb21OaWNrbmFtZTogc29ja2V0Lm5pY2tuYW1lXG4gICAgfSk7XG4gIH0pO1xuXG4gIHNvY2tldC5vbigndm9pY2VfYW5zd2VyJywgKGRhdGEpID0+IHtcbiAgICBjb25zdCB7IGFuc3dlciwgdGFyZ2V0U29ja2V0SWQgfSA9IGRhdGE7XG4gICAgc29ja2V0LnRvKHRhcmdldFNvY2tldElkKS5lbWl0KCd2b2ljZV9hbnN3ZXInLCB7XG4gICAgICBhbnN3ZXIsXG4gICAgICBmcm9tOiBzb2NrZXQuaWQsXG4gICAgICBmcm9tTmlja25hbWU6IHNvY2tldC5uaWNrbmFtZVxuICAgIH0pO1xuICB9KTtcblxuICBzb2NrZXQub24oJ2ljZV9jYW5kaWRhdGUnLCAoZGF0YSkgPT4ge1xuICAgIGNvbnN0IHsgY2FuZGlkYXRlLCB0YXJnZXRTb2NrZXRJZCB9ID0gZGF0YTtcbiAgICBzb2NrZXQudG8odGFyZ2V0U29ja2V0SWQpLmVtaXQoJ2ljZV9jYW5kaWRhdGUnLCB7XG4gICAgICBjYW5kaWRhdGUsXG4gICAgICBmcm9tOiBzb2NrZXQuaWQsXG4gICAgICBmcm9tTmlja25hbWU6IHNvY2tldC5uaWNrbmFtZVxuICAgIH0pO1xuICB9KTtcblxuICAvLyBEaXNjb25uZWN0XG4gIHNvY2tldC5vbignZGlzY29ubmVjdCcsIGFzeW5jICgpID0+IHtcbiAgICBsb2dnZXIuaW5mbyhgVXNlciAke3NvY2tldC5uaWNrbmFtZX0gZGlzY29ubmVjdGVkYCk7XG5cbiAgICB0cnkge1xuICAgICAgY29uc3QgdXNlcklkID0gc29ja2V0LnVzZXJJZDtcblxuICAgICAgLy8gRGVjcmVhc2UgY29ubmVjdGlvbiBjb3VudCBmb3IgdGhpcyB1c2VyXG4gICAgICBpZiAodXNlcklkKSB7XG4gICAgICAgIGNvbnN0IGN1cnJlbnRDb3VudCA9IHVzZXJDb25uZWN0aW9ucy5nZXQodXNlcklkKSB8fCAwO1xuICAgICAgICBjb25zdCBuZXdDb3VudCA9IE1hdGgubWF4KDAsIGN1cnJlbnRDb3VudCAtIDEpO1xuICAgICAgICB1c2VyQ29ubmVjdGlvbnMuc2V0KHVzZXJJZCwgbmV3Q291bnQpO1xuXG4gICAgICAgIGxvZ2dlci5pbmZvKGBVc2VyICR7c29ja2V0Lm5pY2tuYW1lfSBkaXNjb25uZWN0ZWQgKHJlbWFpbmluZyBjb25uZWN0aW9uczogJHtuZXdDb3VudH0pYCwge1xuICAgICAgICAgIHVzZXJJZDogdXNlcklkLFxuICAgICAgICAgIHNvY2tldElkOiBzb2NrZXQuaWQsXG4gICAgICAgICAgY29ubmVjdGlvbnNMZWZ0OiBuZXdDb3VudFxuICAgICAgICB9KTtcbiAgICAgIH1cblxuICAgICAgLy8gTGVhdmUgdm9pY2UgY2hhbm5lbCBpZiBpbiBvbmVcbiAgICAgIGlmIChzb2NrZXQudm9pY2VDaGFubmVsKSB7XG4gICAgICAgIGNvbnN0IGNoYW5uZWxJZCA9IHNvY2tldC52b2ljZUNoYW5uZWw7XG4gICAgICAgIGNvbnN0IGNoYW5uZWxQZWVycyA9IHZvaWNlQ2hhbm5lbHMuZ2V0KGNoYW5uZWxJZCk7XG5cbiAgICAgICAgaWYgKGNoYW5uZWxQZWVycykge1xuICAgICAgICAgIGNoYW5uZWxQZWVycy5kZWxldGUoc29ja2V0LmlkKTtcbiAgICAgICAgICBpZiAoY2hhbm5lbFBlZXJzLnNpemUgPT09IDApIHtcbiAgICAgICAgICAgIHZvaWNlQ2hhbm5lbHMuZGVsZXRlKGNoYW5uZWxJZCk7XG4gICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgLy8gTm90aWZ5IG90aGVyc1xuICAgICAgICBzb2NrZXQudG8oY2hhbm5lbElkKS5lbWl0KCd1c2VyX2xlZnRfdm9pY2UnLCB7IG5pY2tuYW1lOiBzb2NrZXQubmlja25hbWUsIHNvY2tldElkOiBzb2NrZXQuaWQgfSk7XG4gICAgICB9XG5cbiAgICAgIGlmIChzb2NrZXQucm9vbSkge1xuICAgICAgICBzb2NrZXQubGVhdmUoc29ja2V0LnJvb20pO1xuXG4gICAgICAgIC8vIENyZWF0ZSBsZWF2ZSBtZXNzYWdlXG4gICAgICAgIGNvbnN0IGxlYXZlTWVzc2FnZSA9IG5ldyBNZXNzYWdlKHtcbiAgICAgICAgICBhdXRob3I6ICdTeXN0ZW0nLFxuICAgICAgICAgIGNoYW5uZWw6IHNvY2tldC5yb29tLFxuICAgICAgICAgIHRleHQ6IGAke3NvY2tldC5uaWNrbmFtZX0gbGVmdCB0aGUgY2hhbm5lbC5gLFxuICAgICAgICAgIHR5cGU6ICdzeXN0ZW0nXG4gICAgICAgIH0pO1xuICAgICAgICBhd2FpdCBsZWF2ZU1lc3NhZ2Uuc2F2ZSgpO1xuXG4gICAgICAgIGlvLnRvKHNvY2tldC5yb29tKS5lbWl0KCdtZXNzYWdlJywge1xuICAgICAgICAgIGF1dGhvcjogbGVhdmVNZXNzYWdlLmF1dGhvcixcbiAgICAgICAgICByb29tOiBsZWF2ZU1lc3NhZ2UuY2hhbm5lbCxcbiAgICAgICAgICB0ZXh0OiBsZWF2ZU1lc3NhZ2UudGV4dCxcbiAgICAgICAgICB0eXBlOiBsZWF2ZU1lc3NhZ2UudHlwZSxcbiAgICAgICAgICB0aW1lc3RhbXA6IGxlYXZlTWVzc2FnZS50aW1lc3RhbXBcbiAgICAgICAgfSk7XG5cbiAgICAgICAgLy8gVXBkYXRlIG9ubGluZSB1c2VycyBsaXN0XG4gICAgICAgIGNvbnN0IHJvb21Vc2VycyA9IEFycmF5LmZyb20ob25saW5lVXNlcnMudmFsdWVzKCkpXG4gICAgICAgICAgLmZpbHRlcih1ID0+IHUucm9vbSA9PT0gc29ja2V0LnJvb20gJiYgdS51c2VySWQgIT09IHNvY2tldC51c2VySWQpXG4gICAgICAgICAgLm1hcCh1ID0+ICh7IG5pY2tuYW1lOiB1Lm5pY2tuYW1lLCByb2xlOiB1LnJvbGUgfSkpO1xuICAgICAgICBpby50byhzb2NrZXQucm9vbSkuZW1pdCgnb25saW5lX3VzZXJzJywgcm9vbVVzZXJzKTtcbiAgICAgIH1cblxuICAgICAgLy8gUmVtb3ZlIGZyb20gdHJhY2tpbmdcbiAgICAgIG9ubGluZVVzZXJzLmRlbGV0ZShzb2NrZXQuaWQpO1xuXG4gICAgICAvLyBMb2cgY3VycmVudCBjb25uZWN0aW9ucyBhZnRlciBkaXNjb25uZWN0XG4gICAgICBsb2dnZXIuaW5mbyhgQWZ0ZXIgZGlzY29ubmVjdCwgYWN0aXZlIHNvY2tldCBjb25uZWN0aW9uczogJHtvbmxpbmVVc2Vycy5zaXplfWApO1xuXG4gICAgICAvLyBVcGRhdGUgdXNlciBzdGF0dXMgaW4gZGF0YWJhc2UgaWYgdGhpcyB3YXMgdGhlIGxhc3QgY29ubmVjdGlvblxuICAgICAgaWYgKHVzZXJJZCkge1xuICAgICAgICBjb25zdCByZW1haW5pbmdDb25uZWN0aW9ucyA9IHVzZXJDb25uZWN0aW9ucy5nZXQodXNlcklkKSB8fCAwO1xuICAgICAgICBpZiAocmVtYWluaW5nQ29ubmVjdGlvbnMgPT09IDApIHtcbiAgICAgICAgICBhd2FpdCBVc2VyLmZpbmRCeUlkQW5kVXBkYXRlKHVzZXJJZCwge1xuICAgICAgICAgICAgc3RhdHVzOiAnb2ZmbGluZScsXG4gICAgICAgICAgICBsYXN0QWN0aXZlOiBuZXcgRGF0ZSgpXG4gICAgICAgICAgfSk7XG4gICAgICAgICAgY29uc29sZS5sb2coYPCflIQgVXNlciAke3NvY2tldC5uaWNrbmFtZX0gc3RhdHVzIHNldCB0byBvZmZsaW5lIChsYXN0IGNvbm5lY3Rpb24pYCk7XG4gICAgICAgICAgbG9nZ2VyLmluZm8oYFVzZXIgc3RhdHVzIHNldCB0byBvZmZsaW5lIChsYXN0IGNvbm5lY3Rpb24pYCwge1xuICAgICAgICAgICAgdXNlcklkOiB1c2VySWQsXG4gICAgICAgICAgICBuaWNrbmFtZTogc29ja2V0Lm5pY2tuYW1lXG4gICAgICAgICAgfSk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgLy8gVXBkYXRlIGxhc3RBY3RpdmUgYnV0IGtlZXAgc3RhdHVzIG9ubGluZVxuICAgICAgICAgIGF3YWl0IFVzZXIuZmluZEJ5SWRBbmRVcGRhdGUodXNlcklkLCB7XG4gICAgICAgICAgICBsYXN0QWN0aXZlOiBuZXcgRGF0ZSgpXG4gICAgICAgICAgfSk7XG4gICAgICAgICAgY29uc29sZS5sb2coYOKchSBVc2VyICR7c29ja2V0Lm5pY2tuYW1lfSBzdGlsbCBvbmxpbmUgKCR7cmVtYWluaW5nQ29ubmVjdGlvbnN9IGNvbm5lY3Rpb25zIGxlZnQpYCk7XG4gICAgICAgICAgbG9nZ2VyLmluZm8oYFVzZXIgcmVtYWlucyBvbmxpbmVgLCB7XG4gICAgICAgICAgICB1c2VySWQ6IHVzZXJJZCxcbiAgICAgICAgICAgIG5pY2tuYW1lOiBzb2NrZXQubmlja25hbWUsXG4gICAgICAgICAgICBjb25uZWN0aW9uc0xlZnQ6IHJlbWFpbmluZ0Nvbm5lY3Rpb25zXG4gICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICBsb2dnZXIuZXJyb3IoJ0Vycm9yIGluIGRpc2Nvbm5lY3QgaGFuZGxlcjonLCBlcnJvcik7XG4gICAgfVxuIH0pO1xufSk7XG5cbi8vIEluaXRpYWxpemUgZGF0YWJhc2UgYW5kIHN0YXJ0IHNlcnZlciAoZHVwbGljYXRlIHJlbW92ZWQpXG5jb25zdCBpbml0aWFsaXplU2VydmVyID0gYXN5bmMgKCkgPT4ge1xuICB0cnkge1xuICAgIC8vIENvbm5lY3QgdG8gTW9uZ29EQlxuICAgIGF3YWl0IGNvbm5lY3REQigpO1xuXG4gICAgLy8gQ3JlYXRlIGRlZmF1bHQgY2hhbm5lbHMgaWYgdGhleSBkb24ndCBleGlzdFxuICAgIGNvbnN0IGRlZmF1bHRDaGFubmVscyA9IFtcbiAgICAgIHsgaWQ6ICdnZW5lcmFsJywgbmFtZTogJ0dlbmVyYWwnLCB0eXBlOiAndGV4dCcsIGNyZWF0ZWRCeTogJ3N5c3RlbScgfSxcbiAgICAgIHsgaWQ6ICd2b2ljZS1jaGF0JywgbmFtZTogJ1ZvaWNlIENoYXQnLCB0eXBlOiAndm9pY2UnLCBjcmVhdGVkQnk6ICdzeXN0ZW0nIH1cbiAgICBdO1xuXG4gICAgZm9yIChjb25zdCBjaGFubmVsRGF0YSBvZiBkZWZhdWx0Q2hhbm5lbHMpIHtcbiAgICAgIGF3YWl0IENoYW5uZWwuZmluZE9uZUFuZFVwZGF0ZShcbiAgICAgICAgeyBpZDogY2hhbm5lbERhdGEuaWQgfSxcbiAgICAgICAgY2hhbm5lbERhdGEsXG4gICAgICAgIHsgdXBzZXJ0OiB0cnVlLCBuZXc6IHRydWUgfVxuICAgICAgKTtcbiAgICB9XG5cbiAgICBsb2dnZXIuaW5mbygnRGVmYXVsdCBjaGFubmVscyBpbml0aWFsaXplZCcpO1xuXG4gICAgLy8gU3RhcnQgc2VydmVyXG4gICAgY29uc3QgUE9SVCA9IHByb2Nlc3MuZW52LlBPUlQgfHwgMzAwMTtcbiAgICBzZXJ2ZXIubGlzdGVuKFBPUlQsICcwLjAuMC4wJywgKCkgPT4ge1xuICAgICAgbG9nZ2VyLmluZm8oYFNlcnZlciBydW5uaW5nIG9uIHBvcnQgJHtQT1JUfWApO1xuICAgICAgY29uc29sZS5sb2coYFNlcnZlciBydW5uaW5nIG9uIHBvcnQgJHtQT1JUfWApO1xuICAgIH0pO1xuXG4gIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgbG9nZ2VyLmVycm9yKCdGYWlsZWQgdG8gaW5pdGlhbGl6ZSBzZXJ2ZXI6JywgZXJyb3IpO1xuICAgIHByb2Nlc3MuZXhpdCgxKTtcbiAgfVxufTtcblxuLy8gR3JhY2VmdWwgc2h1dGRvd25cbnByb2Nlc3Mub24oJ1NJR0lOVCcsIGFzeW5jICgpID0+IHtcbiAgbG9nZ2VyLmluZm8oJ1JlY2VpdmVkIFNJR0lOVCwgc2h1dHRpbmcgZG93biBncmFjZWZ1bGx5Li4uJyk7XG4gIGF3YWl0IGNsb3NlREIoKTtcbiAgaW8uY2xvc2UoKCkgPT4ge1xuICAgIGxvZ2dlci5pbmZvKCdTZXJ2ZXIgc2h1dCBkb3duJyk7XG4gICAgcHJvY2Vzcy5leGl0KDApO1xuICB9KTtcbn0pO1xuXG5wcm9jZXNzLm9uKCdTSUdURVJNJywgYXN5bmMgKCkgPT4ge1xuICBsb2dnZXIuaW5mbygnUmVjZWl2ZWQgU0lHVEVSTSwgc2h1dHRpbmcgZG93biBncmFjZWZ1bGx5Li4uJyk7XG4gIGF3YWl0IGNsb3NlREIoKTtcbiAgaW8uY2xvc2UoKCkgPT4ge1xuICAgIGxvZ2dlci5pbmZvKCdTZXJ2ZXIgc2h1dCBkb3duJyk7XG4gICAgcHJvY2Vzcy5leGl0KDApO1xuICB9KTtcbn0pO1xuXG4vLyBTdGFydCB0aGUgc2VydmVyXG5pbml0aWFsaXplU2VydmVyKCkuY2F0Y2goZXJyID0+IHtcbiAgbG9nZ2VyLmVycm9yKCdVbmhhbmRsZWQgZXJyb3IgZHVyaW5nIHNlcnZlciBzdGFydHVwOicsIGVycik7XG4gIHByb2Nlc3MuZXhpdCgxKTtcbn0pO1xuIl0sIm1hcHBpbmdzIjoiQUFBQUEsT0FBTyxDQUFDLFFBQVEsQ0FBQyxDQUFDQyxNQUFNLENBQUMsQ0FBQztBQUMxQixNQUFNQyxPQUFPLEdBQUdGLE9BQU8sQ0FBQyxTQUFTLENBQUM7QUFDbEMsTUFBTUcsSUFBSSxHQUFHSCxPQUFPLENBQUMsTUFBTSxDQUFDO0FBQzVCLE1BQU1JLFFBQVEsR0FBR0osT0FBTyxDQUFDLFdBQVcsQ0FBQztBQUNyQyxNQUFNSyxHQUFHLEdBQUdMLE9BQU8sQ0FBQyxjQUFjLENBQUM7QUFDbkMsTUFBTU0sSUFBSSxHQUFHTixPQUFPLENBQUMsTUFBTSxDQUFDO0FBQzVCLE1BQU1PLE9BQU8sR0FBR1AsT0FBTyxDQUFDLFNBQVMsQ0FBQztBQUNsQyxNQUFNUSxZQUFZLEdBQUdSLE9BQU8sQ0FBQyxlQUFlLENBQUM7QUFDN0MsTUFBTVMsU0FBUyxHQUFHVCxPQUFPLENBQUMsb0JBQW9CLENBQUM7QUFDL0MsTUFBTVUsTUFBTSxHQUFHVixPQUFPLENBQUMsUUFBUSxDQUFDO0FBQ2hDLE1BQU1XLFNBQVMsR0FBR1gsT0FBTyxDQUFDLG9CQUFvQixDQUFDO0FBQy9DLE1BQU07RUFBRVksSUFBSTtFQUFFQztBQUFpQixDQUFDLEdBQUdiLE9BQU8sQ0FBQyxtQkFBbUIsQ0FBQztBQUMvRCxNQUFNYyxRQUFRLEdBQUdkLE9BQU8sQ0FBQyxVQUFVLENBQUM7QUFDcEMsTUFBTWUsT0FBTyxHQUFHZixPQUFPLENBQUMsaUJBQWlCLENBQUM7QUFDMUMsTUFBTWdCLFVBQVUsR0FBR2hCLE9BQU8sQ0FBQyxlQUFlLENBQUM7QUFDM0MsTUFBTTtFQUFFaUIsU0FBUztFQUFFQztBQUFRLENBQUMsR0FBR2xCLE9BQU8sQ0FBQyxpQkFBaUIsQ0FBQztBQUN6RCxNQUFNbUIsWUFBWSxHQUFHbkIsT0FBTyxDQUFDLHlCQUF5QixDQUFDOztBQUV2RDtBQUNBLE1BQU1vQixJQUFJLEdBQUdwQixPQUFPLENBQUMsZUFBZSxDQUFDO0FBQ3JDLE1BQU1xQixPQUFPLEdBQUdyQixPQUFPLENBQUMsa0JBQWtCLENBQUM7QUFDM0MsTUFBTXNCLE9BQU8sR0FBR3RCLE9BQU8sQ0FBQyxrQkFBa0IsQ0FBQzs7QUFFM0M7QUFDQSxNQUFNdUIsTUFBTSxHQUFHaEIsT0FBTyxDQUFDaUIsWUFBWSxDQUFDO0VBQ2xDQyxLQUFLLEVBQUUsTUFBTTtFQUNiQyxNQUFNLEVBQUVuQixPQUFPLENBQUNtQixNQUFNLENBQUNDLE9BQU8sQ0FDNUJwQixPQUFPLENBQUNtQixNQUFNLENBQUNFLFNBQVMsQ0FBQyxDQUFDLEVBQzFCckIsT0FBTyxDQUFDbUIsTUFBTSxDQUFDRyxNQUFNLENBQUM7SUFBRUMsS0FBSyxFQUFFO0VBQUssQ0FBQyxDQUFDLEVBQ3RDdkIsT0FBTyxDQUFDbUIsTUFBTSxDQUFDSyxJQUFJLENBQUMsQ0FDdEIsQ0FBQztFQUNEQyxXQUFXLEVBQUU7SUFBRUMsT0FBTyxFQUFFO0VBQWMsQ0FBQztFQUN2Q0MsVUFBVSxFQUFFLENBQ1YsSUFBSTNCLE9BQU8sQ0FBQzJCLFVBQVUsQ0FBQ0MsSUFBSSxDQUFDO0lBQUVDLFFBQVEsRUFBRTtFQUFrQixDQUFDLENBQUMsRUFDNUQsSUFBSTdCLE9BQU8sQ0FBQzJCLFVBQVUsQ0FBQ0csT0FBTyxDQUFDO0lBQzdCWCxNQUFNLEVBQUVuQixPQUFPLENBQUNtQixNQUFNLENBQUNDLE9BQU8sQ0FDNUJwQixPQUFPLENBQUNtQixNQUFNLENBQUNZLFFBQVEsQ0FBQyxDQUFDLEVBQ3pCL0IsT0FBTyxDQUFDbUIsTUFBTSxDQUFDYSxNQUFNLENBQUMsQ0FDeEI7RUFDRixDQUFDLENBQUM7QUFFTixDQUFDLENBQUM7QUFFRixNQUFNQyxHQUFHLEdBQUd0QyxPQUFPLENBQUMsQ0FBQztBQUNyQixNQUFNdUMsTUFBTSxHQUFHdEMsSUFBSSxDQUFDdUMsWUFBWSxDQUFDRixHQUFHLENBQUM7O0FBRXJDO0FBQ0EsTUFBTUcsZUFBZSxHQUFHaEMsU0FBUyxDQUFDO0VBQ2hDaUMsUUFBUSxFQUFFLEVBQUUsR0FBRyxFQUFFLEdBQUcsSUFBSTtFQUFFO0VBQzFCQyxHQUFHLEVBQUVDLE9BQU8sQ0FBQ0MsR0FBRyxDQUFDQyxRQUFRLEtBQUssTUFBTSxJQUFJRixPQUFPLENBQUNDLEdBQUcsQ0FBQ0UsZ0JBQWdCLEdBQUcsS0FBSyxHQUFHLENBQUM7RUFBRTtFQUNsRkMsT0FBTyxFQUFFO0lBQUVDLEtBQUssRUFBRTtFQUE0RCxDQUFDO0VBQy9FQyxlQUFlLEVBQUUsSUFBSTtFQUNyQkMsYUFBYSxFQUFFLEtBQUs7RUFDcEJDLElBQUksRUFBR0MsR0FBRyxJQUFLO0lBQ2I7SUFDQSxPQUFPQSxHQUFHLENBQUNDLEdBQUcsQ0FBQyxZQUFZLENBQUMsSUFBSUQsR0FBRyxDQUFDQyxHQUFHLENBQUMsWUFBWSxDQUFDLENBQUNDLFFBQVEsQ0FBQyxTQUFTLENBQUM7RUFDM0U7QUFDRixDQUFDLENBQUM7QUFFRixNQUFNQyxjQUFjLEdBQUcvQyxTQUFTLENBQUM7RUFDL0JpQyxRQUFRLEVBQUUsRUFBRSxHQUFHLEVBQUUsR0FBRyxJQUFJO0VBQUU7RUFDMUJDLEdBQUcsRUFBRSxHQUFHO0VBQUU7RUFDVkssT0FBTyxFQUFFO0lBQUVDLEtBQUssRUFBRTtFQUE2QyxDQUFDO0VBQ2hFQyxlQUFlLEVBQUUsSUFBSTtFQUNyQkMsYUFBYSxFQUFFO0FBQ2pCLENBQUMsQ0FBQztBQUVGLE1BQU1NLGtCQUFrQixHQUFHaEQsU0FBUyxDQUFDO0VBQ25DaUMsUUFBUSxFQUFFLEVBQUUsR0FBRyxFQUFFLEdBQUcsSUFBSTtFQUFFO0VBQzFCQyxHQUFHLEVBQUUsSUFBSTtFQUFFO0VBQ1hLLE9BQU8sRUFBRTtJQUFFQyxLQUFLLEVBQUU7RUFBMEQsQ0FBQztFQUM3RUMsZUFBZSxFQUFFLElBQUk7RUFDckJDLGFBQWEsRUFBRTtBQUNqQixDQUFDLENBQUM7QUFFRixNQUFNTyx3QkFBd0IsR0FBR2pELFNBQVMsQ0FBQztFQUN6Q2lDLFFBQVEsRUFBRSxFQUFFLEdBQUcsRUFBRSxHQUFHLElBQUk7RUFBRTtFQUMxQkMsR0FBRyxFQUFFLENBQUM7RUFBRTtFQUNSSyxPQUFPLEVBQUU7SUFBRUMsS0FBSyxFQUFFO0VBQTRELENBQUM7RUFDL0VDLGVBQWUsRUFBRSxJQUFJO0VBQ3JCQyxhQUFhLEVBQUU7QUFDakIsQ0FBQyxDQUFDO0FBQ0YsTUFBTVEsRUFBRSxHQUFHekQsUUFBUSxDQUFDcUMsTUFBTSxFQUFFO0VBQzFCbkMsSUFBSSxFQUFFO0lBQ0p3RCxNQUFNLEVBQUUsR0FBRztJQUNYQyxPQUFPLEVBQUUsQ0FBQyxLQUFLLEVBQUUsTUFBTSxDQUFDO0lBQ3hCQyxjQUFjLEVBQUUsQ0FBQyxlQUFlLEVBQUUsY0FBYztFQUNsRCxDQUFDO0VBQ0Q7RUFDQTlCLFVBQVUsRUFBRSxDQUFDLFdBQVcsRUFBRSxTQUFTO0FBQ3JDLENBQUMsQ0FBQzs7QUFFRjtBQUNBMkIsRUFBRSxDQUFDSSxNQUFNLENBQUNDLEVBQUUsQ0FBQyxrQkFBa0IsRUFBR0MsR0FBRyxJQUFLO0VBQ3hDQyxPQUFPLENBQUNDLEdBQUcsQ0FBQyxvQ0FBb0MsRUFBRUYsR0FBRyxDQUFDRyxJQUFJLEVBQUVILEdBQUcsQ0FBQ2pCLE9BQU8sQ0FBQztFQUN4RTNCLE1BQU0sQ0FBQzRCLEtBQUssQ0FBQywwQkFBMEIsRUFBRTtJQUN2Q21CLElBQUksRUFBRUgsR0FBRyxDQUFDRyxJQUFJO0lBQ2RwQixPQUFPLEVBQUVpQixHQUFHLENBQUNqQixPQUFPO0lBQ3BCcUIsVUFBVSxFQUFFSixHQUFHLENBQUNLLE1BQU07SUFDdEJDLE9BQU8sRUFBRU4sR0FBRyxDQUFDWixHQUFHLEVBQUVrQjtFQUNwQixDQUFDLENBQUM7QUFDSixDQUFDLENBQUM7O0FBRUY7QUFDQWpDLEdBQUcsQ0FBQ2tDLEdBQUcsQ0FBQ3BFLElBQUksQ0FBQztFQUNYd0QsTUFBTSxFQUFFaEIsT0FBTyxDQUFDQyxHQUFHLENBQUNDLFFBQVEsS0FBSyxZQUFZLEdBQ3pDRixPQUFPLENBQUNDLEdBQUcsQ0FBQzRCLGVBQWUsRUFBRUMsS0FBSyxDQUFDLEdBQUcsQ0FBQyxJQUFJLEtBQUssR0FDaEQsSUFBSTtFQUNSQyxXQUFXLEVBQUU7QUFDZixDQUFDLENBQUMsQ0FBQztBQUVIckMsR0FBRyxDQUFDa0MsR0FBRyxDQUFDeEUsT0FBTyxDQUFDNkIsSUFBSSxDQUFDO0VBQUUrQyxLQUFLLEVBQUU7QUFBTyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUM7O0FBRTFDO0FBQ0EsTUFBTUMsaUJBQWlCLEdBQUdoRSxPQUFPLENBQUM7RUFDaENpRSxNQUFNLEVBQUVsQyxPQUFPLENBQUNDLEdBQUcsQ0FBQ2tDLGNBQWMsSUFBSSx1REFBdUQ7RUFDN0ZDLE1BQU0sRUFBRSxLQUFLO0VBQ2JDLGlCQUFpQixFQUFFLEtBQUs7RUFDeEJDLEtBQUssRUFBRXBFLFVBQVUsQ0FBQ3FFLE1BQU0sQ0FBQztJQUN2QkMsUUFBUSxFQUFFeEMsT0FBTyxDQUFDQyxHQUFHLENBQUN3QyxTQUFTLElBQUksb0NBQW9DO0lBQ3ZFQyxjQUFjLEVBQUUsVUFBVTtJQUMxQkMsR0FBRyxFQUFFLEVBQUUsR0FBRyxFQUFFLEdBQUcsRUFBRTtJQUFFO0lBQ25CQyxVQUFVLEVBQUUsUUFBUTtJQUNwQkMsVUFBVSxFQUFFLEVBQUUsR0FBRyxJQUFJLENBQUM7RUFDeEIsQ0FBQyxDQUFDO0VBQ0ZDLE1BQU0sRUFBRTtJQUNOQyxNQUFNLEVBQUUvQyxPQUFPLENBQUNDLEdBQUcsQ0FBQ0MsUUFBUSxLQUFLLFlBQVk7SUFBRTtJQUMvQzhDLFFBQVEsRUFBRSxJQUFJO0lBQUU7SUFDaEJDLE1BQU0sRUFBRSxFQUFFLEdBQUcsRUFBRSxHQUFHLEVBQUUsR0FBRyxJQUFJO0lBQUU7SUFDN0JDLFFBQVEsRUFBRSxRQUFRLENBQUM7RUFDckIsQ0FBQztFQUNEQyxJQUFJLEVBQUUsYUFBYTtFQUFFO0VBQ3JCQyxPQUFPLEVBQUUsS0FBSztFQUFFO0VBQ2hCQyxLQUFLLEVBQUUsU0FBUyxDQUFDO0FBQ25CLENBQUMsQ0FBQztBQUVGM0QsR0FBRyxDQUFDa0MsR0FBRyxDQUFDSyxpQkFBaUIsQ0FBQzs7QUFFMUI7QUFDQSxNQUFNcUIsWUFBWSxHQUFHQSxDQUFDakMsR0FBRyxFQUFFWixHQUFHLEVBQUU4QyxHQUFHLEVBQUVDLElBQUksS0FBSztFQUM1Qy9FLE1BQU0sQ0FBQzRCLEtBQUssQ0FBQyxrQkFBa0IsRUFBRTtJQUMvQkQsT0FBTyxFQUFFaUIsR0FBRyxDQUFDakIsT0FBTztJQUNwQnBCLEtBQUssRUFBRXFDLEdBQUcsQ0FBQ3JDLEtBQUs7SUFDaEJ5RSxHQUFHLEVBQUVoRCxHQUFHLENBQUNnRCxHQUFHO0lBQ1pDLE1BQU0sRUFBRWpELEdBQUcsQ0FBQ2lELE1BQU07SUFDbEJDLEVBQUUsRUFBRWxELEdBQUcsQ0FBQ2tELEVBQUU7SUFDVkMsU0FBUyxFQUFFbkQsR0FBRyxDQUFDQyxHQUFHLENBQUMsWUFBWTtFQUNqQyxDQUFDLENBQUM7O0VBRUY7RUFDQSxJQUFJVyxHQUFHLENBQUM4QixJQUFJLEtBQUssaUJBQWlCLEVBQUU7SUFDbEMsTUFBTXBFLE1BQU0sR0FBRzhFLE1BQU0sQ0FBQ0MsTUFBTSxDQUFDekMsR0FBRyxDQUFDdEMsTUFBTSxDQUFDLENBQUNnRixHQUFHLENBQUNDLENBQUMsS0FBSztNQUNqREMsS0FBSyxFQUFFRCxDQUFDLENBQUNFLElBQUk7TUFDYjlELE9BQU8sRUFBRTRELENBQUMsQ0FBQzVELE9BQU87TUFDbEIrRCxLQUFLLEVBQUVILENBQUMsQ0FBQ0c7SUFDWCxDQUFDLENBQUMsQ0FBQztJQUVILE9BQU9aLEdBQUcsQ0FBQzdCLE1BQU0sQ0FBQyxHQUFHLENBQUMsQ0FBQ3pDLElBQUksQ0FBQztNQUMxQm9CLEtBQUssRUFBRSxtQkFBbUI7TUFDMUIrRCxPQUFPLEVBQUVyRixNQUFNO01BQ2Z5QyxJQUFJLEVBQUU7SUFDUixDQUFDLENBQUM7RUFDSjs7RUFFQTtFQUNBLElBQUlILEdBQUcsQ0FBQ0csSUFBSSxLQUFLLEtBQUssRUFBRTtJQUN0QixNQUFNeUMsS0FBSyxHQUFHSixNQUFNLENBQUNRLElBQUksQ0FBQ2hELEdBQUcsQ0FBQ2lELFFBQVEsQ0FBQyxDQUFDLENBQUMsQ0FBQztJQUMxQyxNQUFNSCxLQUFLLEdBQUc5QyxHQUFHLENBQUNpRCxRQUFRLENBQUNMLEtBQUssQ0FBQztJQUNqQyxPQUFPVixHQUFHLENBQUM3QixNQUFNLENBQUMsR0FBRyxDQUFDLENBQUN6QyxJQUFJLENBQUM7TUFDMUJvQixLQUFLLEVBQUUsR0FBRzRELEtBQUssS0FBS0UsS0FBSyxrQkFBa0I7TUFDM0MzQyxJQUFJLEVBQUU7SUFDUixDQUFDLENBQUM7RUFDSjs7RUFFQTtFQUNBLElBQUlILEdBQUcsQ0FBQzhCLElBQUksS0FBSyxtQkFBbUIsRUFBRTtJQUNwQyxPQUFPSSxHQUFHLENBQUM3QixNQUFNLENBQUMsR0FBRyxDQUFDLENBQUN6QyxJQUFJLENBQUM7TUFDMUJvQixLQUFLLEVBQUUsMEJBQTBCO01BQ2pDbUIsSUFBSSxFQUFFO0lBQ1IsQ0FBQyxDQUFDO0VBQ0o7RUFFQSxJQUFJSCxHQUFHLENBQUM4QixJQUFJLEtBQUssbUJBQW1CLEVBQUU7SUFDcEMsT0FBT0ksR0FBRyxDQUFDN0IsTUFBTSxDQUFDLEdBQUcsQ0FBQyxDQUFDekMsSUFBSSxDQUFDO01BQzFCb0IsS0FBSyxFQUFFLG1CQUFtQjtNQUMxQm1CLElBQUksRUFBRTtJQUNSLENBQUMsQ0FBQztFQUNKOztFQUVBO0VBQ0ErQixHQUFHLENBQUM3QixNQUFNLENBQUMsR0FBRyxDQUFDLENBQUN6QyxJQUFJLENBQUM7SUFDbkJvQixLQUFLLEVBQUUsdUJBQXVCO0lBQzlCbUIsSUFBSSxFQUFFLGdCQUFnQjtJQUN0QitDLFNBQVMsRUFBRTlELEdBQUcsQ0FBQytELEVBQUUsSUFBSTtFQUN2QixDQUFDLENBQUM7QUFDSixDQUFDOztBQUVEO0FBQ0E5RSxHQUFHLENBQUNrQyxHQUFHLENBQUMsQ0FBQ25CLEdBQUcsRUFBRThDLEdBQUcsRUFBRUMsSUFBSSxLQUFLO0VBQzFCLE1BQU1pQixLQUFLLEdBQUdDLElBQUksQ0FBQ0MsR0FBRyxDQUFDLENBQUM7RUFFeEJwQixHQUFHLENBQUNuQyxFQUFFLENBQUMsUUFBUSxFQUFFLE1BQU07SUFDckIsTUFBTXdELFFBQVEsR0FBR0YsSUFBSSxDQUFDQyxHQUFHLENBQUMsQ0FBQyxHQUFHRixLQUFLO0lBQ25DaEcsTUFBTSxDQUFDb0csSUFBSSxDQUFDLEdBQUdwRSxHQUFHLENBQUNpRCxNQUFNLElBQUlqRCxHQUFHLENBQUNnRCxHQUFHLE1BQU1GLEdBQUcsQ0FBQ3VCLFVBQVUsS0FBS0YsUUFBUSxLQUFLLEVBQUU7TUFDMUVqQixFQUFFLEVBQUVsRCxHQUFHLENBQUNrRCxFQUFFO01BQ1ZDLFNBQVMsRUFBRW5ELEdBQUcsQ0FBQ0MsR0FBRyxDQUFDLFlBQVksQ0FBQztNQUNoQ3FFLElBQUksRUFBRXRFLEdBQUcsQ0FBQ3NFLElBQUksRUFBRUMsUUFBUSxJQUFJLFdBQVc7TUFDdkNsSCxJQUFJLEVBQUUyQyxHQUFHLENBQUNpRCxNQUFNLEtBQUssS0FBSyxHQUFHdUIsSUFBSSxDQUFDQyxTQUFTLENBQUN6RSxHQUFHLENBQUMzQyxJQUFJLENBQUMsR0FBR3FIO0lBQzFELENBQUMsQ0FBQztFQUNKLENBQUMsQ0FBQztFQUVGM0IsSUFBSSxDQUFDLENBQUM7QUFDUixDQUFDLENBQUM7O0FBRUY7QUFDQSxNQUFNNEIsbUJBQW1CLEdBQUcsTUFBQUEsQ0FBTzNFLEdBQUcsRUFBRThDLEdBQUcsRUFBRUMsSUFBSSxLQUFLO0VBQ3BELElBQUk7SUFDRmxDLE9BQU8sQ0FBQ0MsR0FBRyxDQUFDLDhDQUE4QyxFQUFFO01BQUVrQyxHQUFHLEVBQUVoRCxHQUFHLENBQUNnRCxHQUFHO01BQUVDLE1BQU0sRUFBRWpELEdBQUcsQ0FBQ2lELE1BQU07TUFBRTJCLFNBQVMsRUFBRTVFLEdBQUcsQ0FBQzZFO0lBQVUsQ0FBQyxDQUFDOztJQUUzSDtJQUNBLElBQUk3RSxHQUFHLENBQUN4QyxPQUFPLElBQUl3QyxHQUFHLENBQUN4QyxPQUFPLENBQUNzSCxhQUFhLElBQUk5RSxHQUFHLENBQUN4QyxPQUFPLENBQUN1SCxNQUFNLEVBQUU7TUFDbEVsRSxPQUFPLENBQUNDLEdBQUcsQ0FBQyw0Q0FBNEMsRUFBRWQsR0FBRyxDQUFDeEMsT0FBTyxDQUFDdUgsTUFBTSxDQUFDO01BRTdFLE1BQU1ULElBQUksR0FBRyxNQUFNekcsSUFBSSxDQUFDbUgsUUFBUSxDQUFDaEYsR0FBRyxDQUFDeEMsT0FBTyxDQUFDdUgsTUFBTSxDQUFDO01BQ3BELElBQUlULElBQUksRUFBRTtRQUNSekQsT0FBTyxDQUFDQyxHQUFHLENBQUMsdUJBQXVCLEVBQUU7VUFBRXlELFFBQVEsRUFBRUQsSUFBSSxDQUFDQyxRQUFRO1VBQUVSLEVBQUUsRUFBRU8sSUFBSSxDQUFDVyxHQUFHO1VBQUVoRSxNQUFNLEVBQUVxRCxJQUFJLENBQUNyRDtRQUFPLENBQUMsQ0FBQztRQUNwR2pCLEdBQUcsQ0FBQ2tGLFdBQVcsR0FBR1osSUFBSSxDQUFDLENBQUM7TUFDMUIsQ0FBQyxNQUFNO1FBQ0x6RCxPQUFPLENBQUNDLEdBQUcsQ0FBQyxvREFBb0QsRUFBRWQsR0FBRyxDQUFDeEMsT0FBTyxDQUFDdUgsTUFBTSxDQUFDO1FBQ3JGO1FBQ0EsT0FBTy9FLEdBQUcsQ0FBQ3hDLE9BQU8sQ0FBQ3NILGFBQWE7UUFDaEMsT0FBTzlFLEdBQUcsQ0FBQ3hDLE9BQU8sQ0FBQ3VILE1BQU07TUFDM0I7SUFDRixDQUFDLE1BQU07TUFDTGxFLE9BQU8sQ0FBQ0MsR0FBRyxDQUFDLDhEQUE4RCxDQUFDO01BQzNFZCxHQUFHLENBQUNrRixXQUFXLEdBQUcsSUFBSSxDQUFDLENBQUM7SUFDMUI7SUFDQW5DLElBQUksQ0FBQyxDQUFDO0VBQ1IsQ0FBQyxDQUFDLE9BQU9uRCxLQUFLLEVBQUU7SUFDZDVCLE1BQU0sQ0FBQ21ILElBQUksQ0FBQywrQkFBK0IsRUFBRTtNQUMzQ3ZGLEtBQUssRUFBRUEsS0FBSyxDQUFDRCxPQUFPO01BQ3BCaUYsU0FBUyxFQUFFNUUsR0FBRyxDQUFDNkUsU0FBUztNQUN4QjNCLEVBQUUsRUFBRWxELEdBQUcsQ0FBQ2tEO0lBQ1YsQ0FBQyxDQUFDO0lBQ0ZsRCxHQUFHLENBQUNrRixXQUFXLEdBQUcsSUFBSSxDQUFDLENBQUM7SUFDeEJuQyxJQUFJLENBQUMsQ0FBQztFQUNSO0FBQ0YsQ0FBQzs7QUFFRDtBQUNBLE1BQU1xQyxpQkFBaUIsR0FBRyxNQUFBQSxDQUFPcEYsR0FBRyxFQUFFOEMsR0FBRyxFQUFFQyxJQUFJLEtBQUs7RUFDbEQsSUFBSTtJQUNGbEMsT0FBTyxDQUFDQyxHQUFHLENBQUMsMENBQTBDLEVBQUU7TUFBRWtDLEdBQUcsRUFBRWhELEdBQUcsQ0FBQ2dELEdBQUc7TUFBRUMsTUFBTSxFQUFFakQsR0FBRyxDQUFDaUQ7SUFBTyxDQUFDLENBQUM7SUFDN0YsTUFBTW9DLFVBQVUsR0FBR3JGLEdBQUcsQ0FBQ2tCLE9BQU8sQ0FBQyxlQUFlLENBQUM7SUFDL0MsTUFBTW9FLEtBQUssR0FBR0QsVUFBVSxJQUFJQSxVQUFVLENBQUNoRSxLQUFLLENBQUMsR0FBRyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQzs7SUFFdERSLE9BQU8sQ0FBQ0MsR0FBRyxDQUFDLDZCQUE2QixFQUFFO01BQUV5RSxhQUFhLEVBQUUsQ0FBQyxDQUFDRixVQUFVO01BQUVHLFFBQVEsRUFBRSxDQUFDLENBQUNGO0lBQU0sQ0FBQyxDQUFDO0lBRTlGLElBQUksQ0FBQ0EsS0FBSyxFQUFFO01BQ1Z6RSxPQUFPLENBQUNDLEdBQUcsQ0FBQyxxQkFBcUIsQ0FBQztNQUNsQyxPQUFPZ0MsR0FBRyxDQUFDN0IsTUFBTSxDQUFDLEdBQUcsQ0FBQyxDQUFDekMsSUFBSSxDQUFDO1FBQzFCb0IsS0FBSyxFQUFFLHVCQUF1QjtRQUM5Qm1CLElBQUksRUFBRTtNQUNSLENBQUMsQ0FBQztJQUNKO0lBRUEsTUFBTTBFLE9BQU8sR0FBRzNJLEdBQUcsQ0FBQzRJLE1BQU0sQ0FBQ0osS0FBSyxFQUFFL0YsT0FBTyxDQUFDQyxHQUFHLENBQUNtRyxVQUFVLENBQUM7SUFDekQ5RSxPQUFPLENBQUNDLEdBQUcsQ0FBQyxnQkFBZ0IsRUFBRTtNQUFFaUUsTUFBTSxFQUFFVSxPQUFPLENBQUNWLE1BQU07TUFBRVIsUUFBUSxFQUFFa0IsT0FBTyxDQUFDbEI7SUFBUyxDQUFDLENBQUM7SUFDckYsTUFBTUQsSUFBSSxHQUFHLE1BQU16RyxJQUFJLENBQUNtSCxRQUFRLENBQUNTLE9BQU8sQ0FBQ1YsTUFBTSxDQUFDO0lBRWhELElBQUksQ0FBQ1QsSUFBSSxFQUFFO01BQ1R6RCxPQUFPLENBQUNDLEdBQUcsQ0FBQyx3Q0FBd0MsRUFBRTJFLE9BQU8sQ0FBQ1YsTUFBTSxDQUFDO01BQ3JFLE9BQU9qQyxHQUFHLENBQUM3QixNQUFNLENBQUMsR0FBRyxDQUFDLENBQUN6QyxJQUFJLENBQUM7UUFDMUJvQixLQUFLLEVBQUUsZ0JBQWdCO1FBQ3ZCbUIsSUFBSSxFQUFFO01BQ1IsQ0FBQyxDQUFDO0lBQ0o7SUFFQWYsR0FBRyxDQUFDc0UsSUFBSSxHQUFHQSxJQUFJO0lBQ2Z6RCxPQUFPLENBQUNDLEdBQUcsQ0FBQywyQ0FBMkMsRUFBRXdELElBQUksQ0FBQ0MsUUFBUSxFQUFFO01BQUVSLEVBQUUsRUFBRU8sSUFBSSxDQUFDVyxHQUFHO01BQUVoRSxNQUFNLEVBQUVxRCxJQUFJLENBQUNyRDtJQUFPLENBQUMsQ0FBQztJQUM5RzhCLElBQUksQ0FBQyxDQUFDO0VBQ1IsQ0FBQyxDQUFDLE9BQU9uRCxLQUFLLEVBQUU7SUFDZDVCLE1BQU0sQ0FBQ21ILElBQUksQ0FBQyw0QkFBNEIsRUFBRTtNQUN4Q3ZGLEtBQUssRUFBRUEsS0FBSyxDQUFDRCxPQUFPO01BQ3BCdUQsRUFBRSxFQUFFbEQsR0FBRyxDQUFDa0Q7SUFDVixDQUFDLENBQUM7SUFFRixJQUFJdEQsS0FBSyxDQUFDOEMsSUFBSSxLQUFLLG1CQUFtQixFQUFFO01BQ3RDLE9BQU9JLEdBQUcsQ0FBQzdCLE1BQU0sQ0FBQyxHQUFHLENBQUMsQ0FBQ3pDLElBQUksQ0FBQztRQUMxQm9CLEtBQUssRUFBRSxzQkFBc0I7UUFDN0JtQixJQUFJLEVBQUU7TUFDUixDQUFDLENBQUM7SUFDSjtJQUVBLElBQUluQixLQUFLLENBQUM4QyxJQUFJLEtBQUssbUJBQW1CLEVBQUU7TUFDdEMsT0FBT0ksR0FBRyxDQUFDN0IsTUFBTSxDQUFDLEdBQUcsQ0FBQyxDQUFDekMsSUFBSSxDQUFDO1FBQzFCb0IsS0FBSyxFQUFFLG1CQUFtQjtRQUMxQm1CLElBQUksRUFBRTtNQUNSLENBQUMsQ0FBQztJQUNKO0lBRUEsT0FBTytCLEdBQUcsQ0FBQzdCLE1BQU0sQ0FBQyxHQUFHLENBQUMsQ0FBQ3pDLElBQUksQ0FBQztNQUMxQm9CLEtBQUssRUFBRSwyQkFBMkI7TUFDbENtQixJQUFJLEVBQUU7SUFDUixDQUFDLENBQUM7RUFDSjtBQUNGLENBQUM7O0FBRUQ7QUFDQSxNQUFNNkUsZ0JBQWdCLEdBQUcsTUFBQUEsQ0FBTzVGLEdBQUcsRUFBRThDLEdBQUcsRUFBRUMsSUFBSSxLQUFLO0VBQ2pELElBQUk7SUFDRixJQUFJLENBQUMvQyxHQUFHLENBQUNzRSxJQUFJLEVBQUU7TUFDYixPQUFPeEIsR0FBRyxDQUFDN0IsTUFBTSxDQUFDLEdBQUcsQ0FBQyxDQUFDekMsSUFBSSxDQUFDO1FBQzFCb0IsS0FBSyxFQUFFLHlCQUF5QjtRQUNoQ21CLElBQUksRUFBRTtNQUNSLENBQUMsQ0FBQztJQUNKO0lBRUEsSUFBSSxDQUFDZixHQUFHLENBQUNzRSxJQUFJLENBQUN1QixzQkFBc0IsQ0FBQyxDQUFDLEVBQUU7TUFDdEMsT0FBTy9DLEdBQUcsQ0FBQzdCLE1BQU0sQ0FBQyxHQUFHLENBQUMsQ0FBQ3pDLElBQUksQ0FBQztRQUMxQm9CLEtBQUssRUFBRSwrQkFBK0I7UUFDdENtQixJQUFJLEVBQUU7TUFDUixDQUFDLENBQUM7SUFDSjtJQUVBZ0MsSUFBSSxDQUFDLENBQUM7RUFDUixDQUFDLENBQUMsT0FBT25ELEtBQUssRUFBRTtJQUNkNUIsTUFBTSxDQUFDNEIsS0FBSyxDQUFDLHdCQUF3QixFQUFFQSxLQUFLLENBQUM7SUFDN0NrRCxHQUFHLENBQUM3QixNQUFNLENBQUMsR0FBRyxDQUFDLENBQUN6QyxJQUFJLENBQUM7TUFDbkJvQixLQUFLLEVBQUUseUNBQXlDO01BQ2hEbUIsSUFBSSxFQUFFO0lBQ1IsQ0FBQyxDQUFDO0VBQ0o7QUFDRixDQUFDO0FBRUQsTUFBTStFLFlBQVksR0FBRyxNQUFBQSxDQUFPOUYsR0FBRyxFQUFFOEMsR0FBRyxFQUFFQyxJQUFJLEtBQUs7RUFDN0MsSUFBSTtJQUNGLElBQUksQ0FBQy9DLEdBQUcsQ0FBQ3NFLElBQUksRUFBRTtNQUNiLE9BQU94QixHQUFHLENBQUM3QixNQUFNLENBQUMsR0FBRyxDQUFDLENBQUN6QyxJQUFJLENBQUM7UUFDMUJvQixLQUFLLEVBQUUseUJBQXlCO1FBQ2hDbUIsSUFBSSxFQUFFO01BQ1IsQ0FBQyxDQUFDO0lBQ0o7SUFFQSxJQUFJLENBQUNmLEdBQUcsQ0FBQ3NFLElBQUksQ0FBQ3lCLGtCQUFrQixDQUFDLENBQUMsRUFBRTtNQUNsQyxPQUFPakQsR0FBRyxDQUFDN0IsTUFBTSxDQUFDLEdBQUcsQ0FBQyxDQUFDekMsSUFBSSxDQUFDO1FBQzFCb0IsS0FBSyxFQUFFLG1DQUFtQztRQUMxQ21CLElBQUksRUFBRTtNQUNSLENBQUMsQ0FBQztJQUNKO0lBRUFnQyxJQUFJLENBQUMsQ0FBQztFQUNSLENBQUMsQ0FBQyxPQUFPbkQsS0FBSyxFQUFFO0lBQ2Q1QixNQUFNLENBQUM0QixLQUFLLENBQUMsb0JBQW9CLEVBQUVBLEtBQUssQ0FBQztJQUN6Q2tELEdBQUcsQ0FBQzdCLE1BQU0sQ0FBQyxHQUFHLENBQUMsQ0FBQ3pDLElBQUksQ0FBQztNQUNuQm9CLEtBQUssRUFBRSx5Q0FBeUM7TUFDaERtQixJQUFJLEVBQUU7SUFDUixDQUFDLENBQUM7RUFDSjtBQUNGLENBQUM7O0FBRUQ7O0FBRUE7QUFDQTlCLEdBQUcsQ0FBQ2tDLEdBQUcsQ0FBQ3dELG1CQUFtQixDQUFDOztBQUU1QjtBQUNBMUYsR0FBRyxDQUFDa0MsR0FBRyxDQUFDZixrQkFBa0IsQ0FBQzs7QUFFM0I7QUFDQW5CLEdBQUcsQ0FBQ2tDLEdBQUcsQ0FDTGhFLE1BQU0sQ0FBQztFQUNMNkkscUJBQXFCLEVBQUU7SUFDckJDLFVBQVUsRUFBRTtNQUNWQyxVQUFVLEVBQUUsQ0FBQyxRQUFRLENBQUM7TUFDdEJDLFFBQVEsRUFBRSxDQUFDLFFBQVEsRUFBRSxpQkFBaUIsRUFBRSw4QkFBOEIsQ0FBQztNQUN2RUMsT0FBTyxFQUFFLENBQUMsUUFBUSxFQUFFLDJCQUEyQixDQUFDO01BQ2hEQyxNQUFNLEVBQUUsQ0FBQyxRQUFRLEVBQUUsT0FBTyxDQUFDO01BQzNCQyxTQUFTLEVBQUUsQ0FBQyxRQUFRLEVBQUUsaUJBQWlCLENBQUM7TUFDeENDLFVBQVUsRUFBRSxDQUFDLFFBQVE7SUFDdkI7RUFDRixDQUFDO0VBQ0RDLHlCQUF5QixFQUFFO0FBQzdCLENBQUMsQ0FDSCxDQUFDOztBQUVEO0FBQ0EsTUFBTUMsY0FBYyxHQUFHO0VBQ3JCQyxVQUFVLEVBQUU7SUFDVkMsT0FBTyxFQUFFLE9BQU87SUFDaEJ2QyxJQUFJLEVBQUU7TUFDSndDLEtBQUssRUFBRSxhQUFhO01BQ3BCQyxPQUFPLEVBQUUsT0FBTztNQUNoQkMsV0FBVyxFQUFFLDhFQUE4RTtNQUMzRkMsT0FBTyxFQUFFO1FBQ1ByRSxJQUFJLEVBQUU7TUFDUjtJQUNGLENBQUM7SUFDRHNFLE9BQU8sRUFBRSxDQUNQO01BQ0VoRSxHQUFHLEVBQUUsdUJBQXVCO01BQzVCOEQsV0FBVyxFQUFFO0lBQ2YsQ0FBQyxDQUNGO0lBQ0RHLFVBQVUsRUFBRTtNQUNWQyxPQUFPLEVBQUU7UUFDUHJKLElBQUksRUFBRTtVQUNKc0osSUFBSSxFQUFFLFFBQVE7VUFDZEMsVUFBVSxFQUFFO1lBQ1ZyRCxFQUFFLEVBQUU7Y0FDRm9ELElBQUksRUFBRSxRQUFRO2NBQ2RMLFdBQVcsRUFBRTtZQUNmLENBQUM7WUFDRHZDLFFBQVEsRUFBRTtjQUNSNEMsSUFBSSxFQUFFLFFBQVE7Y0FDZEwsV0FBVyxFQUFFLGVBQWU7Y0FDNUJPLFNBQVMsRUFBRSxDQUFDO2NBQ1pDLFNBQVMsRUFBRTtZQUNiLENBQUM7WUFDREMsS0FBSyxFQUFFO2NBQ0xKLElBQUksRUFBRSxRQUFRO2NBQ2RoSixNQUFNLEVBQUUsT0FBTztjQUNmMkksV0FBVyxFQUFFO1lBQ2YsQ0FBQztZQUNEVSxJQUFJLEVBQUU7Y0FDSkwsSUFBSSxFQUFFLFFBQVE7Y0FDZE0sSUFBSSxFQUFFLENBQUMsT0FBTyxFQUFFLFFBQVEsQ0FBQztjQUN6QkMsT0FBTyxFQUFFLFFBQVE7Y0FDakJaLFdBQVcsRUFBRTtZQUNmLENBQUM7WUFDRGEsU0FBUyxFQUFFO2NBQ1RSLElBQUksRUFBRSxRQUFRO2NBQ2RoSixNQUFNLEVBQUUsV0FBVztjQUNuQjJJLFdBQVcsRUFBRTtZQUNmLENBQUM7WUFDRGMsVUFBVSxFQUFFO2NBQ1ZULElBQUksRUFBRSxRQUFRO2NBQ2RoSixNQUFNLEVBQUUsV0FBVztjQUNuQjJJLFdBQVcsRUFBRTtZQUNmLENBQUM7WUFDRDdGLE1BQU0sRUFBRTtjQUNOa0csSUFBSSxFQUFFLFFBQVE7Y0FDZE0sSUFBSSxFQUFFLENBQUMsUUFBUSxFQUFFLFNBQVMsQ0FBQztjQUMzQlgsV0FBVyxFQUFFO1lBQ2Y7VUFDRixDQUFDO1VBQ0RlLFFBQVEsRUFBRSxDQUFDLFVBQVUsRUFBRSxPQUFPLEVBQUUsVUFBVSxFQUFFLE1BQU07UUFDcEQsQ0FBQztRQUNEOUosT0FBTyxFQUFFO1VBQ1BvSixJQUFJLEVBQUUsUUFBUTtVQUNkQyxVQUFVLEVBQUU7WUFDVnJELEVBQUUsRUFBRTtjQUNGb0QsSUFBSSxFQUFFLFFBQVE7Y0FDZEwsV0FBVyxFQUFFO1lBQ2YsQ0FBQztZQUNEcEUsSUFBSSxFQUFFO2NBQ0p5RSxJQUFJLEVBQUUsUUFBUTtjQUNkTCxXQUFXLEVBQUUsc0JBQXNCO2NBQ25DTyxTQUFTLEVBQUUsQ0FBQztjQUNaQyxTQUFTLEVBQUU7WUFDYixDQUFDO1lBQ0RILElBQUksRUFBRTtjQUNKQSxJQUFJLEVBQUUsUUFBUTtjQUNkTSxJQUFJLEVBQUUsQ0FBQyxNQUFNLEVBQUUsT0FBTyxDQUFDO2NBQ3ZCWCxXQUFXLEVBQUU7WUFDZixDQUFDO1lBQ0RBLFdBQVcsRUFBRTtjQUNYSyxJQUFJLEVBQUUsUUFBUTtjQUNkTCxXQUFXLEVBQUUscUJBQXFCO2NBQ2xDUSxTQUFTLEVBQUU7WUFDYixDQUFDO1lBQ0RRLFNBQVMsRUFBRTtjQUNUWCxJQUFJLEVBQUUsUUFBUTtjQUNkTCxXQUFXLEVBQUU7WUFDZixDQUFDO1lBQ0RpQixRQUFRLEVBQUU7Y0FDUlosSUFBSSxFQUFFLFFBQVE7Y0FDZE8sT0FBTyxFQUFFLENBQUM7Y0FDVlosV0FBVyxFQUFFO1lBQ2Y7VUFDRixDQUFDO1VBQ0RlLFFBQVEsRUFBRSxDQUFDLElBQUksRUFBRSxNQUFNLEVBQUUsTUFBTSxFQUFFLFdBQVc7UUFDOUMsQ0FBQztRQUNERyxlQUFlLEVBQUU7VUFDZmIsSUFBSSxFQUFFLFFBQVE7VUFDZFUsUUFBUSxFQUFFLENBQUMsVUFBVSxFQUFFLE9BQU8sRUFBRSxVQUFVLENBQUM7VUFDM0NULFVBQVUsRUFBRTtZQUNWN0MsUUFBUSxFQUFFO2NBQ1I0QyxJQUFJLEVBQUUsUUFBUTtjQUNkRSxTQUFTLEVBQUUsQ0FBQztjQUNaQyxTQUFTLEVBQUUsRUFBRTtjQUNiUixXQUFXLEVBQUU7WUFDZixDQUFDO1lBQ0RTLEtBQUssRUFBRTtjQUNMSixJQUFJLEVBQUUsUUFBUTtjQUNkaEosTUFBTSxFQUFFLE9BQU87Y0FDZjJJLFdBQVcsRUFBRTtZQUNmLENBQUM7WUFDRG1CLFFBQVEsRUFBRTtjQUNSZCxJQUFJLEVBQUUsUUFBUTtjQUNkRSxTQUFTLEVBQUUsQ0FBQztjQUNaUCxXQUFXLEVBQUU7WUFDZjtVQUNGO1FBQ0YsQ0FBQztRQUNEb0IsWUFBWSxFQUFFO1VBQ1pmLElBQUksRUFBRSxRQUFRO1VBQ2RVLFFBQVEsRUFBRSxDQUFDLFlBQVksRUFBRSxVQUFVLENBQUM7VUFDcENULFVBQVUsRUFBRTtZQUNWZSxVQUFVLEVBQUU7Y0FDVmhCLElBQUksRUFBRSxRQUFRO2NBQ2RMLFdBQVcsRUFBRTtZQUNmLENBQUM7WUFDRG1CLFFBQVEsRUFBRTtjQUNSZCxJQUFJLEVBQUUsUUFBUTtjQUNkTCxXQUFXLEVBQUU7WUFDZjtVQUNGO1FBQ0YsQ0FBQztRQUNEc0IsWUFBWSxFQUFFO1VBQ1pqQixJQUFJLEVBQUUsUUFBUTtVQUNkQyxVQUFVLEVBQUU7WUFDVjlCLEtBQUssRUFBRTtjQUNMNkIsSUFBSSxFQUFFLFFBQVE7Y0FDZEwsV0FBVyxFQUFFO1lBQ2YsQ0FBQztZQUNEeEMsSUFBSSxFQUFFO2NBQ0orRCxJQUFJLEVBQUU7WUFDUjtVQUNGO1FBQ0YsQ0FBQztRQUNEQyxjQUFjLEVBQUU7VUFDZG5CLElBQUksRUFBRSxRQUFRO1VBQ2RVLFFBQVEsRUFBRSxDQUFDLE1BQU0sRUFBRSxNQUFNLENBQUM7VUFDMUJULFVBQVUsRUFBRTtZQUNWMUUsSUFBSSxFQUFFO2NBQ0p5RSxJQUFJLEVBQUUsUUFBUTtjQUNkRSxTQUFTLEVBQUUsQ0FBQztjQUNaQyxTQUFTLEVBQUUsR0FBRztjQUNkUixXQUFXLEVBQUU7WUFDZixDQUFDO1lBQ0RLLElBQUksRUFBRTtjQUNKQSxJQUFJLEVBQUUsUUFBUTtjQUNkTSxJQUFJLEVBQUUsQ0FBQyxNQUFNLEVBQUUsT0FBTyxDQUFDO2NBQ3ZCWCxXQUFXLEVBQUU7WUFDZixDQUFDO1lBQ0RBLFdBQVcsRUFBRTtjQUNYSyxJQUFJLEVBQUUsUUFBUTtjQUNkRyxTQUFTLEVBQUUsR0FBRztjQUNkUixXQUFXLEVBQUU7WUFDZjtVQUNGO1FBQ0YsQ0FBQztRQUNEeUIsYUFBYSxFQUFFO1VBQ2JwQixJQUFJLEVBQUUsUUFBUTtVQUNkQyxVQUFVLEVBQUU7WUFDVnhILEtBQUssRUFBRTtjQUNMdUgsSUFBSSxFQUFFLFFBQVE7Y0FDZEwsV0FBVyxFQUFFO1lBQ2YsQ0FBQztZQUNEeEksTUFBTSxFQUFFO2NBQ042SSxJQUFJLEVBQUUsT0FBTztjQUNicUIsS0FBSyxFQUFFO2dCQUNMckIsSUFBSSxFQUFFLFFBQVE7Z0JBQ2RDLFVBQVUsRUFBRTtrQkFDVnFCLEdBQUcsRUFBRTtvQkFBRXRCLElBQUksRUFBRTtrQkFBUyxDQUFDO2tCQUN2QnVCLEtBQUssRUFBRTtvQkFBRXZCLElBQUksRUFBRTtrQkFBUyxDQUFDO2tCQUN6QndCLFFBQVEsRUFBRTtvQkFBRXhCLElBQUksRUFBRTtrQkFBUztnQkFDN0I7Y0FDRixDQUFDO2NBQ0RMLFdBQVcsRUFBRTtZQUNmO1VBQ0Y7UUFDRjtNQUNGLENBQUM7TUFDRDhCLGVBQWUsRUFBRTtRQUNmQyxVQUFVLEVBQUU7VUFDVjFCLElBQUksRUFBRSxNQUFNO1VBQ1oyQixNQUFNLEVBQUUsUUFBUTtVQUNoQkMsWUFBWSxFQUFFO1FBQ2hCO01BQ0Y7SUFDRixDQUFDO0lBQ0RDLFFBQVEsRUFBRSxDQUNSO01BQ0VILFVBQVUsRUFBRTtJQUNkLENBQUM7RUFFTCxDQUFDO0VBQ0RJLElBQUksRUFBRSxDQUFDLGFBQWEsQ0FBQyxDQUFDO0FBQ3hCLENBQUM7QUFFRCxNQUFNQyxXQUFXLEdBQUdqTSxZQUFZLENBQUN3SixjQUFjLENBQUM7O0FBRWhEO0FBQ0F4SCxHQUFHLENBQUNrQyxHQUFHLENBQUMsV0FBVyxFQUFFLENBQUNuQixHQUFHLEVBQUU4QyxHQUFHLEVBQUVDLElBQUksS0FBSztFQUN2QztFQUNBRCxHQUFHLENBQUNxRyxZQUFZLENBQUMseUJBQXlCLENBQUM7RUFDM0NwRyxJQUFJLENBQUMsQ0FBQztBQUNSLENBQUMsRUFBRTdGLFNBQVMsQ0FBQ2tNLEtBQUssRUFBRWxNLFNBQVMsQ0FBQ21NLEtBQUssQ0FBQ0gsV0FBVyxDQUFDLENBQUM7O0FBRWpEO0FBQ0FySSxPQUFPLENBQUNDLEdBQUcsQ0FBQyx1REFBdUQsQ0FBQzs7QUFFcEU7QUFDQTdCLEdBQUcsQ0FBQ2dCLEdBQUcsQ0FBQyxrQkFBa0IsRUFBRW1GLGlCQUFpQixFQUFFUSxnQkFBZ0IsRUFBRXpGLGNBQWMsRUFBRSxPQUFPSCxHQUFHLEVBQUU4QyxHQUFHLEtBQUs7RUFDbkcsSUFBSTtJQUNGLE1BQU13RyxJQUFJLEdBQUdDLFFBQVEsQ0FBQ3ZKLEdBQUcsQ0FBQ3dKLEtBQUssQ0FBQ0YsSUFBSSxDQUFDLElBQUksQ0FBQztJQUMxQyxNQUFNL0gsS0FBSyxHQUFHZ0ksUUFBUSxDQUFDdkosR0FBRyxDQUFDd0osS0FBSyxDQUFDakksS0FBSyxDQUFDLElBQUksRUFBRTtJQUM3QyxNQUFNeEIsSUFBSSxHQUFHLENBQUN1SixJQUFJLEdBQUcsQ0FBQyxJQUFJL0gsS0FBSztJQUUvQixNQUFNa0ksS0FBSyxHQUFHLE1BQU01TCxJQUFJLENBQUM2TCxJQUFJLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FDOUJDLE1BQU0sQ0FBQyw4RkFBOEYsQ0FBQyxDQUN0R0MsSUFBSSxDQUFDO01BQUVqQyxTQUFTLEVBQUUsQ0FBQztJQUFFLENBQUMsQ0FBQyxDQUN2QjVILElBQUksQ0FBQ0EsSUFBSSxDQUFDLENBQ1Z3QixLQUFLLENBQUNBLEtBQUssQ0FBQztJQUVmLE1BQU1zSSxLQUFLLEdBQUcsTUFBTWhNLElBQUksQ0FBQ2lNLGNBQWMsQ0FBQyxDQUFDO0lBRXpDOUwsTUFBTSxDQUFDb0csSUFBSSxDQUFDLGdDQUFnQ3BFLEdBQUcsQ0FBQ3NFLElBQUksQ0FBQ0MsUUFBUSxFQUFFLEVBQUU7TUFDL0R3RixPQUFPLEVBQUUvSixHQUFHLENBQUNzRSxJQUFJLENBQUNXLEdBQUc7TUFDckJxRSxJQUFJO01BQ0ovSCxLQUFLO01BQ0xzSTtJQUNGLENBQUMsQ0FBQztJQUVGL0csR0FBRyxDQUFDdEUsSUFBSSxDQUFDO01BQ1BpTCxLQUFLO01BQ0xPLFVBQVUsRUFBRTtRQUNWVixJQUFJO1FBQ0ovSCxLQUFLO1FBQ0xzSSxLQUFLO1FBQ0xJLEtBQUssRUFBRUMsSUFBSSxDQUFDQyxJQUFJLENBQUNOLEtBQUssR0FBR3RJLEtBQUs7TUFDaEM7SUFDRixDQUFDLENBQUM7RUFDSixDQUFDLENBQUMsT0FBTzNCLEtBQUssRUFBRTtJQUNkNUIsTUFBTSxDQUFDNEIsS0FBSyxDQUFDLGlDQUFpQyxFQUFFQSxLQUFLLENBQUM7SUFDdERrRCxHQUFHLENBQUM3QixNQUFNLENBQUMsR0FBRyxDQUFDLENBQUN6QyxJQUFJLENBQUM7TUFBRW9CLEtBQUssRUFBRSx1QkFBdUI7TUFBRW1CLElBQUksRUFBRTtJQUFpQixDQUFDLENBQUM7RUFDbEY7QUFDRixDQUFDLENBQUM7O0FBRUY7QUFDQTlCLEdBQUcsQ0FBQ21MLElBQUksQ0FBQyw4QkFBOEIsRUFBRWhGLGlCQUFpQixFQUFFUSxnQkFBZ0IsRUFBRXpGLGNBQWMsRUFBRSxDQUM1RjlDLElBQUksQ0FBQyxRQUFRLENBQUMsQ0FBQ2dOLFFBQVEsQ0FBQztFQUFFQyxHQUFHLEVBQUUsQ0FBQztFQUFFaEwsR0FBRyxFQUFFO0FBQUksQ0FBQyxDQUFDLENBQUNpTCxJQUFJLENBQUMsQ0FBQyxFQUNwRGxOLElBQUksQ0FBQyxVQUFVLENBQUMsQ0FBQ21OLFFBQVEsQ0FBQyxDQUFDLENBQUNDLEtBQUssQ0FBQztFQUFFSCxHQUFHLEVBQUUsQ0FBQztFQUFFaEwsR0FBRyxFQUFFO0FBQVMsQ0FBQyxDQUFDLENBQUM7QUFBQSxDQUM5RCxFQUFFLE9BQU9VLEdBQUcsRUFBRThDLEdBQUcsS0FBSztFQUNyQixJQUFJO0lBQ0YsTUFBTXhFLE1BQU0sR0FBR2hCLGdCQUFnQixDQUFDMEMsR0FBRyxDQUFDO0lBQ3BDLElBQUksQ0FBQzFCLE1BQU0sQ0FBQ29NLE9BQU8sQ0FBQyxDQUFDLEVBQUU7TUFDckIsT0FBTzVILEdBQUcsQ0FBQzdCLE1BQU0sQ0FBQyxHQUFHLENBQUMsQ0FBQ3pDLElBQUksQ0FBQztRQUFFRixNQUFNLEVBQUVBLE1BQU0sQ0FBQ3FNLEtBQUssQ0FBQztNQUFFLENBQUMsQ0FBQztJQUN6RDtJQUVBLE1BQU07TUFBRTVGO0lBQU8sQ0FBQyxHQUFHL0UsR0FBRyxDQUFDNEssTUFBTTtJQUM3QixNQUFNO01BQUVDLE1BQU07TUFBRTFHO0lBQVMsQ0FBQyxHQUFHbkUsR0FBRyxDQUFDM0MsSUFBSTtJQUVyQyxNQUFNaUgsSUFBSSxHQUFHLE1BQU16RyxJQUFJLENBQUNtSCxRQUFRLENBQUNELE1BQU0sQ0FBQztJQUN4QyxJQUFJLENBQUNULElBQUksRUFBRTtNQUNULE9BQU94QixHQUFHLENBQUM3QixNQUFNLENBQUMsR0FBRyxDQUFDLENBQUN6QyxJQUFJLENBQUM7UUFBRW9CLEtBQUssRUFBRTtNQUFpQixDQUFDLENBQUM7SUFDMUQ7O0lBRUE7SUFDQSxJQUFJMEUsSUFBSSxDQUFDVyxHQUFHLENBQUM2RixRQUFRLENBQUMsQ0FBQyxLQUFLOUssR0FBRyxDQUFDc0UsSUFBSSxDQUFDVyxHQUFHLENBQUM2RixRQUFRLENBQUMsQ0FBQyxFQUFFO01BQ25ELE9BQU9oSSxHQUFHLENBQUM3QixNQUFNLENBQUMsR0FBRyxDQUFDLENBQUN6QyxJQUFJLENBQUM7UUFBRW9CLEtBQUssRUFBRTtNQUFzQixDQUFDLENBQUM7SUFDL0Q7O0lBRUE7SUFDQSxJQUFJMEUsSUFBSSxDQUFDa0QsSUFBSSxLQUFLLE9BQU8sSUFBSXhILEdBQUcsQ0FBQ3NFLElBQUksQ0FBQ2tELElBQUksS0FBSyxPQUFPLEVBQUU7TUFDdEQsT0FBTzFFLEdBQUcsQ0FBQzdCLE1BQU0sQ0FBQyxHQUFHLENBQUMsQ0FBQ3pDLElBQUksQ0FBQztRQUFFb0IsS0FBSyxFQUFFO01BQTJCLENBQUMsQ0FBQztJQUNwRTtJQUVBLE1BQU0wRSxJQUFJLENBQUN5RyxHQUFHLENBQUNGLE1BQU0sRUFBRTFHLFFBQVEsRUFBRW5FLEdBQUcsQ0FBQ3NFLElBQUksQ0FBQ1csR0FBRyxDQUFDO0lBRTlDakgsTUFBTSxDQUFDb0csSUFBSSxDQUFDLFFBQVFFLElBQUksQ0FBQ0MsUUFBUSxjQUFjdkUsR0FBRyxDQUFDc0UsSUFBSSxDQUFDQyxRQUFRLEVBQUUsRUFBRTtNQUNsRXlHLFlBQVksRUFBRWpHLE1BQU07TUFDcEJrRyxVQUFVLEVBQUVqTCxHQUFHLENBQUNzRSxJQUFJLENBQUNXLEdBQUc7TUFDeEI0RixNQUFNO01BQ04xRztJQUNGLENBQUMsQ0FBQztJQUVGckIsR0FBRyxDQUFDdEUsSUFBSSxDQUFDO01BQ1BtQixPQUFPLEVBQUUsUUFBUTJFLElBQUksQ0FBQ0MsUUFBUSxrQkFBa0I7TUFDaERELElBQUksRUFBRTtRQUNKUCxFQUFFLEVBQUVPLElBQUksQ0FBQ1csR0FBRztRQUNaVixRQUFRLEVBQUVELElBQUksQ0FBQ0MsUUFBUTtRQUN2QjJHLE1BQU0sRUFBRSxJQUFJO1FBQ1pDLFNBQVMsRUFBRU4sTUFBTTtRQUNqQk8sVUFBVSxFQUFFOUcsSUFBSSxDQUFDOEc7TUFDbkI7SUFDRixDQUFDLENBQUM7RUFDSixDQUFDLENBQUMsT0FBT3hMLEtBQUssRUFBRTtJQUNkNUIsTUFBTSxDQUFDNEIsS0FBSyxDQUFDLHFCQUFxQixFQUFFQSxLQUFLLENBQUM7SUFDMUNrRCxHQUFHLENBQUM3QixNQUFNLENBQUMsR0FBRyxDQUFDLENBQUN6QyxJQUFJLENBQUM7TUFBRW9CLEtBQUssRUFBRTtJQUFxQixDQUFDLENBQUM7RUFDdkQ7QUFDRixDQUFDLENBQUM7O0FBRUY7QUFDQVgsR0FBRyxDQUFDbUwsSUFBSSxDQUFDLGdDQUFnQyxFQUFFaEYsaUJBQWlCLEVBQUVRLGdCQUFnQixFQUFFekYsY0FBYyxFQUFFLE9BQU9ILEdBQUcsRUFBRThDLEdBQUcsS0FBSztFQUNsSCxJQUFJO0lBQ0YsTUFBTTtNQUFFaUM7SUFBTyxDQUFDLEdBQUcvRSxHQUFHLENBQUM0SyxNQUFNO0lBQzdCLE1BQU10RyxJQUFJLEdBQUcsTUFBTXpHLElBQUksQ0FBQ21ILFFBQVEsQ0FBQ0QsTUFBTSxDQUFDO0lBQ3hDLElBQUksQ0FBQ1QsSUFBSSxFQUFFO01BQ1QsT0FBT3hCLEdBQUcsQ0FBQzdCLE1BQU0sQ0FBQyxHQUFHLENBQUMsQ0FBQ3pDLElBQUksQ0FBQztRQUFFb0IsS0FBSyxFQUFFO01BQWlCLENBQUMsQ0FBQztJQUMxRDtJQUVBLElBQUksQ0FBQzBFLElBQUksQ0FBQzRHLE1BQU0sRUFBRTtNQUNoQixPQUFPcEksR0FBRyxDQUFDN0IsTUFBTSxDQUFDLEdBQUcsQ0FBQyxDQUFDekMsSUFBSSxDQUFDO1FBQUVvQixLQUFLLEVBQUU7TUFBcUIsQ0FBQyxDQUFDO0lBQzlEO0lBRUEsTUFBTTBFLElBQUksQ0FBQytHLEtBQUssQ0FBQyxDQUFDO0lBRWxCck4sTUFBTSxDQUFDb0csSUFBSSxDQUFDLFFBQVFFLElBQUksQ0FBQ0MsUUFBUSxnQkFBZ0J2RSxHQUFHLENBQUNzRSxJQUFJLENBQUNDLFFBQVEsRUFBRSxFQUFFO01BQ3BFK0csY0FBYyxFQUFFdkcsTUFBTTtNQUN0QndHLFlBQVksRUFBRXZMLEdBQUcsQ0FBQ3NFLElBQUksQ0FBQ1c7SUFDekIsQ0FBQyxDQUFDO0lBRUZuQyxHQUFHLENBQUN0RSxJQUFJLENBQUM7TUFDUG1CLE9BQU8sRUFBRSxRQUFRMkUsSUFBSSxDQUFDQyxRQUFRLG9CQUFvQjtNQUNsREQsSUFBSSxFQUFFO1FBQ0pQLEVBQUUsRUFBRU8sSUFBSSxDQUFDVyxHQUFHO1FBQ1pWLFFBQVEsRUFBRUQsSUFBSSxDQUFDQyxRQUFRO1FBQ3ZCMkcsTUFBTSxFQUFFO01BQ1Y7SUFDRixDQUFDLENBQUM7RUFDSixDQUFDLENBQUMsT0FBT3RMLEtBQUssRUFBRTtJQUNkNUIsTUFBTSxDQUFDNEIsS0FBSyxDQUFDLHVCQUF1QixFQUFFQSxLQUFLLENBQUM7SUFDNUNrRCxHQUFHLENBQUM3QixNQUFNLENBQUMsR0FBRyxDQUFDLENBQUN6QyxJQUFJLENBQUM7TUFBRW9CLEtBQUssRUFBRTtJQUF1QixDQUFDLENBQUM7RUFDekQ7QUFDRixDQUFDLENBQUM7O0FBRUY7QUFDQVgsR0FBRyxDQUFDbUwsSUFBSSxDQUFDLCtCQUErQixFQUFFaEYsaUJBQWlCLEVBQUVRLGdCQUFnQixFQUFFekYsY0FBYyxFQUFFLENBQzdGOUMsSUFBSSxDQUFDLFFBQVEsQ0FBQyxDQUFDZ04sUUFBUSxDQUFDO0VBQUVDLEdBQUcsRUFBRSxDQUFDO0VBQUVoTCxHQUFHLEVBQUU7QUFBSSxDQUFDLENBQUMsQ0FBQ2lMLElBQUksQ0FBQyxDQUFDLEVBQ3BEbE4sSUFBSSxDQUFDLFVBQVUsQ0FBQyxDQUFDbU4sUUFBUSxDQUFDLENBQUMsQ0FBQ0MsS0FBSyxDQUFDO0VBQUVILEdBQUcsRUFBRSxDQUFDO0VBQUVoTCxHQUFHLEVBQUU7QUFBUyxDQUFDLENBQUMsQ0FDN0QsRUFBRSxPQUFPVSxHQUFHLEVBQUU4QyxHQUFHLEtBQUs7RUFDckIsSUFBSTtJQUNGLE1BQU14RSxNQUFNLEdBQUdoQixnQkFBZ0IsQ0FBQzBDLEdBQUcsQ0FBQztJQUNwQyxJQUFJLENBQUMxQixNQUFNLENBQUNvTSxPQUFPLENBQUMsQ0FBQyxFQUFFO01BQ3JCLE9BQU81SCxHQUFHLENBQUM3QixNQUFNLENBQUMsR0FBRyxDQUFDLENBQUN6QyxJQUFJLENBQUM7UUFBRUYsTUFBTSxFQUFFQSxNQUFNLENBQUNxTSxLQUFLLENBQUM7TUFBRSxDQUFDLENBQUM7SUFDekQ7SUFFQSxNQUFNO01BQUU1RjtJQUFPLENBQUMsR0FBRy9FLEdBQUcsQ0FBQzRLLE1BQU07SUFDN0IsTUFBTTtNQUFFQyxNQUFNO01BQUUxRztJQUFTLENBQUMsR0FBR25FLEdBQUcsQ0FBQzNDLElBQUk7SUFFckMsTUFBTWlILElBQUksR0FBRyxNQUFNekcsSUFBSSxDQUFDbUgsUUFBUSxDQUFDRCxNQUFNLENBQUM7SUFDeEMsSUFBSSxDQUFDVCxJQUFJLEVBQUU7TUFDVCxPQUFPeEIsR0FBRyxDQUFDN0IsTUFBTSxDQUFDLEdBQUcsQ0FBQyxDQUFDekMsSUFBSSxDQUFDO1FBQUVvQixLQUFLLEVBQUU7TUFBaUIsQ0FBQyxDQUFDO0lBQzFEO0lBRUEsTUFBTTBFLElBQUksQ0FBQ2EsSUFBSSxDQUFDMEYsTUFBTSxFQUFFN0ssR0FBRyxDQUFDc0UsSUFBSSxDQUFDVyxHQUFHLEVBQUVkLFFBQVEsQ0FBQztJQUMvQyxNQUFNRyxJQUFJLENBQUNrSCxJQUFJLENBQUMsQ0FBQztJQUVqQnhOLE1BQU0sQ0FBQ29HLElBQUksQ0FBQywwQkFBMEJFLElBQUksQ0FBQ0MsUUFBUSxPQUFPdkUsR0FBRyxDQUFDc0UsSUFBSSxDQUFDQyxRQUFRLEVBQUUsRUFBRTtNQUM3RWtILFlBQVksRUFBRTFHLE1BQU07TUFDcEIyRyxVQUFVLEVBQUUxTCxHQUFHLENBQUNzRSxJQUFJLENBQUNXLEdBQUc7TUFDeEI0RixNQUFNO01BQ04xRztJQUNGLENBQUMsQ0FBQztJQUVGckIsR0FBRyxDQUFDdEUsSUFBSSxDQUFDO01BQ1BtQixPQUFPLEVBQUUsMEJBQTBCMkUsSUFBSSxDQUFDQyxRQUFRLEVBQUU7TUFDbERvSCxPQUFPLEVBQUU7UUFDUGQsTUFBTTtRQUNOZSxRQUFRLEVBQUU1TCxHQUFHLENBQUNzRSxJQUFJLENBQUNDLFFBQVE7UUFDM0JzSCxRQUFRLEVBQUUsSUFBSTVILElBQUksQ0FBQyxDQUFDO1FBQ3BCNkgsT0FBTyxFQUFFM0gsUUFBUSxHQUFHLElBQUlGLElBQUksQ0FBQ0EsSUFBSSxDQUFDQyxHQUFHLENBQUMsQ0FBQyxHQUFHQyxRQUFRLENBQUMsR0FBRztNQUN4RCxDQUFDO01BQ0RHLElBQUksRUFBRTtRQUNKUCxFQUFFLEVBQUVPLElBQUksQ0FBQ1csR0FBRztRQUNaVixRQUFRLEVBQUVELElBQUksQ0FBQ0MsUUFBUTtRQUN2QndILGFBQWEsRUFBRXpILElBQUksQ0FBQzBILHNCQUFzQixDQUFDO01BQzdDO0lBQ0YsQ0FBQyxDQUFDO0VBQ0osQ0FBQyxDQUFDLE9BQU9wTSxLQUFLLEVBQUU7SUFDZDVCLE1BQU0sQ0FBQzRCLEtBQUssQ0FBQyxxQkFBcUIsRUFBRUEsS0FBSyxDQUFDO0lBQzFDa0QsR0FBRyxDQUFDN0IsTUFBTSxDQUFDLEdBQUcsQ0FBQyxDQUFDekMsSUFBSSxDQUFDO01BQUVvQixLQUFLLEVBQUU7SUFBc0IsQ0FBQyxDQUFDO0VBQ3hEO0FBQ0YsQ0FBQyxDQUFDOztBQUVGO0FBQ0FYLEdBQUcsQ0FBQ21MLElBQUksQ0FBQywrQkFBK0IsRUFBRWhGLGlCQUFpQixFQUFFVSxZQUFZLEVBQUUzRixjQUFjLEVBQUUsQ0FDekY5QyxJQUFJLENBQUMsTUFBTSxDQUFDLENBQUM0TyxJQUFJLENBQUMsQ0FBQyxRQUFRLEVBQUUsV0FBVyxFQUFFLE9BQU8sQ0FBQyxDQUFDLENBQ3BELEVBQUUsT0FBT2pNLEdBQUcsRUFBRThDLEdBQUcsS0FBSztFQUNyQixJQUFJO0lBQ0YsTUFBTXhFLE1BQU0sR0FBR2hCLGdCQUFnQixDQUFDMEMsR0FBRyxDQUFDO0lBQ3BDLElBQUksQ0FBQzFCLE1BQU0sQ0FBQ29NLE9BQU8sQ0FBQyxDQUFDLEVBQUU7TUFDckIsT0FBTzVILEdBQUcsQ0FBQzdCLE1BQU0sQ0FBQyxHQUFHLENBQUMsQ0FBQ3pDLElBQUksQ0FBQztRQUFFRixNQUFNLEVBQUVBLE1BQU0sQ0FBQ3FNLEtBQUssQ0FBQztNQUFFLENBQUMsQ0FBQztJQUN6RDtJQUVBLE1BQU07TUFBRTVGO0lBQU8sQ0FBQyxHQUFHL0UsR0FBRyxDQUFDNEssTUFBTTtJQUM3QixNQUFNO01BQUVwRCxJQUFJLEVBQUUwRTtJQUFRLENBQUMsR0FBR2xNLEdBQUcsQ0FBQzNDLElBQUk7SUFFbEMsTUFBTWlILElBQUksR0FBRyxNQUFNekcsSUFBSSxDQUFDbUgsUUFBUSxDQUFDRCxNQUFNLENBQUM7SUFDeEMsSUFBSSxDQUFDVCxJQUFJLEVBQUU7TUFDVCxPQUFPeEIsR0FBRyxDQUFDN0IsTUFBTSxDQUFDLEdBQUcsQ0FBQyxDQUFDekMsSUFBSSxDQUFDO1FBQUVvQixLQUFLLEVBQUU7TUFBaUIsQ0FBQyxDQUFDO0lBQzFEOztJQUVBO0lBQ0EsSUFBSTBFLElBQUksQ0FBQ1csR0FBRyxDQUFDNkYsUUFBUSxDQUFDLENBQUMsS0FBSzlLLEdBQUcsQ0FBQ3NFLElBQUksQ0FBQ1csR0FBRyxDQUFDNkYsUUFBUSxDQUFDLENBQUMsRUFBRTtNQUNuRCxPQUFPaEksR0FBRyxDQUFDN0IsTUFBTSxDQUFDLEdBQUcsQ0FBQyxDQUFDekMsSUFBSSxDQUFDO1FBQUVvQixLQUFLLEVBQUU7TUFBOEIsQ0FBQyxDQUFDO0lBQ3ZFOztJQUVBO0lBQ0EsSUFBSSxDQUFDc00sT0FBTyxLQUFLLE9BQU8sSUFBSTVILElBQUksQ0FBQ2tELElBQUksS0FBSyxPQUFPLEtBQUt4SCxHQUFHLENBQUNzRSxJQUFJLENBQUNrRCxJQUFJLEtBQUssT0FBTyxFQUFFO01BQy9FLE9BQU8xRSxHQUFHLENBQUM3QixNQUFNLENBQUMsR0FBRyxDQUFDLENBQUN6QyxJQUFJLENBQUM7UUFBRW9CLEtBQUssRUFBRTtNQUE2QyxDQUFDLENBQUM7SUFDdEY7SUFFQSxNQUFNdU0sT0FBTyxHQUFHN0gsSUFBSSxDQUFDa0QsSUFBSTtJQUN6QmxELElBQUksQ0FBQ2tELElBQUksR0FBRzBFLE9BQU87SUFDbkIsTUFBTTVILElBQUksQ0FBQ2tILElBQUksQ0FBQyxDQUFDO0lBRWpCeE4sTUFBTSxDQUFDb0csSUFBSSxDQUFDLFFBQVFFLElBQUksQ0FBQ0MsUUFBUSxzQkFBc0I0SCxPQUFPLE9BQU9ELE9BQU8sT0FBT2xNLEdBQUcsQ0FBQ3NFLElBQUksQ0FBQ0MsUUFBUSxFQUFFLEVBQUU7TUFDdEc2SCxhQUFhLEVBQUVySCxNQUFNO01BQ3JCc0gsV0FBVyxFQUFFck0sR0FBRyxDQUFDc0UsSUFBSSxDQUFDVyxHQUFHO01BQ3pCa0gsT0FBTztNQUNQRDtJQUNGLENBQUMsQ0FBQztJQUVGcEosR0FBRyxDQUFDdEUsSUFBSSxDQUFDO01BQ1BtQixPQUFPLEVBQUUsUUFBUTJFLElBQUksQ0FBQ0MsUUFBUSxvQkFBb0IySCxPQUFPLEVBQUU7TUFDM0Q1SCxJQUFJLEVBQUU7UUFDSlAsRUFBRSxFQUFFTyxJQUFJLENBQUNXLEdBQUc7UUFDWlYsUUFBUSxFQUFFRCxJQUFJLENBQUNDLFFBQVE7UUFDdkJpRCxJQUFJLEVBQUUwRTtNQUNSO0lBQ0YsQ0FBQyxDQUFDO0VBQ0osQ0FBQyxDQUFDLE9BQU90TSxLQUFLLEVBQUU7SUFDZDVCLE1BQU0sQ0FBQzRCLEtBQUssQ0FBQywyQkFBMkIsRUFBRUEsS0FBSyxDQUFDO0lBQ2hEa0QsR0FBRyxDQUFDN0IsTUFBTSxDQUFDLEdBQUcsQ0FBQyxDQUFDekMsSUFBSSxDQUFDO01BQUVvQixLQUFLLEVBQUU7SUFBNkIsQ0FBQyxDQUFDO0VBQy9EO0FBQ0YsQ0FBQyxDQUFDOztBQUVGO0FBQ0FYLEdBQUcsQ0FBQ21MLElBQUksQ0FBQywrQkFBK0IsRUFBRWhGLGlCQUFpQixFQUFFUSxnQkFBZ0IsRUFBRXpGLGNBQWMsRUFBRSxDQUM3RjlDLElBQUksQ0FBQyxVQUFVLENBQUMsQ0FBQ29OLEtBQUssQ0FBQztFQUFFSCxHQUFHLEVBQUUsRUFBRTtFQUFFaEwsR0FBRyxFQUFFO0FBQU0sQ0FBQyxDQUFDLENBQUM7QUFBQSxDQUNqRCxFQUFFLE9BQU9VLEdBQUcsRUFBRThDLEdBQUcsS0FBSztFQUNyQixJQUFJO0lBQ0YsTUFBTXhFLE1BQU0sR0FBR2hCLGdCQUFnQixDQUFDMEMsR0FBRyxDQUFDO0lBQ3BDLElBQUksQ0FBQzFCLE1BQU0sQ0FBQ29NLE9BQU8sQ0FBQyxDQUFDLEVBQUU7TUFDckIsT0FBTzVILEdBQUcsQ0FBQzdCLE1BQU0sQ0FBQyxHQUFHLENBQUMsQ0FBQ3pDLElBQUksQ0FBQztRQUFFRixNQUFNLEVBQUVBLE1BQU0sQ0FBQ3FNLEtBQUssQ0FBQztNQUFFLENBQUMsQ0FBQztJQUN6RDtJQUVBLE1BQU07TUFBRTVGO0lBQU8sQ0FBQyxHQUFHL0UsR0FBRyxDQUFDNEssTUFBTTtJQUM3QixNQUFNO01BQUV6RztJQUFTLENBQUMsR0FBR25FLEdBQUcsQ0FBQzNDLElBQUk7SUFFN0IsTUFBTWlILElBQUksR0FBRyxNQUFNekcsSUFBSSxDQUFDbUgsUUFBUSxDQUFDRCxNQUFNLENBQUM7SUFDeEMsSUFBSSxDQUFDVCxJQUFJLEVBQUU7TUFDVCxPQUFPeEIsR0FBRyxDQUFDN0IsTUFBTSxDQUFDLEdBQUcsQ0FBQyxDQUFDekMsSUFBSSxDQUFDO1FBQUVvQixLQUFLLEVBQUU7TUFBaUIsQ0FBQyxDQUFDO0lBQzFEO0lBRUEsTUFBTTBFLElBQUksQ0FBQ2dJLElBQUksQ0FBQ25JLFFBQVEsQ0FBQztJQUV6Qm5HLE1BQU0sQ0FBQ29HLElBQUksQ0FBQyxRQUFRRSxJQUFJLENBQUNDLFFBQVEsYUFBYXZFLEdBQUcsQ0FBQ3NFLElBQUksQ0FBQ0MsUUFBUSxFQUFFLEVBQUU7TUFDakVnSSxXQUFXLEVBQUV4SCxNQUFNO01BQ25CeUgsU0FBUyxFQUFFeE0sR0FBRyxDQUFDc0UsSUFBSSxDQUFDVyxHQUFHO01BQ3ZCZDtJQUNGLENBQUMsQ0FBQztJQUVGckIsR0FBRyxDQUFDdEUsSUFBSSxDQUFDO01BQ1BtQixPQUFPLEVBQUUsUUFBUTJFLElBQUksQ0FBQ0MsUUFBUSxpQkFBaUI7TUFDL0NELElBQUksRUFBRTtRQUNKUCxFQUFFLEVBQUVPLElBQUksQ0FBQ1csR0FBRztRQUNaVixRQUFRLEVBQUVELElBQUksQ0FBQ0MsUUFBUTtRQUN2QmtJLFdBQVcsRUFBRW5JLElBQUksQ0FBQ21JO01BQ3BCO0lBQ0YsQ0FBQyxDQUFDO0VBQ0osQ0FBQyxDQUFDLE9BQU83TSxLQUFLLEVBQUU7SUFDZDVCLE1BQU0sQ0FBQzRCLEtBQUssQ0FBQyxvQkFBb0IsRUFBRUEsS0FBSyxDQUFDO0lBQ3pDa0QsR0FBRyxDQUFDN0IsTUFBTSxDQUFDLEdBQUcsQ0FBQyxDQUFDekMsSUFBSSxDQUFDO01BQUVvQixLQUFLLEVBQUU7SUFBc0IsQ0FBQyxDQUFDO0VBQ3hEO0FBQ0YsQ0FBQyxDQUFDOztBQUVGO0FBQ0FYLEdBQUcsQ0FBQ21MLElBQUksQ0FBQyxpQ0FBaUMsRUFBRWhGLGlCQUFpQixFQUFFUSxnQkFBZ0IsRUFBRXpGLGNBQWMsRUFBRSxPQUFPSCxHQUFHLEVBQUU4QyxHQUFHLEtBQUs7RUFDbkgsSUFBSTtJQUNGLE1BQU07TUFBRWlDO0lBQU8sQ0FBQyxHQUFHL0UsR0FBRyxDQUFDNEssTUFBTTtJQUM3QixNQUFNdEcsSUFBSSxHQUFHLE1BQU16RyxJQUFJLENBQUNtSCxRQUFRLENBQUNELE1BQU0sQ0FBQztJQUN4QyxJQUFJLENBQUNULElBQUksRUFBRTtNQUNULE9BQU94QixHQUFHLENBQUM3QixNQUFNLENBQUMsR0FBRyxDQUFDLENBQUN6QyxJQUFJLENBQUM7UUFBRW9CLEtBQUssRUFBRTtNQUFpQixDQUFDLENBQUM7SUFDMUQ7SUFFQSxJQUFJLENBQUMwRSxJQUFJLENBQUNvSSxPQUFPLENBQUMsQ0FBQyxFQUFFO01BQ25CLE9BQU81SixHQUFHLENBQUM3QixNQUFNLENBQUMsR0FBRyxDQUFDLENBQUN6QyxJQUFJLENBQUM7UUFBRW9CLEtBQUssRUFBRTtNQUFvQixDQUFDLENBQUM7SUFDN0Q7SUFFQSxNQUFNMEUsSUFBSSxDQUFDcUksTUFBTSxDQUFDLENBQUM7SUFFbkIzTyxNQUFNLENBQUNvRyxJQUFJLENBQUMsUUFBUUUsSUFBSSxDQUFDQyxRQUFRLGVBQWV2RSxHQUFHLENBQUNzRSxJQUFJLENBQUNDLFFBQVEsRUFBRSxFQUFFO01BQ25FcUksYUFBYSxFQUFFN0gsTUFBTTtNQUNyQjhILFdBQVcsRUFBRTdNLEdBQUcsQ0FBQ3NFLElBQUksQ0FBQ1c7SUFDeEIsQ0FBQyxDQUFDO0lBRUZuQyxHQUFHLENBQUN0RSxJQUFJLENBQUM7TUFDUG1CLE9BQU8sRUFBRSxRQUFRMkUsSUFBSSxDQUFDQyxRQUFRLG1CQUFtQjtNQUNqREQsSUFBSSxFQUFFO1FBQ0pQLEVBQUUsRUFBRU8sSUFBSSxDQUFDVyxHQUFHO1FBQ1pWLFFBQVEsRUFBRUQsSUFBSSxDQUFDQyxRQUFRO1FBQ3ZCa0ksV0FBVyxFQUFFO01BQ2Y7SUFDRixDQUFDLENBQUM7RUFDSixDQUFDLENBQUMsT0FBTzdNLEtBQUssRUFBRTtJQUNkNUIsTUFBTSxDQUFDNEIsS0FBSyxDQUFDLHNCQUFzQixFQUFFQSxLQUFLLENBQUM7SUFDM0NrRCxHQUFHLENBQUM3QixNQUFNLENBQUMsR0FBRyxDQUFDLENBQUN6QyxJQUFJLENBQUM7TUFBRW9CLEtBQUssRUFBRTtJQUF3QixDQUFDLENBQUM7RUFDMUQ7QUFDRixDQUFDLENBQUM7O0FBRUY7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQWlCLE9BQU8sQ0FBQ0MsR0FBRyxDQUFDLCtDQUErQyxDQUFDO0FBQzVEN0IsR0FBRyxDQUFDZ0IsR0FBRyxDQUFDLFlBQVksRUFBRW1GLGlCQUFpQixFQUFFakYsY0FBYyxFQUFFLE9BQU9ILEdBQUcsRUFBRThDLEdBQUcsS0FBSztFQUMzRSxJQUFJO0lBQ0YsTUFBTTJHLEtBQUssR0FBRyxNQUFNNUwsSUFBSSxDQUFDNkwsSUFBSSxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQzlCQyxNQUFNLENBQUMsK0NBQStDLENBQUMsQ0FDdkRDLElBQUksQ0FBQztNQUFFckYsUUFBUSxFQUFFO0lBQUUsQ0FBQyxDQUFDO0lBRXhCdkcsTUFBTSxDQUFDb0csSUFBSSxDQUFDLDJCQUEyQnBFLEdBQUcsQ0FBQ3NFLElBQUksQ0FBQ0MsUUFBUSxFQUFFLEVBQUU7TUFDMURRLE1BQU0sRUFBRS9FLEdBQUcsQ0FBQ3NFLElBQUksQ0FBQ1csR0FBRztNQUNwQjZILFVBQVUsRUFBRXJELEtBQUssQ0FBQ3NEO0lBQ3BCLENBQUMsQ0FBQztJQUVGbE0sT0FBTyxDQUFDQyxHQUFHLENBQUMsMEJBQTBCLEVBQUUySSxLQUFLLENBQUNzRCxNQUFNLENBQUM7SUFDckRqSyxHQUFHLENBQUN0RSxJQUFJLENBQUNpTCxLQUFLLENBQUM7RUFDakIsQ0FBQyxDQUFDLE9BQU83SixLQUFLLEVBQUU7SUFDZDVCLE1BQU0sQ0FBQzRCLEtBQUssQ0FBQyx1QkFBdUIsRUFBRUEsS0FBSyxDQUFDO0lBQzVDaUIsT0FBTyxDQUFDakIsS0FBSyxDQUFDLDRCQUE0QixFQUFFQSxLQUFLLENBQUNELE9BQU8sQ0FBQztJQUMxRG1ELEdBQUcsQ0FBQzdCLE1BQU0sQ0FBQyxHQUFHLENBQUMsQ0FBQ3pDLElBQUksQ0FBQztNQUFFb0IsS0FBSyxFQUFFLHVCQUF1QjtNQUFFbUIsSUFBSSxFQUFFO0lBQWlCLENBQUMsQ0FBQztFQUNsRjtBQUNGLENBQUMsQ0FBQzs7QUFFRjtBQUNBOUIsR0FBRyxDQUFDZ0IsR0FBRyxDQUFDLGdCQUFnQixFQUFFLENBQUNELEdBQUcsRUFBRThDLEdBQUcsS0FBSztFQUN0Q0EsR0FBRyxDQUFDcUcsWUFBWSxDQUFDLHlCQUF5QixDQUFDO0VBQzNDckcsR0FBRyxDQUFDa0ssU0FBUyxDQUFDLGNBQWMsRUFBRSxrQkFBa0IsQ0FBQztFQUNqRGxLLEdBQUcsQ0FBQ21LLElBQUksQ0FBQy9ELFdBQVcsQ0FBQztBQUN2QixDQUFDLENBQUM7O0FBRUY7QUFDQWpLLEdBQUcsQ0FBQ21MLElBQUksQ0FBQyxzQkFBc0IsRUFBRSxDQUFDcEssR0FBRyxFQUFFOEMsR0FBRyxLQUFLO0VBQzdDO0VBQ0E7RUFDQSxJQUFJO0lBQ0YsTUFBTW9LLGdCQUFnQixHQUFHOU4sZUFBZSxDQUFDeUMsS0FBSztJQUM5QyxJQUFJcUwsZ0JBQWdCLElBQUksT0FBT0EsZ0JBQWdCLENBQUNDLFFBQVEsS0FBSyxVQUFVLEVBQUU7TUFDdkVELGdCQUFnQixDQUFDQyxRQUFRLENBQUMsQ0FBQztNQUMzQnRNLE9BQU8sQ0FBQ0MsR0FBRyxDQUFDLDZDQUE2QyxDQUFDO01BQzFEZ0MsR0FBRyxDQUFDdEUsSUFBSSxDQUFDO1FBQUU0TyxPQUFPLEVBQUUsSUFBSTtRQUFFek4sT0FBTyxFQUFFO01BQStCLENBQUMsQ0FBQztJQUN0RSxDQUFDLE1BQU07TUFDTDtNQUNBa0IsT0FBTyxDQUFDQyxHQUFHLENBQUMsdUZBQXVGLENBQUM7TUFDcEdnQyxHQUFHLENBQUN0RSxJQUFJLENBQUM7UUFBRTRPLE9BQU8sRUFBRSxLQUFLO1FBQUV6TixPQUFPLEVBQUU7TUFBNkQsQ0FBQyxDQUFDO0lBQ3JHO0VBQ0YsQ0FBQyxDQUFDLE9BQU9DLEtBQUssRUFBRTtJQUNkaUIsT0FBTyxDQUFDQyxHQUFHLENBQUMsa0NBQWtDLEVBQUVsQixLQUFLLENBQUNELE9BQU8sQ0FBQztJQUM5RG1ELEdBQUcsQ0FBQzdCLE1BQU0sQ0FBQyxHQUFHLENBQUMsQ0FBQ3pDLElBQUksQ0FBQztNQUFFNE8sT0FBTyxFQUFFLEtBQUs7TUFBRXhOLEtBQUssRUFBRTtJQUFnQyxDQUFDLENBQUM7RUFDbEY7QUFDRixDQUFDLENBQUM7O0FBRUY7QUFDQVgsR0FBRyxDQUFDZ0IsR0FBRyxDQUFDLFNBQVMsRUFBRSxDQUFDRCxHQUFHLEVBQUU4QyxHQUFHLEtBQUs7RUFDL0JBLEdBQUcsQ0FBQ3RFLElBQUksQ0FBQztJQUNQeUMsTUFBTSxFQUFFLFNBQVM7SUFDakI1QyxTQUFTLEVBQUUsSUFBSTRGLElBQUksQ0FBQyxDQUFDLENBQUNvSixXQUFXLENBQUMsQ0FBQztJQUNuQ0MsTUFBTSxFQUFFL04sT0FBTyxDQUFDK04sTUFBTSxDQUFDO0VBQ3pCLENBQUMsQ0FBQztBQUNKLENBQUMsQ0FBQzs7QUFFRjtBQUNBck8sR0FBRyxDQUFDa0MsR0FBRyxDQUFDLENBQUNuQixHQUFHLEVBQUU4QyxHQUFHLEVBQUVDLElBQUksS0FBSztFQUMxQi9FLE1BQU0sQ0FBQ29HLElBQUksQ0FBQyx3QkFBd0JwRSxHQUFHLENBQUNpRCxNQUFNLElBQUlqRCxHQUFHLENBQUNnRCxHQUFHLEVBQUUsRUFBRTtJQUMzREUsRUFBRSxFQUFFbEQsR0FBRyxDQUFDa0QsRUFBRTtJQUNWQyxTQUFTLEVBQUVuRCxHQUFHLENBQUNDLEdBQUcsQ0FBQyxZQUFZLENBQUM7SUFDaENpQixPQUFPLEVBQUVsQixHQUFHLENBQUNrQjtFQUNmLENBQUMsQ0FBQztFQUNGNkIsSUFBSSxDQUFDLENBQUM7QUFDUixDQUFDLENBQUM7O0FBYUY7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0FsQyxPQUFPLENBQUNDLEdBQUcsQ0FBQyxnREFBZ0QsQ0FBQztBQUM3RDdCLEdBQUcsQ0FBQ21MLElBQUksQ0FBQyxZQUFZLEVBQUUsQ0FDckIvTSxJQUFJLENBQUMsWUFBWSxDQUFDLENBQUNnTixRQUFRLENBQUM7RUFBRUMsR0FBRyxFQUFFLENBQUM7RUFBRWhMLEdBQUcsRUFBRTtBQUFHLENBQUMsQ0FBQyxDQUFDaUwsSUFBSSxDQUFDLENBQUMsRUFDdkRsTixJQUFJLENBQUMsVUFBVSxDQUFDLENBQUNnTixRQUFRLENBQUM7RUFBRUMsR0FBRyxFQUFFLENBQUM7RUFBRWhMLEdBQUcsRUFBRTtBQUFJLENBQUMsQ0FBQyxDQUNoRCxFQUFFLE9BQU9VLEdBQUcsRUFBRThDLEdBQUcsS0FBSztFQUNyQixJQUFJO0lBQ0ZqQyxPQUFPLENBQUNDLEdBQUcsQ0FBQyw0QkFBNEIsRUFBRTtNQUFFcUgsVUFBVSxFQUFFbkksR0FBRyxDQUFDM0MsSUFBSSxDQUFDOEssVUFBVTtNQUFFb0YsV0FBVyxFQUFFLENBQUMsQ0FBQ3ZOLEdBQUcsQ0FBQzNDLElBQUksQ0FBQzRLLFFBQVE7TUFBRS9FLEVBQUUsRUFBRWxELEdBQUcsQ0FBQ2tEO0lBQUcsQ0FBQyxDQUFDO0lBQzVILE1BQU01RSxNQUFNLEdBQUdoQixnQkFBZ0IsQ0FBQzBDLEdBQUcsQ0FBQztJQUNwQyxJQUFJLENBQUMxQixNQUFNLENBQUNvTSxPQUFPLENBQUMsQ0FBQyxFQUFFO01BQ3JCN0osT0FBTyxDQUFDQyxHQUFHLENBQUMsNEJBQTRCLEVBQUV4QyxNQUFNLENBQUNxTSxLQUFLLENBQUMsQ0FBQyxDQUFDO01BQ3pELE9BQU83SCxHQUFHLENBQUM3QixNQUFNLENBQUMsR0FBRyxDQUFDLENBQUN6QyxJQUFJLENBQUM7UUFBRUYsTUFBTSxFQUFFQSxNQUFNLENBQUNxTSxLQUFLLENBQUM7TUFBRSxDQUFDLENBQUM7SUFDekQ7SUFFQSxNQUFNO01BQUV4QyxVQUFVO01BQUVGO0lBQVMsQ0FBQyxHQUFHakksR0FBRyxDQUFDM0MsSUFBSTtJQUN6Q3dELE9BQU8sQ0FBQ0MsR0FBRyxDQUFDLHdDQUF3QyxFQUFFcUgsVUFBVSxDQUFDOztJQUVqRTtJQUNBLE1BQU03RCxJQUFJLEdBQUcsTUFBTXpHLElBQUksQ0FBQzJQLE9BQU8sQ0FBQztNQUM5QkMsR0FBRyxFQUFFLENBQUM7UUFBRWxKLFFBQVEsRUFBRTREO01BQVcsQ0FBQyxFQUFFO1FBQUVaLEtBQUssRUFBRVk7TUFBVyxDQUFDO0lBQ3ZELENBQUMsQ0FBQztJQUVGLElBQUksQ0FBQzdELElBQUksRUFBRTtNQUNUekQsT0FBTyxDQUFDQyxHQUFHLENBQUMsbUJBQW1CLEVBQUVxSCxVQUFVLENBQUM7TUFDNUMsT0FBT3JGLEdBQUcsQ0FBQzdCLE1BQU0sQ0FBQyxHQUFHLENBQUMsQ0FBQ3pDLElBQUksQ0FBQztRQUFFb0IsS0FBSyxFQUFFO01BQXNCLENBQUMsQ0FBQztJQUMvRDtJQUVBaUIsT0FBTyxDQUFDQyxHQUFHLENBQUMsZUFBZSxFQUFFO01BQUV5RCxRQUFRLEVBQUVELElBQUksQ0FBQ0MsUUFBUTtNQUFFZ0QsS0FBSyxFQUFFakQsSUFBSSxDQUFDaUQsS0FBSztNQUFFdEcsTUFBTSxFQUFFcUQsSUFBSSxDQUFDckQ7SUFBTyxDQUFDLENBQUM7O0lBRWpHO0lBQ0EsTUFBTXlNLGVBQWUsR0FBRyxNQUFNcEosSUFBSSxDQUFDcUosZUFBZSxDQUFDMUYsUUFBUSxDQUFDO0lBQzVEcEgsT0FBTyxDQUFDQyxHQUFHLENBQUMsZ0NBQWdDLEVBQUU0TSxlQUFlLENBQUM7SUFFOUQsSUFBSSxDQUFDQSxlQUFlLEVBQUU7TUFDcEI3TSxPQUFPLENBQUNDLEdBQUcsQ0FBQyw4QkFBOEIsRUFBRXdELElBQUksQ0FBQ0MsUUFBUSxDQUFDO01BQzFELE9BQU96QixHQUFHLENBQUM3QixNQUFNLENBQUMsR0FBRyxDQUFDLENBQUN6QyxJQUFJLENBQUM7UUFBRW9CLEtBQUssRUFBRTtNQUFzQixDQUFDLENBQUM7SUFDL0Q7O0lBRUE7SUFDQTBFLElBQUksQ0FBQ3JELE1BQU0sR0FBRyxRQUFRO0lBQ3RCLE1BQU1xRCxJQUFJLENBQUNrSCxJQUFJLENBQUMsQ0FBQzs7SUFFakI7SUFDQTNLLE9BQU8sQ0FBQ0MsR0FBRyxDQUFDLHNDQUFzQyxFQUFFd0QsSUFBSSxDQUFDQyxRQUFRLENBQUM7SUFDbEV2RSxHQUFHLENBQUN4QyxPQUFPLENBQUNzSCxhQUFhLEdBQUcsSUFBSTtJQUNoQzlFLEdBQUcsQ0FBQ3hDLE9BQU8sQ0FBQ3VILE1BQU0sR0FBR1QsSUFBSSxDQUFDVyxHQUFHLENBQUM2RixRQUFRLENBQUMsQ0FBQztJQUN4QzlLLEdBQUcsQ0FBQ3hDLE9BQU8sQ0FBQytHLFFBQVEsR0FBR0QsSUFBSSxDQUFDQyxRQUFRLENBQUMsQ0FBQztJQUN0Q3ZFLEdBQUcsQ0FBQ3hDLE9BQU8sQ0FBQ2dLLElBQUksR0FBR2xELElBQUksQ0FBQ2tELElBQUk7SUFDNUJ4SCxHQUFHLENBQUN4QyxPQUFPLENBQUNvUSxTQUFTLEdBQUdyTyxPQUFPLENBQUNDLEdBQUcsQ0FBQ21HLFVBQVUsQ0FBQyxDQUFDO0lBQ2hEM0YsR0FBRyxDQUFDeEMsT0FBTyxDQUFDcVEsU0FBUyxHQUFHLElBQUk1SixJQUFJLENBQUMsQ0FBQyxDQUFDb0osV0FBVyxDQUFDLENBQUM7SUFDaERyTixHQUFHLENBQUN4QyxPQUFPLENBQUMyRixTQUFTLEdBQUduRCxHQUFHLENBQUNDLEdBQUcsQ0FBQyxZQUFZLENBQUMsQ0FBQyxDQUFDOztJQUUvQztJQUNBLE1BQU0sSUFBSTZOLE9BQU8sQ0FBQyxDQUFDQyxPQUFPLEVBQUVDLE1BQU0sS0FBSztNQUNyQ2hPLEdBQUcsQ0FBQ3hDLE9BQU8sQ0FBQ2dPLElBQUksQ0FBRTVLLEdBQUcsSUFBSztRQUN4QixJQUFJQSxHQUFHLEVBQUU7VUFDUEMsT0FBTyxDQUFDakIsS0FBSyxDQUFDLHVCQUF1QixFQUFFZ0IsR0FBRyxDQUFDO1VBQzNDb04sTUFBTSxDQUFDcE4sR0FBRyxDQUFDO1FBQ2IsQ0FBQyxNQUFNO1VBQ0xDLE9BQU8sQ0FBQ0MsR0FBRyxDQUFDLG1EQUFtRCxDQUFDO1VBQ2hFaU4sT0FBTyxDQUFDLENBQUM7UUFDWDtNQUNGLENBQUMsQ0FBQztJQUNKLENBQUMsQ0FBQzs7SUFFRjtJQUNBbE4sT0FBTyxDQUFDQyxHQUFHLENBQUMsbUNBQW1DLEVBQUV3RCxJQUFJLENBQUNDLFFBQVEsQ0FBQztJQUMvRCxNQUFNZSxLQUFLLEdBQUd4SSxHQUFHLENBQUNtUixJQUFJLENBQ3BCO01BQ0VsSixNQUFNLEVBQUVULElBQUksQ0FBQ1csR0FBRztNQUNoQlYsUUFBUSxFQUFFRCxJQUFJLENBQUNDLFFBQVE7TUFDdkJpRCxJQUFJLEVBQUVsRCxJQUFJLENBQUNrRCxJQUFJO01BQ2ZvRyxTQUFTLEVBQUU1TixHQUFHLENBQUN4QyxPQUFPLENBQUNvUSxTQUFTO01BQ2hDaEosU0FBUyxFQUFFNUUsR0FBRyxDQUFDNEU7SUFDakIsQ0FBQyxFQUNEckYsT0FBTyxDQUFDQyxHQUFHLENBQUNtRyxVQUFVLEVBQ3RCO01BQUV1SSxTQUFTLEVBQUU7SUFBTSxDQUNyQixDQUFDO0lBQ0RyTixPQUFPLENBQUNDLEdBQUcsQ0FBQyxvQ0FBb0MsQ0FBQztJQUVqRDlDLE1BQU0sQ0FBQ29HLElBQUksQ0FBQyxtQkFBbUJFLElBQUksQ0FBQ0MsUUFBUSxFQUFFLENBQUM7SUFFL0MxRCxPQUFPLENBQUNDLEdBQUcsQ0FBQywyQkFBMkIsQ0FBQztJQUN4Q2dDLEdBQUcsQ0FBQ3RFLElBQUksQ0FBQztNQUNQOEcsS0FBSztNQUFFO01BQ1BoQixJQUFJLEVBQUU7UUFDSlAsRUFBRSxFQUFFTyxJQUFJLENBQUNXLEdBQUc7UUFDWlYsUUFBUSxFQUFFRCxJQUFJLENBQUNDLFFBQVE7UUFDdkJnRCxLQUFLLEVBQUVqRCxJQUFJLENBQUNpRCxLQUFLO1FBQ2pCQyxJQUFJLEVBQUVsRCxJQUFJLENBQUNrRDtNQUNiLENBQUM7TUFDRGhLLE9BQU8sRUFBRTtRQUNQc0gsYUFBYSxFQUFFLElBQUk7UUFDbkJmLEVBQUUsRUFBRS9ELEdBQUcsQ0FBQzRFLFNBQVM7UUFDakJrSCxPQUFPLEVBQUU5TCxHQUFHLENBQUN4QyxPQUFPLENBQUM2RSxNQUFNLENBQUN5SjtNQUM5QjtJQUNGLENBQUMsQ0FBQztFQUNKLENBQUMsQ0FBQyxPQUFPbE0sS0FBSyxFQUFFO0lBQ2Q1QixNQUFNLENBQUM0QixLQUFLLENBQUMsY0FBYyxFQUFFQSxLQUFLLENBQUM7SUFDbkNrRCxHQUFHLENBQUM3QixNQUFNLENBQUMsR0FBRyxDQUFDLENBQUN6QyxJQUFJLENBQUM7TUFBRW9CLEtBQUssRUFBRTtJQUE0QixDQUFDLENBQUM7RUFDOUQ7QUFDRixDQUFDLENBQUM7O0FBRUY7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQVgsR0FBRyxDQUFDbUwsSUFBSSxDQUFDLGVBQWUsRUFBRWhMLGVBQWUsRUFBRSxDQUN6Qy9CLElBQUksQ0FBQyxVQUFVLENBQUMsQ0FBQ2dOLFFBQVEsQ0FBQztFQUFFQyxHQUFHLEVBQUUsQ0FBQztFQUFFaEwsR0FBRyxFQUFFO0FBQUcsQ0FBQyxDQUFDLENBQUNpTCxJQUFJLENBQUMsQ0FBQyxDQUFDNEQsTUFBTSxDQUFDLENBQUMsRUFDOUQ5USxJQUFJLENBQUMsT0FBTyxDQUFDLENBQUMrUSxPQUFPLENBQUMsQ0FBQyxDQUFDQyxjQUFjLENBQUMsQ0FBQyxFQUN4Q2hSLElBQUksQ0FBQyxVQUFVLENBQUMsQ0FBQ2dOLFFBQVEsQ0FBQztFQUFFQyxHQUFHLEVBQUU7QUFBRSxDQUFDLENBQUMsQ0FDdEMsRUFBRSxPQUFPdEssR0FBRyxFQUFFOEMsR0FBRyxLQUFLO0VBQ3JCLElBQUk7SUFDRixNQUFNeEUsTUFBTSxHQUFHaEIsZ0JBQWdCLENBQUMwQyxHQUFHLENBQUM7SUFDcEMsSUFBSSxDQUFDMUIsTUFBTSxDQUFDb00sT0FBTyxDQUFDLENBQUMsRUFBRTtNQUNyQixPQUFPNUgsR0FBRyxDQUFDN0IsTUFBTSxDQUFDLEdBQUcsQ0FBQyxDQUFDekMsSUFBSSxDQUFDO1FBQUVGLE1BQU0sRUFBRUEsTUFBTSxDQUFDcU0sS0FBSyxDQUFDO01BQUUsQ0FBQyxDQUFDO0lBQ3pEO0lBRUEsTUFBTTtNQUFFcEcsUUFBUTtNQUFFZ0QsS0FBSztNQUFFVTtJQUFTLENBQUMsR0FBR2pJLEdBQUcsQ0FBQzNDLElBQUk7O0lBRTlDO0lBQ0EsTUFBTWlSLFlBQVksR0FBRyxNQUFNelEsSUFBSSxDQUFDMlAsT0FBTyxDQUFDO01BQ3RDQyxHQUFHLEVBQUUsQ0FBQztRQUFFbEo7TUFBUyxDQUFDLEVBQUU7UUFBRWdEO01BQU0sQ0FBQztJQUMvQixDQUFDLENBQUM7SUFFRixJQUFJK0csWUFBWSxFQUFFO01BQ2hCLE1BQU1DLGFBQWEsR0FBR0QsWUFBWSxDQUFDL0osUUFBUSxLQUFLQSxRQUFRLEdBQUcsVUFBVSxHQUFHLE9BQU87TUFDL0UsTUFBTWlLLFlBQVksR0FBR0QsYUFBYSxLQUFLLFVBQVUsR0FBRyx3QkFBd0IsR0FBRywwQkFBMEI7TUFDekcsT0FBT3pMLEdBQUcsQ0FBQzdCLE1BQU0sQ0FBQyxHQUFHLENBQUMsQ0FBQ3pDLElBQUksQ0FBQztRQUFFb0IsS0FBSyxFQUFFNE87TUFBYSxDQUFDLENBQUM7SUFDdEQ7O0lBRUE7SUFDQSxNQUFNbEssSUFBSSxHQUFHLElBQUl6RyxJQUFJLENBQUM7TUFBRTBHLFFBQVE7TUFBRWdELEtBQUs7TUFBRVUsUUFBUTtNQUFFVCxJQUFJLEVBQUUsUUFBUTtNQUFFdkcsTUFBTSxFQUFFO0lBQVMsQ0FBQyxDQUFDO0lBQ3RGLE1BQU1xRCxJQUFJLENBQUNrSCxJQUFJLENBQUMsQ0FBQztJQUVqQjNLLE9BQU8sQ0FBQ0MsR0FBRyxDQUFDLHVDQUF1QyxDQUFDO0lBQ3BEO0lBQ0FkLEdBQUcsQ0FBQ3hDLE9BQU8sQ0FBQ3NILGFBQWEsR0FBRyxJQUFJO0lBQ2hDOUUsR0FBRyxDQUFDeEMsT0FBTyxDQUFDdUgsTUFBTSxHQUFHVCxJQUFJLENBQUNXLEdBQUcsQ0FBQzZGLFFBQVEsQ0FBQyxDQUFDO0lBQ3hDOUssR0FBRyxDQUFDeEMsT0FBTyxDQUFDK0csUUFBUSxHQUFHRCxJQUFJLENBQUNDLFFBQVE7SUFDcEN2RSxHQUFHLENBQUN4QyxPQUFPLENBQUNnSyxJQUFJLEdBQUdsRCxJQUFJLENBQUNrRCxJQUFJO0lBQzVCeEgsR0FBRyxDQUFDeEMsT0FBTyxDQUFDb1EsU0FBUyxHQUFHck8sT0FBTyxDQUFDQyxHQUFHLENBQUNtRyxVQUFVLENBQUMsQ0FBQztJQUNoRDNGLEdBQUcsQ0FBQ3hDLE9BQU8sQ0FBQ2lSLGdCQUFnQixHQUFHLElBQUl4SyxJQUFJLENBQUMsQ0FBQyxDQUFDb0osV0FBVyxDQUFDLENBQUM7SUFDdkRyTixHQUFHLENBQUN4QyxPQUFPLENBQUMyRixTQUFTLEdBQUduRCxHQUFHLENBQUNDLEdBQUcsQ0FBQyxZQUFZLENBQUMsQ0FBQyxDQUFDOztJQUUvQztJQUNBLE1BQU0sSUFBSTZOLE9BQU8sQ0FBQyxDQUFDQyxPQUFPLEVBQUVDLE1BQU0sS0FBSztNQUNyQ2hPLEdBQUcsQ0FBQ3hDLE9BQU8sQ0FBQ2dPLElBQUksQ0FBRTVLLEdBQUcsSUFBSztRQUN4QixJQUFJQSxHQUFHLEVBQUU7VUFDUEMsT0FBTyxDQUFDakIsS0FBSyxDQUFDLDJDQUEyQyxFQUFFZ0IsR0FBRyxDQUFDO1VBQy9Eb04sTUFBTSxDQUFDcE4sR0FBRyxDQUFDO1FBQ2IsQ0FBQyxNQUFNO1VBQ0xDLE9BQU8sQ0FBQ0MsR0FBRyxDQUFDLHlFQUF5RSxDQUFDO1VBQ3RGaU4sT0FBTyxDQUFDLENBQUM7UUFDWDtNQUNGLENBQUMsQ0FBQztJQUNKLENBQUMsQ0FBQztJQUVGbE4sT0FBTyxDQUFDQyxHQUFHLENBQUMscUJBQXFCLEVBQUUsQ0FBQyxDQUFDdkIsT0FBTyxDQUFDQyxHQUFHLENBQUNtRyxVQUFVLENBQUM7SUFDNUQsTUFBTUwsS0FBSyxHQUFHeEksR0FBRyxDQUFDbVIsSUFBSSxDQUNwQjtNQUNFbEosTUFBTSxFQUFFVCxJQUFJLENBQUNXLEdBQUc7TUFDaEJWLFFBQVEsRUFBRUQsSUFBSSxDQUFDQyxRQUFRO01BQ3ZCaUQsSUFBSSxFQUFFbEQsSUFBSSxDQUFDa0QsSUFBSTtNQUNmb0csU0FBUyxFQUFFNU4sR0FBRyxDQUFDeEMsT0FBTyxDQUFDb1EsU0FBUztNQUNoQ2hKLFNBQVMsRUFBRTVFLEdBQUcsQ0FBQzRFO0lBQ2pCLENBQUMsRUFDRHJGLE9BQU8sQ0FBQ0MsR0FBRyxDQUFDbUcsVUFBVSxFQUN0QjtNQUFFdUksU0FBUyxFQUFFO0lBQU0sQ0FDckIsQ0FBQztJQUVEck4sT0FBTyxDQUFDQyxHQUFHLENBQUMsa0NBQWtDLENBQUM7SUFDL0M5QyxNQUFNLENBQUNvRyxJQUFJLENBQUMsb0JBQW9CRSxJQUFJLENBQUNDLFFBQVEsRUFBRSxDQUFDO0lBRWhEekIsR0FBRyxDQUFDN0IsTUFBTSxDQUFDLEdBQUcsQ0FBQyxDQUFDekMsSUFBSSxDQUFDO01BQ25COEcsS0FBSztNQUFFO01BQ1BoQixJQUFJLEVBQUU7UUFDSlAsRUFBRSxFQUFFTyxJQUFJLENBQUNXLEdBQUc7UUFDWlYsUUFBUSxFQUFFRCxJQUFJLENBQUNDLFFBQVE7UUFDdkJnRCxLQUFLLEVBQUVqRCxJQUFJLENBQUNpRCxLQUFLO1FBQ2pCQyxJQUFJLEVBQUVsRCxJQUFJLENBQUNrRDtNQUNiLENBQUM7TUFDRGhLLE9BQU8sRUFBRTtRQUNQc0gsYUFBYSxFQUFFLElBQUk7UUFDbkJmLEVBQUUsRUFBRS9ELEdBQUcsQ0FBQzRFLFNBQVM7UUFDakJrSCxPQUFPLEVBQUU5TCxHQUFHLENBQUN4QyxPQUFPLENBQUM2RSxNQUFNLENBQUN5SjtNQUM5QjtJQUNGLENBQUMsQ0FBQztFQUNKLENBQUMsQ0FBQyxPQUFPbE0sS0FBSyxFQUFFO0lBQ2Q1QixNQUFNLENBQUM0QixLQUFLLENBQUMscUJBQXFCLEVBQUVBLEtBQUssQ0FBQztJQUMxQ2tELEdBQUcsQ0FBQzdCLE1BQU0sQ0FBQyxHQUFHLENBQUMsQ0FBQ3pDLElBQUksQ0FBQztNQUFFb0IsS0FBSyxFQUFFO0lBQW1DLENBQUMsQ0FBQztFQUNyRTtBQUNGLENBQUMsQ0FBQzs7QUFFRjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBaUIsT0FBTyxDQUFDQyxHQUFHLENBQUMsa0RBQWtELENBQUM7QUFDL0Q3QixHQUFHLENBQUNnQixHQUFHLENBQUMsZUFBZSxFQUFFbUYsaUJBQWlCLEVBQUVqRixjQUFjLEVBQUUsT0FBT0gsR0FBRyxFQUFFOEMsR0FBRyxLQUFLO0VBQzlFakMsT0FBTyxDQUFDQyxHQUFHLENBQUMsc0NBQXNDLEVBQUU7SUFBRW1DLE1BQU0sRUFBRWpELEdBQUcsQ0FBQ2lELE1BQU07SUFBRUQsR0FBRyxFQUFFaEQsR0FBRyxDQUFDZ0QsR0FBRztJQUFFOUIsT0FBTyxFQUFFbEIsR0FBRyxDQUFDa0IsT0FBTyxDQUFDd04sYUFBYSxHQUFHLHFCQUFxQixHQUFHO0VBQWlCLENBQUMsQ0FBQztFQUN4SyxJQUFJO0lBQ0YsTUFBTUMsUUFBUSxHQUFHLE1BQU01USxPQUFPLENBQUMyTCxJQUFJLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FDcENDLE1BQU0sQ0FBQyxrREFBa0QsQ0FBQyxDQUMxREMsSUFBSSxDQUFDO01BQUU3QixRQUFRLEVBQUU7SUFBRSxDQUFDLENBQUM7SUFFeEIvSixNQUFNLENBQUNvRyxJQUFJLENBQUMsOEJBQThCcEUsR0FBRyxDQUFDc0UsSUFBSSxDQUFDQyxRQUFRLEVBQUUsRUFBRTtNQUM3RFEsTUFBTSxFQUFFL0UsR0FBRyxDQUFDc0UsSUFBSSxDQUFDVyxHQUFHO01BQ3BCMkosWUFBWSxFQUFFRCxRQUFRLENBQUM1QjtJQUN6QixDQUFDLENBQUM7SUFFRmxNLE9BQU8sQ0FBQ0MsR0FBRyxDQUFDLDZCQUE2QixFQUFFNk4sUUFBUSxDQUFDNUIsTUFBTSxDQUFDO0lBQzNEakssR0FBRyxDQUFDdEUsSUFBSSxDQUFDbVEsUUFBUSxDQUFDO0VBQ3BCLENBQUMsQ0FBQyxPQUFPL08sS0FBSyxFQUFFO0lBQ2Q1QixNQUFNLENBQUM0QixLQUFLLENBQUMsMEJBQTBCLEVBQUVBLEtBQUssQ0FBQztJQUMvQ2lCLE9BQU8sQ0FBQ2pCLEtBQUssQ0FBQywrQkFBK0IsRUFBRUEsS0FBSyxDQUFDRCxPQUFPLENBQUM7SUFDN0RtRCxHQUFHLENBQUM3QixNQUFNLENBQUMsR0FBRyxDQUFDLENBQUN6QyxJQUFJLENBQUM7TUFBRW9CLEtBQUssRUFBRSwwQkFBMEI7TUFBRW1CLElBQUksRUFBRTtJQUFpQixDQUFDLENBQUM7RUFDckY7QUFDRixDQUFDLENBQUM7QUFFRkYsT0FBTyxDQUFDQyxHQUFHLENBQUMsbURBQW1ELENBQUM7O0FBRWhFO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTdCLEdBQUcsQ0FBQ21MLElBQUksQ0FBQyxlQUFlLEVBQUVoRixpQkFBaUIsRUFBRWpGLGNBQWMsRUFBRSxDQUMzRDlDLElBQUksQ0FBQyxNQUFNLENBQUMsQ0FBQ2dOLFFBQVEsQ0FBQztFQUFFQyxHQUFHLEVBQUUsQ0FBQztFQUFFaEwsR0FBRyxFQUFFO0FBQUksQ0FBQyxDQUFDLENBQUNpTCxJQUFJLENBQUMsQ0FBQyxDQUFDNEQsTUFBTSxDQUFDLENBQUMsRUFDM0Q5USxJQUFJLENBQUMsTUFBTSxDQUFDLENBQUM0TyxJQUFJLENBQUMsQ0FBQyxNQUFNLEVBQUUsT0FBTyxDQUFDLENBQUMsQ0FBQzFCLElBQUksQ0FBQyxDQUFDLEVBQzNDbE4sSUFBSSxDQUFDLGFBQWEsQ0FBQyxDQUFDbU4sUUFBUSxDQUFDLENBQUMsQ0FBQ0gsUUFBUSxDQUFDO0VBQUUvSyxHQUFHLEVBQUU7QUFBSSxDQUFDLENBQUMsQ0FBQ2lMLElBQUksQ0FBQyxDQUFDLENBQzdELEVBQUUsT0FBT3ZLLEdBQUcsRUFBRThDLEdBQUcsS0FBSztFQUNyQixJQUFJO0lBQ0YsTUFBTXhFLE1BQU0sR0FBR2hCLGdCQUFnQixDQUFDMEMsR0FBRyxDQUFDO0lBQ3BDLElBQUksQ0FBQzFCLE1BQU0sQ0FBQ29NLE9BQU8sQ0FBQyxDQUFDLEVBQUU7TUFDckIsT0FBTzVILEdBQUcsQ0FBQzdCLE1BQU0sQ0FBQyxHQUFHLENBQUMsQ0FBQ3pDLElBQUksQ0FBQztRQUFFRixNQUFNLEVBQUVBLE1BQU0sQ0FBQ3FNLEtBQUssQ0FBQztNQUFFLENBQUMsQ0FBQztJQUN6RDtJQUVBLE1BQU07TUFBRWpJLElBQUk7TUFBRXlFLElBQUk7TUFBRUw7SUFBWSxDQUFDLEdBQUc5RyxHQUFHLENBQUMzQyxJQUFJO0lBQzVDLE1BQU15SyxTQUFTLEdBQUc5SCxHQUFHLENBQUNzRSxJQUFJLENBQUNDLFFBQVE7O0lBRW5DO0lBQ0EsTUFBTXNLLE9BQU8sR0FBRyxJQUFJOVEsT0FBTyxDQUFDO01BQzFCMkUsSUFBSTtNQUNKeUUsSUFBSTtNQUNKTCxXQUFXO01BQ1hnQjtJQUNGLENBQUMsQ0FBQztJQUVGLE1BQU0rRyxPQUFPLENBQUNyRCxJQUFJLENBQUMsQ0FBQztJQUVwQnhOLE1BQU0sQ0FBQ29HLElBQUksQ0FBQyxZQUFZMUIsSUFBSSxnQkFBZ0JvRixTQUFTLEVBQUUsRUFBRTtNQUN2RGdILFNBQVMsRUFBRUQsT0FBTyxDQUFDOUssRUFBRTtNQUNyQm9ELElBQUk7TUFDSnBDLE1BQU0sRUFBRS9FLEdBQUcsQ0FBQ3NFLElBQUksQ0FBQ1c7SUFDbkIsQ0FBQyxDQUFDO0lBRUZuQyxHQUFHLENBQUM3QixNQUFNLENBQUMsR0FBRyxDQUFDLENBQUN6QyxJQUFJLENBQUM7TUFDbkJ1RixFQUFFLEVBQUU4SyxPQUFPLENBQUM5SyxFQUFFO01BQ2RyQixJQUFJLEVBQUVtTSxPQUFPLENBQUNuTSxJQUFJO01BQ2xCeUUsSUFBSSxFQUFFMEgsT0FBTyxDQUFDMUgsSUFBSTtNQUNsQkwsV0FBVyxFQUFFK0gsT0FBTyxDQUFDL0gsV0FBVztNQUNoQ2dCLFNBQVMsRUFBRStHLE9BQU8sQ0FBQy9HLFNBQVM7TUFDNUJDLFFBQVEsRUFBRThHLE9BQU8sQ0FBQzlHO0lBQ3BCLENBQUMsQ0FBQztFQUVKLENBQUMsQ0FBQyxPQUFPbkksS0FBSyxFQUFFO0lBQ2Q1QixNQUFNLENBQUM0QixLQUFLLENBQUMseUJBQXlCLEVBQUVBLEtBQUssQ0FBQztJQUU5QyxJQUFJQSxLQUFLLENBQUM4QyxJQUFJLEtBQUssaUJBQWlCLEVBQUU7TUFDcEMsT0FBT0ksR0FBRyxDQUFDN0IsTUFBTSxDQUFDLEdBQUcsQ0FBQyxDQUFDekMsSUFBSSxDQUFDO1FBQzFCb0IsS0FBSyxFQUFFLHNCQUFzQjtRQUM3QitELE9BQU8sRUFBRS9ELEtBQUssQ0FBQ0Q7TUFDakIsQ0FBQyxDQUFDO0lBQ0o7SUFFQSxJQUFJQyxLQUFLLENBQUNtQixJQUFJLEtBQUssS0FBSyxFQUFFO01BQ3hCLE9BQU8rQixHQUFHLENBQUM3QixNQUFNLENBQUMsR0FBRyxDQUFDLENBQUN6QyxJQUFJLENBQUM7UUFDMUJvQixLQUFLLEVBQUUsNkJBQTZCO1FBQ3BDbUIsSUFBSSxFQUFFO01BQ1IsQ0FBQyxDQUFDO0lBQ0o7SUFFQStCLEdBQUcsQ0FBQzdCLE1BQU0sQ0FBQyxHQUFHLENBQUMsQ0FBQ3pDLElBQUksQ0FBQztNQUNuQm9CLEtBQUssRUFBRSwwQkFBMEI7TUFDakNtQixJQUFJLEVBQUU7SUFDUixDQUFDLENBQUM7RUFDSjtBQUNGLENBQUMsQ0FBQztBQUVGRixPQUFPLENBQUNDLEdBQUcsQ0FBQyxpREFBaUQsQ0FBQztBQUM5RDdCLEdBQUcsQ0FBQ21MLElBQUksQ0FBQyxhQUFhLEVBQUVoRixpQkFBaUIsRUFBRWpGLGNBQWMsRUFBRSxPQUFPSCxHQUFHLEVBQUU4QyxHQUFHLEtBQUs7RUFDN0UsSUFBSTtJQUNGakMsT0FBTyxDQUFDQyxHQUFHLENBQUMsOEJBQThCLEVBQUVkLEdBQUcsQ0FBQ3NFLElBQUksQ0FBQ0MsUUFBUSxFQUFFO01BQUVRLE1BQU0sRUFBRS9FLEdBQUcsQ0FBQ3NFLElBQUksQ0FBQ1c7SUFBSSxDQUFDLENBQUM7O0lBRXhGO0lBQ0EsTUFBTThKLE9BQU8sR0FBR0MsV0FBVztJQUMzQixJQUFJQyxpQkFBaUIsR0FBRyxDQUFDO0lBQ3pCLEtBQUssTUFBTSxDQUFDQyxRQUFRLEVBQUVDLFVBQVUsQ0FBQyxJQUFJSixPQUFPLENBQUNLLE9BQU8sQ0FBQyxDQUFDLEVBQUU7TUFDdEQsSUFBSUQsVUFBVSxDQUFDcEssTUFBTSxLQUFLL0UsR0FBRyxDQUFDc0UsSUFBSSxDQUFDVyxHQUFHLENBQUM2RixRQUFRLENBQUMsQ0FBQyxFQUFFO1FBQ2pELE1BQU11RSxNQUFNLEdBQUcvTyxFQUFFLENBQUN5TyxPQUFPLENBQUNBLE9BQU8sQ0FBQzlPLEdBQUcsQ0FBQ2lQLFFBQVEsQ0FBQztRQUMvQyxJQUFJRyxNQUFNLEVBQUU7VUFDVkEsTUFBTSxDQUFDQyxVQUFVLENBQUMsQ0FBQztVQUNuQkwsaUJBQWlCLEVBQUU7UUFDckI7TUFDRjtJQUNGOztJQUVBO0lBQ0EsTUFBTXBSLElBQUksQ0FBQzBSLGlCQUFpQixDQUFDdlAsR0FBRyxDQUFDc0UsSUFBSSxDQUFDVyxHQUFHLEVBQUU7TUFDekNoRSxNQUFNLEVBQUUsU0FBUztNQUNqQjJHLFVBQVUsRUFBRSxJQUFJM0QsSUFBSSxDQUFDO0lBQ3ZCLENBQUMsQ0FBQztJQUVGcEQsT0FBTyxDQUFDQyxHQUFHLENBQUMsVUFBVWQsR0FBRyxDQUFDc0UsSUFBSSxDQUFDQyxRQUFRLDZCQUE2QjBLLGlCQUFpQiwyQkFBMkIsQ0FBQztJQUNqSGpSLE1BQU0sQ0FBQ29HLElBQUksQ0FBQyxvQkFBb0JwRSxHQUFHLENBQUNzRSxJQUFJLENBQUNDLFFBQVEsRUFBRSxFQUFFO01BQ25EUSxNQUFNLEVBQUUvRSxHQUFHLENBQUNzRSxJQUFJLENBQUNXLEdBQUc7TUFDcEJ1SyxtQkFBbUIsRUFBRVA7SUFDdkIsQ0FBQyxDQUFDO0lBRUZuTSxHQUFHLENBQUN0RSxJQUFJLENBQUM7TUFDUDRPLE9BQU8sRUFBRSxJQUFJO01BQ2J6TixPQUFPLEVBQUUseUJBQXlCO01BQ2xDc1A7SUFDRixDQUFDLENBQUM7RUFDSixDQUFDLENBQUMsT0FBT3JQLEtBQUssRUFBRTtJQUNkNUIsTUFBTSxDQUFDNEIsS0FBSyxDQUFDLGVBQWUsRUFBRUEsS0FBSyxDQUFDO0lBQ3BDa0QsR0FBRyxDQUFDN0IsTUFBTSxDQUFDLEdBQUcsQ0FBQyxDQUFDekMsSUFBSSxDQUFDO01BQUVvQixLQUFLLEVBQUU7SUFBNkIsQ0FBQyxDQUFDO0VBQy9EO0FBQ0YsQ0FBQyxDQUFDOztBQUVGO0FBQ0E7QUFDQTtBQUNBO0FBQ0FYLEdBQUcsQ0FBQ21MLElBQUksQ0FBQyxxQkFBcUIsRUFBRWpLLGNBQWMsRUFBRSxPQUFPSCxHQUFHLEVBQUU4QyxHQUFHLEtBQUs7RUFDbEUsSUFBSTtJQUNGakMsT0FBTyxDQUFDQyxHQUFHLENBQUMsdUNBQXVDLEVBQUVkLEdBQUcsQ0FBQzRFLFNBQVMsQ0FBQzs7SUFFbkU7SUFDQSxNQUFNNkssVUFBVSxHQUFHLENBQUMsQ0FBQ3pQLEdBQUcsQ0FBQ3NFLElBQUksQ0FBQyxDQUFDO0lBQy9CLE1BQU1vTCxjQUFjLEdBQUcxUCxHQUFHLENBQUNrRixXQUFXLElBQUtsRixHQUFHLENBQUN4QyxPQUFPLElBQUl3QyxHQUFHLENBQUN4QyxPQUFPLENBQUNzSCxhQUFjO0lBQ3BGLE1BQU02SyxhQUFhLEdBQUczUCxHQUFHLENBQUN4QyxPQUFPLElBQUl3QyxHQUFHLENBQUN4QyxPQUFPLENBQUN1SCxNQUFNO0lBRXZEbEUsT0FBTyxDQUFDQyxHQUFHLENBQUMsMEJBQTBCLEVBQUU7TUFDdEMyTyxVQUFVO01BQ1ZDLGNBQWM7TUFDZEMsYUFBYTtNQUNiL0ssU0FBUyxFQUFFNUUsR0FBRyxDQUFDNEU7SUFDakIsQ0FBQyxDQUFDO0lBRUYsSUFBSThLLGNBQWMsRUFBRTtNQUNsQixNQUFNeEssV0FBVyxHQUFHeUssYUFBYSxHQUFHLE1BQU05UixJQUFJLENBQUNtSCxRQUFRLENBQUMySyxhQUFhLENBQUMsR0FBRyxJQUFJO01BQzdFLE1BQU1wTCxRQUFRLEdBQUdXLFdBQVcsR0FBR0EsV0FBVyxDQUFDWCxRQUFRLEdBQUcsU0FBUztNQUUvRDFELE9BQU8sQ0FBQ0MsR0FBRyxDQUFDLGdEQUFnRCxFQUFFeUQsUUFBUSxDQUFDOztNQUV2RTtNQUNBLElBQUlvTCxhQUFhLEVBQUU7UUFDakIsTUFBTVosT0FBTyxHQUFHQyxXQUFXO1FBQzNCLElBQUlDLGlCQUFpQixHQUFHLENBQUM7UUFDekIsS0FBSyxNQUFNLENBQUNDLFFBQVEsRUFBRUMsVUFBVSxDQUFDLElBQUlKLE9BQU8sQ0FBQ0ssT0FBTyxDQUFDLENBQUMsRUFBRTtVQUN0RCxJQUFJRCxVQUFVLENBQUNwSyxNQUFNLEtBQUs0SyxhQUFhLEVBQUU7WUFDdkMsTUFBTU4sTUFBTSxHQUFHL08sRUFBRSxDQUFDeU8sT0FBTyxDQUFDQSxPQUFPLENBQUM5TyxHQUFHLENBQUNpUCxRQUFRLENBQUM7WUFDL0MsSUFBSUcsTUFBTSxFQUFFO2NBQ1ZBLE1BQU0sQ0FBQ0MsVUFBVSxDQUFDLENBQUM7Y0FDbkJMLGlCQUFpQixFQUFFO1lBQ3JCO1VBQ0Y7UUFDRjtRQUVBcE8sT0FBTyxDQUFDQyxHQUFHLENBQUMsb0NBQW9DbU8saUJBQWlCLHFCQUFxQixDQUFDO01BQ3pGOztNQUVBO01BQ0EsTUFBTSxJQUFJbkIsT0FBTyxDQUFDLENBQUNDLE9BQU8sRUFBRUMsTUFBTSxLQUFLO1FBQ3JDaE8sR0FBRyxDQUFDeEMsT0FBTyxDQUFDb1MsT0FBTyxDQUFFaFAsR0FBRyxJQUFLO1VBQzNCLElBQUlBLEdBQUcsRUFBRTtZQUNQQyxPQUFPLENBQUNqQixLQUFLLENBQUMsMEJBQTBCLEVBQUVnQixHQUFHLENBQUM7WUFDOUNvTixNQUFNLENBQUNwTixHQUFHLENBQUM7VUFDYixDQUFDLE1BQU07WUFDTEMsT0FBTyxDQUFDQyxHQUFHLENBQUMsa0NBQWtDLENBQUM7WUFDL0NpTixPQUFPLENBQUMsQ0FBQztVQUNYO1FBQ0YsQ0FBQyxDQUFDO01BQ0osQ0FBQyxDQUFDO01BRUYvUCxNQUFNLENBQUNvRyxJQUFJLENBQUMsdUJBQXVCRyxRQUFRLEVBQUUsRUFBRTtRQUM3Q0ssU0FBUyxFQUFFNUUsR0FBRyxDQUFDNEUsU0FBUztRQUN4QjFCLEVBQUUsRUFBRWxELEdBQUcsQ0FBQ2tEO01BQ1YsQ0FBQyxDQUFDO01BRUZKLEdBQUcsQ0FBQ3RFLElBQUksQ0FBQztRQUNQNE8sT0FBTyxFQUFFLElBQUk7UUFDYnpOLE9BQU8sRUFBRSxpQ0FBaUM7UUFDMUN3SCxJQUFJLEVBQUUsZ0JBQWdCO1FBQ3RCMEksZ0JBQWdCLEVBQUU7TUFDcEIsQ0FBQyxDQUFDO0lBQ0osQ0FBQyxNQUFNO01BQ0xoUCxPQUFPLENBQUNDLEdBQUcsQ0FBQyx3REFBd0QsQ0FBQztNQUNyRWdDLEdBQUcsQ0FBQ3RFLElBQUksQ0FBQztRQUNQNE8sT0FBTyxFQUFFLElBQUk7UUFDYnpOLE9BQU8sRUFBRSw4QkFBOEI7UUFDdkN3SCxJQUFJLEVBQUUsZ0JBQWdCO1FBQ3RCMEksZ0JBQWdCLEVBQUU7TUFDcEIsQ0FBQyxDQUFDO0lBQ0o7RUFFRixDQUFDLENBQUMsT0FBT2pRLEtBQUssRUFBRTtJQUNkNUIsTUFBTSxDQUFDNEIsS0FBSyxDQUFDLHVCQUF1QixFQUFFQSxLQUFLLENBQUM7SUFDNUNrRCxHQUFHLENBQUM3QixNQUFNLENBQUMsR0FBRyxDQUFDLENBQUN6QyxJQUFJLENBQUM7TUFDbkJvQixLQUFLLEVBQUUsb0NBQW9DO01BQzNDbUIsSUFBSSxFQUFFO0lBQ1IsQ0FBQyxDQUFDO0VBQ0o7QUFDRixDQUFDLENBQUM7O0FBRUY7QUFDQTlCLEdBQUcsQ0FBQ21MLElBQUksQ0FBQyxzQkFBc0IsRUFBRWpLLGNBQWMsRUFBRSxPQUFPSCxHQUFHLEVBQUU4QyxHQUFHLEtBQUs7RUFDbkUsSUFBSTtJQUNGakMsT0FBTyxDQUFDQyxHQUFHLENBQUMsd0RBQXdELEVBQUVkLEdBQUcsQ0FBQzRFLFNBQVMsQ0FBQztJQUVwRixNQUFNNkssVUFBVSxHQUFHLENBQUMsQ0FBQ3pQLEdBQUcsQ0FBQ3NFLElBQUk7SUFDN0IsTUFBTW9MLGNBQWMsR0FBRzFQLEdBQUcsQ0FBQ2tGLFdBQVcsSUFBS2xGLEdBQUcsQ0FBQ3hDLE9BQU8sSUFBSXdDLEdBQUcsQ0FBQ3hDLE9BQU8sQ0FBQ3NILGFBQWM7SUFDcEYsTUFBTTZLLGFBQWEsR0FBRzNQLEdBQUcsQ0FBQ3hDLE9BQU8sSUFBSXdDLEdBQUcsQ0FBQ3hDLE9BQU8sQ0FBQ3VILE1BQU07SUFFdkQsSUFBSStLLGVBQWUsR0FBRyxJQUFJO0lBQzFCLElBQUlDLG1CQUFtQixHQUFHLElBQUk7O0lBRTlCO0lBQ0EsSUFBSU4sVUFBVSxFQUFFO01BQ2QsSUFBSTtRQUNGLE1BQU1WLE9BQU8sR0FBR0MsV0FBVztRQUMzQixJQUFJQyxpQkFBaUIsR0FBRyxDQUFDO1FBQ3pCLEtBQUssTUFBTSxDQUFDQyxRQUFRLEVBQUVDLFVBQVUsQ0FBQyxJQUFJSixPQUFPLENBQUNLLE9BQU8sQ0FBQyxDQUFDLEVBQUU7VUFDdEQsSUFBSUQsVUFBVSxDQUFDcEssTUFBTSxLQUFLL0UsR0FBRyxDQUFDc0UsSUFBSSxDQUFDVyxHQUFHLENBQUM2RixRQUFRLENBQUMsQ0FBQyxFQUFFO1lBQ2pELE1BQU11RSxNQUFNLEdBQUcvTyxFQUFFLENBQUN5TyxPQUFPLENBQUNBLE9BQU8sQ0FBQzlPLEdBQUcsQ0FBQ2lQLFFBQVEsQ0FBQztZQUMvQyxJQUFJRyxNQUFNLEVBQUU7Y0FDVkEsTUFBTSxDQUFDQyxVQUFVLENBQUMsQ0FBQztjQUNuQkwsaUJBQWlCLEVBQUU7WUFDckI7VUFDRjtRQUNGO1FBRUEsTUFBTXBSLElBQUksQ0FBQzBSLGlCQUFpQixDQUFDdlAsR0FBRyxDQUFDc0UsSUFBSSxDQUFDVyxHQUFHLEVBQUU7VUFDekNoRSxNQUFNLEVBQUUsU0FBUztVQUNqQjJHLFVBQVUsRUFBRSxJQUFJM0QsSUFBSSxDQUFDO1FBQ3ZCLENBQUMsQ0FBQztRQUVGNkwsZUFBZSxHQUFHO1VBQ2hCMUMsT0FBTyxFQUFFLElBQUk7VUFDYjZCO1FBQ0YsQ0FBQztNQUNILENBQUMsQ0FBQyxPQUFPZSxRQUFRLEVBQUU7UUFDakJGLGVBQWUsR0FBRztVQUNoQjFDLE9BQU8sRUFBRSxLQUFLO1VBQ2R4TixLQUFLLEVBQUVvUSxRQUFRLENBQUNyUTtRQUNsQixDQUFDO01BQ0g7SUFDRjs7SUFFQTtJQUNBLElBQUkrUCxjQUFjLEVBQUU7TUFDbEIsSUFBSTtRQUNGLElBQUlDLGFBQWEsRUFBRTtVQUNqQixNQUFNekssV0FBVyxHQUFHLE1BQU1ySCxJQUFJLENBQUNtSCxRQUFRLENBQUMySyxhQUFhLENBQUM7VUFDdEQ5TyxPQUFPLENBQUNDLEdBQUcsQ0FBQyxnREFBZ0QsRUFBRW9FLFdBQVcsR0FBR0EsV0FBVyxDQUFDWCxRQUFRLEdBQUcsU0FBUyxDQUFDOztVQUU3RztVQUNBLE1BQU13SyxPQUFPLEdBQUdDLFdBQVc7VUFDM0IsSUFBSUMsaUJBQWlCLEdBQUcsQ0FBQztVQUN6QixLQUFLLE1BQU0sQ0FBQ0MsUUFBUSxFQUFFQyxVQUFVLENBQUMsSUFBSUosT0FBTyxDQUFDSyxPQUFPLENBQUMsQ0FBQyxFQUFFO1lBQ3RELElBQUlELFVBQVUsQ0FBQ3BLLE1BQU0sS0FBSzRLLGFBQWEsRUFBRTtjQUN2QyxNQUFNTixNQUFNLEdBQUcvTyxFQUFFLENBQUN5TyxPQUFPLENBQUNBLE9BQU8sQ0FBQzlPLEdBQUcsQ0FBQ2lQLFFBQVEsQ0FBQztjQUMvQyxJQUFJRyxNQUFNLEVBQUU7Z0JBQ1ZBLE1BQU0sQ0FBQ0MsVUFBVSxDQUFDLENBQUM7Z0JBQ25CTCxpQkFBaUIsRUFBRTtjQUNyQjtZQUNGO1VBQ0Y7VUFDQXBPLE9BQU8sQ0FBQ0MsR0FBRyxDQUFDLG9DQUFvQ21PLGlCQUFpQixxQkFBcUIsQ0FBQztRQUN6Rjs7UUFFQTtRQUNBLE1BQU0sSUFBSW5CLE9BQU8sQ0FBQyxDQUFDQyxPQUFPLEVBQUVDLE1BQU0sS0FBSztVQUNyQ2hPLEdBQUcsQ0FBQ3hDLE9BQU8sQ0FBQ29TLE9BQU8sQ0FBRWhQLEdBQUcsSUFBSztZQUMzQixJQUFJQSxHQUFHLEVBQUU7Y0FDUG9OLE1BQU0sQ0FBQ3BOLEdBQUcsQ0FBQztZQUNiLENBQUMsTUFBTTtjQUNMbU4sT0FBTyxDQUFDLENBQUM7WUFDWDtVQUNGLENBQUMsQ0FBQztRQUNKLENBQUMsQ0FBQztRQUVGZ0MsbUJBQW1CLEdBQUc7VUFDcEIzQyxPQUFPLEVBQUUsSUFBSTtVQUNieUMsZ0JBQWdCLEVBQUU7UUFDcEIsQ0FBQztNQUNILENBQUMsQ0FBQyxPQUFPSSxZQUFZLEVBQUU7UUFDckJGLG1CQUFtQixHQUFHO1VBQ3BCM0MsT0FBTyxFQUFFLEtBQUs7VUFDZHhOLEtBQUssRUFBRXFRLFlBQVksQ0FBQ3RRO1FBQ3RCLENBQUM7TUFDSDtJQUNGO0lBRUEsTUFBTXVRLGNBQWMsR0FBRyxDQUFDLENBQUNKLGVBQWUsSUFBSUEsZUFBZSxDQUFDMUMsT0FBTyxNQUM1QyxDQUFDMkMsbUJBQW1CLElBQUlBLG1CQUFtQixDQUFDM0MsT0FBTyxDQUFDO0lBRTNFdEssR0FBRyxDQUFDdEUsSUFBSSxDQUFDO01BQ1A0TyxPQUFPLEVBQUU4QyxjQUFjO01BQ3ZCdlEsT0FBTyxFQUFFLDJCQUEyQjtNQUNwQ3dILElBQUksRUFBRSxpQkFBaUI7TUFDdkJySyxHQUFHLEVBQUVnVCxlQUFlO01BQ3BCdFMsT0FBTyxFQUFFdVM7SUFDWCxDQUFDLENBQUM7RUFFSixDQUFDLENBQUMsT0FBT25RLEtBQUssRUFBRTtJQUNkNUIsTUFBTSxDQUFDNEIsS0FBSyxDQUFDLHdCQUF3QixFQUFFQSxLQUFLLENBQUM7SUFDN0NrRCxHQUFHLENBQUM3QixNQUFNLENBQUMsR0FBRyxDQUFDLENBQUN6QyxJQUFJLENBQUM7TUFDbkJvQixLQUFLLEVBQUUscUNBQXFDO01BQzVDbUIsSUFBSSxFQUFFO0lBQ1IsQ0FBQyxDQUFDO0VBQ0o7QUFDRixDQUFDLENBQUM7O0FBRUY7QUFDQTlCLEdBQUcsQ0FBQ2tDLEdBQUcsQ0FBQyxDQUFDbkIsR0FBRyxFQUFFOEMsR0FBRyxLQUFLO0VBQ3BCakMsT0FBTyxDQUFDc0UsSUFBSSxDQUFDLGlEQUFpRCxFQUFFO0lBQUVsQyxNQUFNLEVBQUVqRCxHQUFHLENBQUNpRCxNQUFNO0lBQUVELEdBQUcsRUFBRWhELEdBQUcsQ0FBQ2dEO0VBQUksQ0FBQyxDQUFDO0VBQ3JHaEYsTUFBTSxDQUFDbUgsSUFBSSxDQUFDLFNBQVNuRixHQUFHLENBQUNpRCxNQUFNLElBQUlqRCxHQUFHLENBQUNnRCxHQUFHLEVBQUUsRUFBRTtJQUM1Q0UsRUFBRSxFQUFFbEQsR0FBRyxDQUFDa0QsRUFBRTtJQUNWQyxTQUFTLEVBQUVuRCxHQUFHLENBQUNDLEdBQUcsQ0FBQyxZQUFZO0VBQ2pDLENBQUMsQ0FBQztFQUVGNkMsR0FBRyxDQUFDN0IsTUFBTSxDQUFDLEdBQUcsQ0FBQyxDQUFDekMsSUFBSSxDQUFDO0lBQ25Cb0IsS0FBSyxFQUFFLG9CQUFvQjtJQUMzQjZELElBQUksRUFBRXpELEdBQUcsQ0FBQ2dELEdBQUc7SUFDYkMsTUFBTSxFQUFFakQsR0FBRyxDQUFDaUQsTUFBTTtJQUNsQmxDLElBQUksRUFBRTtFQUNSLENBQUMsQ0FBQztBQUNKLENBQUMsQ0FBQzs7QUFFRjtBQUNBOUIsR0FBRyxDQUFDa0MsR0FBRyxDQUFDMEIsWUFBWSxDQUFDOztBQVVyQjtBQUNBLElBQUltTSxXQUFXLEdBQUcsSUFBSW1CLEdBQUcsQ0FBQyxDQUFDOztBQUUzQjtBQUNBLElBQUlDLGVBQWUsR0FBRyxJQUFJRCxHQUFHLENBQUMsQ0FBQzs7QUFFL0I7QUFDQSxNQUFNRSxhQUFhLEdBQUcsSUFBSUYsR0FBRyxDQUFDLENBQUMsQ0FBQyxDQUFDOztBQUVqQztBQUNBN1AsRUFBRSxDQUFDYSxHQUFHLENBQUNLLGlCQUFpQixDQUFDOztBQUV6QjtBQUNBbEIsRUFBRSxDQUFDYSxHQUFHLENBQUMsT0FBT2tPLE1BQU0sRUFBRXRNLElBQUksS0FBSztFQUM3QixNQUFNO0lBQUU2QixTQUFTO0lBQUVnSjtFQUFVLENBQUMsR0FBR3lCLE1BQU0sQ0FBQ2lCLFNBQVMsQ0FBQ0MsSUFBSTtFQUN0RCxNQUFNL1MsT0FBTyxHQUFHNlIsTUFBTSxDQUFDbUIsT0FBTyxDQUFDaFQsT0FBTztFQUV0Q3FELE9BQU8sQ0FBQ0MsR0FBRyxDQUFDLHdEQUF3RCxDQUFDOztFQUVyRTtFQUNBLElBQUksQ0FBQ3RELE9BQU8sSUFBSSxDQUFDQSxPQUFPLENBQUNzSCxhQUFhLElBQUksQ0FBQ3RILE9BQU8sQ0FBQ3VILE1BQU0sRUFBRTtJQUN6RGxFLE9BQU8sQ0FBQ0MsR0FBRyxDQUFDLDBEQUEwRCxDQUFDO0lBQ3ZFLE9BQU9pQyxJQUFJLENBQUMsSUFBSTBOLEtBQUssQ0FBQyxpQ0FBaUMsQ0FBQyxDQUFDO0VBQzNEOztFQUVBO0VBQ0EsSUFBSSxDQUFDN0MsU0FBUyxJQUFJQSxTQUFTLEtBQUtyTyxPQUFPLENBQUNDLEdBQUcsQ0FBQ21HLFVBQVUsRUFBRTtJQUN0RDlFLE9BQU8sQ0FBQ0MsR0FBRyxDQUFDLG9EQUFvRCxDQUFDO0lBQ2pFLE9BQU9pQyxJQUFJLENBQUMsSUFBSTBOLEtBQUssQ0FBQyx3QkFBd0IsQ0FBQyxDQUFDO0VBQ2xEO0VBRUEsSUFBSTtJQUNGO0lBQ0EsTUFBTW5NLElBQUksR0FBRyxNQUFNekcsSUFBSSxDQUFDbUgsUUFBUSxDQUFDeEgsT0FBTyxDQUFDdUgsTUFBTSxDQUFDO0lBQ2hELElBQUksQ0FBQ1QsSUFBSSxFQUFFO01BQ1R6RCxPQUFPLENBQUNDLEdBQUcsQ0FBQyxzREFBc0QsQ0FBQztNQUNuRSxPQUFPaUMsSUFBSSxDQUFDLElBQUkwTixLQUFLLENBQUMsMkJBQTJCLENBQUMsQ0FBQztJQUNyRDs7SUFFQTtJQUNBLE1BQU0xTCxNQUFNLEdBQUd2SCxPQUFPLENBQUN1SCxNQUFNO0lBQzdCLE1BQU0yTCxlQUFlLEdBQUdOLGVBQWUsQ0FBQ25RLEdBQUcsQ0FBQzhFLE1BQU0sQ0FBQyxJQUFJLENBQUM7SUFDeEQsTUFBTTRMLGtCQUFrQixHQUFHRCxlQUFlLEdBQUcsQ0FBQztJQUM5Q04sZUFBZSxDQUFDUSxHQUFHLENBQUM3TCxNQUFNLEVBQUU0TCxrQkFBa0IsQ0FBQzs7SUFFL0M7SUFDQSxJQUFJck0sSUFBSSxDQUFDdU0sUUFBUSxDQUFDLENBQUMsRUFBRTtNQUNuQmhRLE9BQU8sQ0FBQ0MsR0FBRyxDQUFDLGdEQUFnRCxFQUFFO1FBQzVEaUUsTUFBTSxFQUFFQSxNQUFNO1FBQ2RSLFFBQVEsRUFBRUQsSUFBSSxDQUFDQyxRQUFRO1FBQ3ZCNEcsU0FBUyxFQUFFN0csSUFBSSxDQUFDNkcsU0FBUztRQUN6QkMsVUFBVSxFQUFFOUcsSUFBSSxDQUFDOEc7TUFDbkIsQ0FBQyxDQUFDO01BQ0ZpRSxNQUFNLENBQUN5QixJQUFJLENBQUMsUUFBUSxFQUFFO1FBQ3BCakcsTUFBTSxFQUFFdkcsSUFBSSxDQUFDNkcsU0FBUyxJQUFJLHNDQUFzQztRQUNoRVcsT0FBTyxFQUFFeEgsSUFBSSxDQUFDOEc7TUFDaEIsQ0FBQyxDQUFDO01BQ0YsT0FBT3JJLElBQUksQ0FBQyxJQUFJME4sS0FBSyxDQUFDLGdCQUFnQixDQUFDLENBQUM7SUFDMUM7O0lBRUE7SUFDQSxNQUFNL0QsT0FBTyxHQUFHcEksSUFBSSxDQUFDb0ksT0FBTyxDQUFDLENBQUM7SUFDOUI3TCxPQUFPLENBQUNDLEdBQUcsQ0FBQyw4QkFBOEIsRUFBRTtNQUFFeUQsUUFBUSxFQUFFRCxJQUFJLENBQUNDLFFBQVE7TUFBRW1JLE9BQU87TUFBRUQsV0FBVyxFQUFFbkksSUFBSSxDQUFDbUk7SUFBWSxDQUFDLENBQUM7O0lBRWhIO0lBQ0EsTUFBTXNFLFlBQVksR0FBRyxNQUFNbFQsSUFBSSxDQUFDbVQsZ0JBQWdCLENBQzlDO01BQUUvTCxHQUFHLEVBQUVGO0lBQU8sQ0FBQyxFQUNmO01BQ0VrTSxJQUFJLEVBQUU7UUFDSmhRLE1BQU0sRUFBRTBQLGtCQUFrQixHQUFHLENBQUMsR0FBRyxRQUFRLEdBQUcsU0FBUztRQUNyRC9JLFVBQVUsRUFBRSxJQUFJM0QsSUFBSSxDQUFDO01BQ3ZCO0lBQ0YsQ0FBQyxFQUNEO01BQ0VpTixHQUFHLEVBQUUsSUFBSTtNQUNUQyxhQUFhLEVBQUU7SUFDakIsQ0FDRixDQUFDO0lBRUQsSUFBSUosWUFBWSxFQUFFO01BQ2hCbFEsT0FBTyxDQUFDQyxHQUFHLENBQUMsd0JBQXdCd0QsSUFBSSxDQUFDQyxRQUFRLHVDQUF1Q29NLGtCQUFrQixHQUFHLENBQUM7TUFDOUczUyxNQUFNLENBQUNvRyxJQUFJLENBQUMsK0NBQStDLEVBQUU7UUFDM0RXLE1BQU0sRUFBRUEsTUFBTTtRQUNkUixRQUFRLEVBQUVELElBQUksQ0FBQ0MsUUFBUTtRQUN2QjZNLFdBQVcsRUFBRVQsa0JBQWtCO1FBQy9CekIsUUFBUSxFQUFFRyxNQUFNLENBQUN0TCxFQUFFO1FBQ25CMUYsU0FBUyxFQUFFLElBQUk0RixJQUFJLENBQUM7TUFDdEIsQ0FBQyxDQUFDO0lBQ0o7O0lBRUE7SUFDQUssSUFBSSxDQUFDckQsTUFBTSxHQUFHOFAsWUFBWSxHQUFHQSxZQUFZLENBQUM5UCxNQUFNLEdBQUcsUUFBUTtJQUMzRHFELElBQUksQ0FBQ3NELFVBQVUsR0FBR21KLFlBQVksR0FBR0EsWUFBWSxDQUFDbkosVUFBVSxHQUFHLElBQUkzRCxJQUFJLENBQUMsQ0FBQzs7SUFFckU7SUFDQW9MLE1BQU0sQ0FBQ3RLLE1BQU0sR0FBR3ZILE9BQU8sQ0FBQ3VILE1BQU07SUFDOUJzSyxNQUFNLENBQUM5SyxRQUFRLEdBQUcvRyxPQUFPLENBQUMrRyxRQUFRO0lBQ2xDOEssTUFBTSxDQUFDN0gsSUFBSSxHQUFHaEssT0FBTyxDQUFDZ0ssSUFBSSxJQUFJLFFBQVE7SUFDdEMzRyxPQUFPLENBQUNDLEdBQUcsQ0FBQyx3Q0FBd0N1TyxNQUFNLENBQUM5SyxRQUFRLGFBQWE4SyxNQUFNLENBQUN0SyxNQUFNLEdBQUcsQ0FBQztJQUNqRyxPQUFPaEMsSUFBSSxDQUFDLENBQUM7RUFFZixDQUFDLENBQUMsT0FBT25ELEtBQUssRUFBRTtJQUNkaUIsT0FBTyxDQUFDakIsS0FBSyxDQUFDLGdDQUFnQyxFQUFFQSxLQUFLLENBQUNELE9BQU8sQ0FBQztJQUM5RDNCLE1BQU0sQ0FBQzRCLEtBQUssQ0FBQyx1QkFBdUJBLEtBQUssQ0FBQ0QsT0FBTyxFQUFFLEVBQUU7TUFDbkR1UCxRQUFRLEVBQUVHLE1BQU0sQ0FBQ3RMLEVBQUU7TUFDbkJhLFNBQVMsRUFBRXBILE9BQU8sRUFBRXVHLEVBQUU7TUFDdEJiLEVBQUUsRUFBRW1NLE1BQU0sQ0FBQ2lCLFNBQVMsQ0FBQ2U7SUFDdkIsQ0FBQyxDQUFDO0lBQ0YsT0FBT3RPLElBQUksQ0FBQyxJQUFJME4sS0FBSyxDQUFDLDhCQUE4QixDQUFDLENBQUM7RUFDeEQ7QUFDRixDQUFDLENBQUM7O0FBRUY7QUFDQTtBQUNBO0FBQ0EsU0FBU2EsMEJBQTBCQSxDQUFBLEVBQUc7RUFDcEMsTUFBTXBOLEdBQUcsR0FBR0QsSUFBSSxDQUFDQyxHQUFHLENBQUMsQ0FBQztFQUN0QixNQUFNcU4sT0FBTyxHQUFHLEtBQUssQ0FBQyxDQUFDOztFQUV2QixLQUFLLE1BQU0sQ0FBQ3JDLFFBQVEsRUFBRTVLLElBQUksQ0FBQyxJQUFJMEssV0FBVyxDQUFDSSxPQUFPLENBQUMsQ0FBQyxFQUFFO0lBQ3BELElBQUlsTCxHQUFHLEdBQUdJLElBQUksQ0FBQ2tOLGFBQWEsR0FBR0QsT0FBTyxFQUFFO01BQ3RDMVEsT0FBTyxDQUFDQyxHQUFHLENBQUMseUNBQXlDd0QsSUFBSSxDQUFDQyxRQUFRLEVBQUUsQ0FBQzs7TUFFckU7TUFDQSxNQUFNOEssTUFBTSxHQUFHL08sRUFBRSxDQUFDeU8sT0FBTyxDQUFDQSxPQUFPLENBQUM5TyxHQUFHLENBQUNpUCxRQUFRLENBQUM7TUFDL0MsSUFBSUcsTUFBTSxFQUFFO1FBQ1ZBLE1BQU0sQ0FBQ0MsVUFBVSxDQUFDLElBQUksQ0FBQztNQUN6Qjs7TUFFQTtNQUNBLE1BQU1tQyxlQUFlLEdBQUcsQ0FBQ3JCLGVBQWUsQ0FBQ25RLEdBQUcsQ0FBQ3FFLElBQUksQ0FBQ1MsTUFBTSxDQUFDLElBQUksQ0FBQyxJQUFJLENBQUM7TUFDbkVxTCxlQUFlLENBQUNRLEdBQUcsQ0FBQ3RNLElBQUksQ0FBQ1MsTUFBTSxFQUFFbUYsSUFBSSxDQUFDNUssR0FBRyxDQUFDLENBQUMsRUFBRW1TLGVBQWUsQ0FBQyxDQUFDOztNQUU5RDtNQUNBLElBQUlBLGVBQWUsSUFBSSxDQUFDLEVBQUU7UUFDeEI1VCxJQUFJLENBQUMwUixpQkFBaUIsQ0FBQ2pMLElBQUksQ0FBQ1MsTUFBTSxFQUFFO1VBQ2xDOUQsTUFBTSxFQUFFLFNBQVM7VUFDakIyRyxVQUFVLEVBQUUsSUFBSTNELElBQUksQ0FBQztRQUN2QixDQUFDLENBQUMsQ0FBQ3lOLEtBQUssQ0FBQzlRLEdBQUcsSUFBSTVDLE1BQU0sQ0FBQzRCLEtBQUssQ0FBQyxtQ0FBbUMsRUFBRWdCLEdBQUcsQ0FBQyxDQUFDO1FBRXZFQyxPQUFPLENBQUNDLEdBQUcsQ0FBQyxXQUFXd0QsSUFBSSxDQUFDQyxRQUFRLDBDQUEwQyxDQUFDO1FBQy9FdkcsTUFBTSxDQUFDb0csSUFBSSxDQUFDLG1EQUFtRCxFQUFFO1VBQy9EVyxNQUFNLEVBQUVULElBQUksQ0FBQ1MsTUFBTTtVQUNuQlIsUUFBUSxFQUFFRCxJQUFJLENBQUNDLFFBQVE7VUFDdkIySyxRQUFRLEVBQUVBO1FBQ1osQ0FBQyxDQUFDO01BQ0o7TUFFQUYsV0FBVyxDQUFDMkMsTUFBTSxDQUFDekMsUUFBUSxDQUFDO0lBQzlCO0VBQ0Y7QUFDRjs7QUFFQTtBQUNBLElBQUkzUCxPQUFPLENBQUNDLEdBQUcsQ0FBQ0MsUUFBUSxLQUFLLE1BQU0sRUFBRTtFQUNuQ21TLFdBQVcsQ0FBQ04sMEJBQTBCLEVBQUUsS0FBSyxDQUFDO0FBQ2hEO0FBRUFoUixFQUFFLENBQUNLLEVBQUUsQ0FBQyxZQUFZLEVBQUUsTUFBTzBPLE1BQU0sSUFBSztFQUNwQ3hPLE9BQU8sQ0FBQ0MsR0FBRyxDQUFDLGtDQUFrQyxDQUFDO0VBQy9DRCxPQUFPLENBQUNDLEdBQUcsQ0FBQyxXQUFXdU8sTUFBTSxDQUFDOUssUUFBUSxZQUFZLENBQUM7O0VBRW5EO0VBQ0F5SyxXQUFXLENBQUM0QixHQUFHLENBQUN2QixNQUFNLENBQUN0TCxFQUFFLEVBQUU7SUFDekJnQixNQUFNLEVBQUVzSyxNQUFNLENBQUN0SyxNQUFNO0lBQ3JCUixRQUFRLEVBQUU4SyxNQUFNLENBQUM5SyxRQUFRO0lBQ3pCaUQsSUFBSSxFQUFFNkgsTUFBTSxDQUFDN0gsSUFBSTtJQUNqQnFLLElBQUksRUFBRSxJQUFJO0lBQ1ZMLGFBQWEsRUFBRXZOLElBQUksQ0FBQ0MsR0FBRyxDQUFDO0VBQzFCLENBQUMsQ0FBQzs7RUFFRjtFQUNBckQsT0FBTyxDQUFDQyxHQUFHLENBQUMsaUNBQWlDa08sV0FBVyxDQUFDOEMsSUFBSSx1QkFBdUJ6QyxNQUFNLENBQUM5SyxRQUFRLEVBQUUsQ0FBQzs7RUFFdEc7RUFDQThLLE1BQU0sQ0FBQzFPLEVBQUUsQ0FBQyxXQUFXLEVBQUUsTUFBTTtJQUMzQixNQUFNMkQsSUFBSSxHQUFHMEssV0FBVyxDQUFDL08sR0FBRyxDQUFDb1AsTUFBTSxDQUFDdEwsRUFBRSxDQUFDO0lBQ3ZDLElBQUlPLElBQUksRUFBRTtNQUNSQSxJQUFJLENBQUNrTixhQUFhLEdBQUd2TixJQUFJLENBQUNDLEdBQUcsQ0FBQyxDQUFDO01BQy9CckQsT0FBTyxDQUFDQyxHQUFHLENBQUMsbUNBQW1DdU8sTUFBTSxDQUFDOUssUUFBUSxFQUFFLENBQUM7SUFDbkU7RUFDRixDQUFDLENBQUM7O0VBRUY7RUFDQSxNQUFNd04sZUFBZSxHQUFHQSxDQUFBLEtBQU07SUFDNUIsTUFBTXpOLElBQUksR0FBRzBLLFdBQVcsQ0FBQy9PLEdBQUcsQ0FBQ29QLE1BQU0sQ0FBQ3RMLEVBQUUsQ0FBQztJQUN2QyxJQUFJTyxJQUFJLEVBQUU7TUFDUkEsSUFBSSxDQUFDa04sYUFBYSxHQUFHdk4sSUFBSSxDQUFDQyxHQUFHLENBQUMsQ0FBQztJQUNqQztFQUNGLENBQUM7RUFFRG1MLE1BQU0sQ0FBQzFPLEVBQUUsQ0FBQyxXQUFXLEVBQUUsTUFBT3FSLElBQUksSUFBSztJQUNyQ0QsZUFBZSxDQUFDLENBQUM7SUFDakIsTUFBTTtNQUFFRjtJQUFLLENBQUMsR0FBR0csSUFBSTtJQUNyQixJQUFJLENBQUNILElBQUksRUFBRTtNQUNUN1QsTUFBTSxDQUFDbUgsSUFBSSxDQUFDLHFDQUFxQyxFQUFFO1FBQ2pESixNQUFNLEVBQUVzSyxNQUFNLENBQUN0SyxNQUFNO1FBQ3JCUixRQUFRLEVBQUU4SyxNQUFNLENBQUM5SztNQUNuQixDQUFDLENBQUM7TUFDRjhLLE1BQU0sQ0FBQ3lCLElBQUksQ0FBQyxPQUFPLEVBQUU7UUFDbkJuUixPQUFPLEVBQUUsdUJBQXVCO1FBQ2hDb0IsSUFBSSxFQUFFLGNBQWM7UUFDcEIxQyxTQUFTLEVBQUUsSUFBSTRGLElBQUksQ0FBQyxDQUFDLENBQUNvSixXQUFXLENBQUM7TUFDcEMsQ0FBQyxDQUFDO01BQ0Y7SUFDRjtJQUVBLElBQUksT0FBT3dFLElBQUksS0FBSyxRQUFRLElBQUlBLElBQUksQ0FBQ3RILElBQUksQ0FBQyxDQUFDLENBQUN3QyxNQUFNLEtBQUssQ0FBQyxFQUFFO01BQ3hEL08sTUFBTSxDQUFDbUgsSUFBSSxDQUFDLHVDQUF1QyxFQUFFO1FBQ25ESixNQUFNLEVBQUVzSyxNQUFNLENBQUN0SyxNQUFNO1FBQ3JCUixRQUFRLEVBQUU4SyxNQUFNLENBQUM5SyxRQUFRO1FBQ3pCc047TUFDRixDQUFDLENBQUM7TUFDRnhDLE1BQU0sQ0FBQ3lCLElBQUksQ0FBQyxPQUFPLEVBQUU7UUFDbkJuUixPQUFPLEVBQUUsMEJBQTBCO1FBQ25Db0IsSUFBSSxFQUFFLHFCQUFxQjtRQUMzQjFDLFNBQVMsRUFBRSxJQUFJNEYsSUFBSSxDQUFDLENBQUMsQ0FBQ29KLFdBQVcsQ0FBQztNQUNwQyxDQUFDLENBQUM7TUFDRjtJQUNGO0lBRUEsSUFBSTtNQUNGO01BQ0EsTUFBTXdCLE9BQU8sR0FBRyxNQUFNOVEsT0FBTyxDQUFDeVAsT0FBTyxDQUFDO1FBQUV6SixFQUFFLEVBQUU4TjtNQUFLLENBQUMsQ0FBQztNQUNuRCxJQUFJLENBQUNoRCxPQUFPLEVBQUU7UUFDWjdRLE1BQU0sQ0FBQ21ILElBQUksQ0FBQyxxQ0FBcUMsRUFBRTtVQUNqREosTUFBTSxFQUFFc0ssTUFBTSxDQUFDdEssTUFBTTtVQUNyQlIsUUFBUSxFQUFFOEssTUFBTSxDQUFDOUssUUFBUTtVQUN6QnNOO1FBQ0YsQ0FBQyxDQUFDO1FBQ0Z4QyxNQUFNLENBQUN5QixJQUFJLENBQUMsT0FBTyxFQUFFO1VBQ25CblIsT0FBTyxFQUFFLFlBQVlrUyxJQUFJLGFBQWE7VUFDdEM5USxJQUFJLEVBQUUsbUJBQW1CO1VBQ3pCOFEsSUFBSTtVQUNKeFQsU0FBUyxFQUFFLElBQUk0RixJQUFJLENBQUMsQ0FBQyxDQUFDb0osV0FBVyxDQUFDO1FBQ3BDLENBQUMsQ0FBQztRQUNGO01BQ0Y7O01BRUE7TUFDQSxJQUFJZ0MsTUFBTSxDQUFDd0MsSUFBSSxFQUFFO1FBQ2Z4QyxNQUFNLENBQUM0QyxLQUFLLENBQUM1QyxNQUFNLENBQUN3QyxJQUFJLENBQUM7UUFDekI3QyxXQUFXLENBQUM0QixHQUFHLENBQUN2QixNQUFNLENBQUN0TCxFQUFFLEVBQUU7VUFBRSxHQUFHaUwsV0FBVyxDQUFDL08sR0FBRyxDQUFDb1AsTUFBTSxDQUFDdEwsRUFBRSxDQUFDO1VBQUU4TixJQUFJLEVBQUU7UUFBSyxDQUFDLENBQUM7O1FBRXpFO1FBQ0EsTUFBTUssaUJBQWlCLEdBQUdDLEtBQUssQ0FBQ0MsSUFBSSxDQUFDcEQsV0FBVyxDQUFDM0wsTUFBTSxDQUFDLENBQUMsQ0FBQyxDQUN2RGdQLE1BQU0sQ0FBQ0MsQ0FBQyxJQUFJQSxDQUFDLENBQUNULElBQUksS0FBS3hDLE1BQU0sQ0FBQ3dDLElBQUksQ0FBQyxDQUNuQ3ZPLEdBQUcsQ0FBQ2dQLENBQUMsS0FBSztVQUFFL04sUUFBUSxFQUFFK04sQ0FBQyxDQUFDL04sUUFBUTtVQUFFaUQsSUFBSSxFQUFFOEssQ0FBQyxDQUFDOUs7UUFBSyxDQUFDLENBQUMsQ0FBQztRQUNyRGxILEVBQUUsQ0FBQ2lTLEVBQUUsQ0FBQ2xELE1BQU0sQ0FBQ3dDLElBQUksQ0FBQyxDQUFDZixJQUFJLENBQUMsY0FBYyxFQUFFb0IsaUJBQWlCLENBQUM7TUFDNUQ7TUFFQTdDLE1BQU0sQ0FBQ3dDLElBQUksR0FBR0EsSUFBSTtNQUNsQnhDLE1BQU0sQ0FBQ21ELElBQUksQ0FBQ25ELE1BQU0sQ0FBQ3dDLElBQUksQ0FBQzs7TUFFeEI7TUFDQTdDLFdBQVcsQ0FBQzRCLEdBQUcsQ0FBQ3ZCLE1BQU0sQ0FBQ3RMLEVBQUUsRUFBRTtRQUN6QixHQUFHaUwsV0FBVyxDQUFDL08sR0FBRyxDQUFDb1AsTUFBTSxDQUFDdEwsRUFBRSxDQUFDO1FBQzdCOE4sSUFBSSxFQUFFeEMsTUFBTSxDQUFDd0M7TUFDZixDQUFDLENBQUM7TUFFRjdULE1BQU0sQ0FBQ29HLElBQUksQ0FBQyxRQUFRaUwsTUFBTSxDQUFDOUssUUFBUSxnQkFBZ0I4SyxNQUFNLENBQUN3QyxJQUFJLEVBQUUsQ0FBQzs7TUFFakU7TUFDQSxNQUFNWSxXQUFXLEdBQUcsSUFBSTNVLE9BQU8sQ0FBQztRQUM5QjRVLE1BQU0sRUFBRSxRQUFRO1FBQ2hCN0QsT0FBTyxFQUFFUSxNQUFNLENBQUN3QyxJQUFJO1FBQ3BCYyxJQUFJLEVBQUUsR0FBR3RELE1BQU0sQ0FBQzlLLFFBQVEsc0JBQXNCO1FBQzlDNEMsSUFBSSxFQUFFO01BQ1IsQ0FBQyxDQUFDO01BQ0YsTUFBTXNMLFdBQVcsQ0FBQ2pILElBQUksQ0FBQyxDQUFDO01BRXhCbEwsRUFBRSxDQUFDaVMsRUFBRSxDQUFDbEQsTUFBTSxDQUFDd0MsSUFBSSxDQUFDLENBQUNmLElBQUksQ0FBQyxTQUFTLEVBQUU7UUFDakM0QixNQUFNLEVBQUVELFdBQVcsQ0FBQ0MsTUFBTTtRQUMxQjdELE9BQU8sRUFBRTRELFdBQVcsQ0FBQzVELE9BQU87UUFDNUI4RCxJQUFJLEVBQUVGLFdBQVcsQ0FBQ0UsSUFBSTtRQUN0QnhMLElBQUksRUFBRXNMLFdBQVcsQ0FBQ3RMLElBQUk7UUFDdEI5SSxTQUFTLEVBQUVvVSxXQUFXLENBQUNwVTtNQUN6QixDQUFDLENBQUM7O01BRUY7TUFDQSxNQUFNdVUsU0FBUyxHQUFHVCxLQUFLLENBQUNDLElBQUksQ0FBQ3BELFdBQVcsQ0FBQzNMLE1BQU0sQ0FBQyxDQUFDLENBQUMsQ0FDL0NnUCxNQUFNLENBQUNDLENBQUMsSUFBSUEsQ0FBQyxDQUFDVCxJQUFJLEtBQUt4QyxNQUFNLENBQUN3QyxJQUFJLENBQUMsQ0FDbkN2TyxHQUFHLENBQUNnUCxDQUFDLEtBQUs7UUFBRS9OLFFBQVEsRUFBRStOLENBQUMsQ0FBQy9OLFFBQVE7UUFBRWlELElBQUksRUFBRThLLENBQUMsQ0FBQzlLO01BQUssQ0FBQyxDQUFDLENBQUM7TUFDckRsSCxFQUFFLENBQUNpUyxFQUFFLENBQUNsRCxNQUFNLENBQUN3QyxJQUFJLENBQUMsQ0FBQ2YsSUFBSSxDQUFDLGNBQWMsRUFBRThCLFNBQVMsQ0FBQzs7TUFFbEQ7TUFDQSxNQUFNQyxPQUFPLEdBQUcsTUFBTS9VLE9BQU8sQ0FBQzRMLElBQUksQ0FBQztRQUNqQ21GLE9BQU8sRUFBRVEsTUFBTSxDQUFDd0MsSUFBSTtRQUNwQnBFLEdBQUcsRUFBRSxDQUNIO1VBQUV0RyxJQUFJLEVBQUU7UUFBUyxDQUFDLEVBQ2xCO1VBQUVBLElBQUksRUFBRTtRQUFTLENBQUMsRUFDbEI7VUFBRXVMLE1BQU0sRUFBRXJELE1BQU0sQ0FBQzlLO1FBQVMsQ0FBQyxFQUMzQjtVQUFFdU8sTUFBTSxFQUFFekQsTUFBTSxDQUFDOUs7UUFBUyxDQUFDO01BRS9CLENBQUMsQ0FBQyxDQUNDcUYsSUFBSSxDQUFDO1FBQUV2TCxTQUFTLEVBQUUsQ0FBQztNQUFFLENBQUMsQ0FBQyxDQUN2QmtELEtBQUssQ0FBQyxHQUFHLENBQUMsQ0FDVnFJLElBQUksQ0FBQztRQUFFdkwsU0FBUyxFQUFFO01BQUUsQ0FBQyxDQUFDLENBQUMsQ0FBQzs7TUFFM0JnUixNQUFNLENBQUN5QixJQUFJLENBQUMsU0FBUyxFQUFFK0IsT0FBTyxDQUFDdlAsR0FBRyxDQUFDbUYsR0FBRyxLQUFLO1FBQ3pDaUssTUFBTSxFQUFFakssR0FBRyxDQUFDaUssTUFBTTtRQUNsQmIsSUFBSSxFQUFFcEosR0FBRyxDQUFDb0csT0FBTztRQUNqQjhELElBQUksRUFBRWxLLEdBQUcsQ0FBQ2tLLElBQUk7UUFDZHhMLElBQUksRUFBRXNCLEdBQUcsQ0FBQ3RCLElBQUk7UUFDZDJMLE1BQU0sRUFBRXJLLEdBQUcsQ0FBQ3FLLE1BQU07UUFDbEJ6VSxTQUFTLEVBQUVvSyxHQUFHLENBQUNwSztNQUNqQixDQUFDLENBQUMsQ0FBQyxDQUFDO0lBRU4sQ0FBQyxDQUFDLE9BQU91QixLQUFLLEVBQUU7TUFDZDVCLE1BQU0sQ0FBQzRCLEtBQUssQ0FBQyxxQkFBcUIsRUFBRUEsS0FBSyxDQUFDO01BQzFDeVAsTUFBTSxDQUFDeUIsSUFBSSxDQUFDLE9BQU8sRUFBRTtRQUFFblIsT0FBTyxFQUFFO01BQXNCLENBQUMsQ0FBQztJQUMxRDtFQUNGLENBQUMsQ0FBQzs7RUFFRjtFQUNBMFAsTUFBTSxDQUFDMU8sRUFBRSxDQUFDLGFBQWEsRUFBRSxZQUFZO0lBQ25DLElBQUksQ0FBQzBPLE1BQU0sQ0FBQ3dDLElBQUksRUFBRTtNQUNoQnhDLE1BQU0sQ0FBQ3lCLElBQUksQ0FBQyxTQUFTLEVBQUUsRUFBRSxDQUFDO01BQzFCO0lBQ0Y7SUFFQSxJQUFJO01BQ0YsTUFBTStCLE9BQU8sR0FBRyxNQUFNL1UsT0FBTyxDQUFDNEwsSUFBSSxDQUFDO1FBQ2pDbUYsT0FBTyxFQUFFUSxNQUFNLENBQUN3QyxJQUFJO1FBQ3BCcEUsR0FBRyxFQUFFLENBQ0g7VUFBRXRHLElBQUksRUFBRTtRQUFTLENBQUMsRUFDbEI7VUFBRUEsSUFBSSxFQUFFO1FBQVMsQ0FBQyxFQUNsQjtVQUFFdUwsTUFBTSxFQUFFckQsTUFBTSxDQUFDOUs7UUFBUyxDQUFDLEVBQzNCO1VBQUV1TyxNQUFNLEVBQUV6RCxNQUFNLENBQUM5SztRQUFTLENBQUM7TUFFL0IsQ0FBQyxDQUFDLENBQ0NxRixJQUFJLENBQUM7UUFBRXZMLFNBQVMsRUFBRSxDQUFDO01BQUUsQ0FBQyxDQUFDLENBQ3ZCa0QsS0FBSyxDQUFDLEdBQUcsQ0FBQyxDQUNWcUksSUFBSSxDQUFDO1FBQUV2TCxTQUFTLEVBQUU7TUFBRSxDQUFDLENBQUMsQ0FBQyxDQUFDOztNQUUzQmdSLE1BQU0sQ0FBQ3lCLElBQUksQ0FBQyxTQUFTLEVBQUUrQixPQUFPLENBQUN2UCxHQUFHLENBQUNtRixHQUFHLEtBQUs7UUFDekNpSyxNQUFNLEVBQUVqSyxHQUFHLENBQUNpSyxNQUFNO1FBQ2xCYixJQUFJLEVBQUVwSixHQUFHLENBQUNvRyxPQUFPO1FBQUU7UUFDbkI4RCxJQUFJLEVBQUVsSyxHQUFHLENBQUNrSyxJQUFJO1FBQ2R4TCxJQUFJLEVBQUVzQixHQUFHLENBQUN0QixJQUFJO1FBQ2QyTCxNQUFNLEVBQUVySyxHQUFHLENBQUNxSyxNQUFNO1FBQ2xCelUsU0FBUyxFQUFFb0ssR0FBRyxDQUFDcEs7TUFDakIsQ0FBQyxDQUFDLENBQUMsQ0FBQztJQUNOLENBQUMsQ0FBQyxPQUFPdUIsS0FBSyxFQUFFO01BQ2Q1QixNQUFNLENBQUM0QixLQUFLLENBQUMsd0JBQXdCLEVBQUVBLEtBQUssQ0FBQztNQUM3Q3lQLE1BQU0sQ0FBQ3lCLElBQUksQ0FBQyxPQUFPLEVBQUU7UUFBRW5SLE9BQU8sRUFBRTtNQUFpQyxDQUFDLENBQUM7SUFDckU7RUFDRixDQUFDLENBQUM7O0VBRUY7RUFDQTBQLE1BQU0sQ0FBQzFPLEVBQUUsQ0FBQyxTQUFTLEVBQUUsTUFBT3FSLElBQUksSUFBSztJQUNuQ0QsZUFBZSxDQUFDLENBQUM7SUFDakIsSUFBSSxDQUFDMUMsTUFBTSxDQUFDd0MsSUFBSSxJQUFJLENBQUNHLElBQUksQ0FBQ1csSUFBSSxFQUFFcEksSUFBSSxDQUFDLENBQUMsRUFBRTs7SUFFeEM7SUFDQSxNQUFNd0ksV0FBVyxHQUFHLE1BQU1sVixJQUFJLENBQUNtSCxRQUFRLENBQUNxSyxNQUFNLENBQUN0SyxNQUFNLENBQUM7SUFDdEQsSUFBSWdPLFdBQVcsSUFBSUEsV0FBVyxDQUFDckcsT0FBTyxDQUFDLENBQUMsRUFBRTtNQUN4QzJDLE1BQU0sQ0FBQ3lCLElBQUksQ0FBQyxPQUFPLEVBQUU7UUFDbkJuUixPQUFPLEVBQUUsd0NBQXdDO1FBQ2pEb0IsSUFBSSxFQUFFLFlBQVk7UUFDbEIwTCxXQUFXLEVBQUVzRyxXQUFXLENBQUN0RztNQUMzQixDQUFDLENBQUM7TUFDRjtJQUNGO0lBRUEsSUFBSTtNQUNGLE1BQU05TSxPQUFPLEdBQUcsSUFBSTdCLE9BQU8sQ0FBQztRQUMxQjRVLE1BQU0sRUFBRXJELE1BQU0sQ0FBQzlLLFFBQVE7UUFDdkJzSyxPQUFPLEVBQUVRLE1BQU0sQ0FBQ3dDLElBQUk7UUFDcEJjLElBQUksRUFBRVgsSUFBSSxDQUFDVyxJQUFJLENBQUNwSSxJQUFJLENBQUMsQ0FBQztRQUN0QnBELElBQUksRUFBRTtNQUNSLENBQUMsQ0FBQztNQUVGLE1BQU14SCxPQUFPLENBQUM2TCxJQUFJLENBQUMsQ0FBQztNQUVwQixNQUFNd0gsV0FBVyxHQUFHO1FBQ2xCTixNQUFNLEVBQUUvUyxPQUFPLENBQUMrUyxNQUFNO1FBQ3RCYixJQUFJLEVBQUVsUyxPQUFPLENBQUNrUCxPQUFPO1FBQUU7UUFDdkI4RCxJQUFJLEVBQUVoVCxPQUFPLENBQUNnVCxJQUFJO1FBQ2xCdFUsU0FBUyxFQUFFc0IsT0FBTyxDQUFDdEIsU0FBUztRQUM1QjRDLE1BQU0sRUFBRSxXQUFXO1FBQ25Ca0csSUFBSSxFQUFFeEgsT0FBTyxDQUFDd0g7TUFDaEIsQ0FBQztNQUVEN0csRUFBRSxDQUFDaVMsRUFBRSxDQUFDbEQsTUFBTSxDQUFDd0MsSUFBSSxDQUFDLENBQUNmLElBQUksQ0FBQyxTQUFTLEVBQUVrQyxXQUFXLENBQUM7TUFDL0NoVixNQUFNLENBQUNpVixLQUFLLENBQUMsc0JBQXNCNUQsTUFBTSxDQUFDOUssUUFBUSxPQUFPOEssTUFBTSxDQUFDd0MsSUFBSSxFQUFFLENBQUM7SUFDekUsQ0FBQyxDQUFDLE9BQU9qUyxLQUFLLEVBQUU7TUFDZDVCLE1BQU0sQ0FBQzRCLEtBQUssQ0FBQyx1QkFBdUIsRUFBRUEsS0FBSyxDQUFDO01BQzVDeVAsTUFBTSxDQUFDeUIsSUFBSSxDQUFDLE9BQU8sRUFBRTtRQUFFblIsT0FBTyxFQUFFO01BQXlCLENBQUMsQ0FBQztJQUM3RDtFQUNGLENBQUMsQ0FBQzs7RUFFRjtFQUNBMFAsTUFBTSxDQUFDMU8sRUFBRSxDQUFDLGlCQUFpQixFQUFFLE1BQU9xUixJQUFJLElBQUs7SUFDM0NELGVBQWUsQ0FBQyxDQUFDO0lBQ2pCLElBQUksQ0FBQzFDLE1BQU0sQ0FBQ3dDLElBQUksSUFBSSxDQUFDRyxJQUFJLENBQUNPLEVBQUUsSUFBSSxDQUFDUCxJQUFJLENBQUNXLElBQUksRUFBRXBJLElBQUksQ0FBQyxDQUFDLEVBQUU7SUFFcEQsTUFBTTJJLFdBQVcsR0FBR2xCLElBQUksQ0FBQ1csSUFBSSxDQUFDcEksSUFBSSxDQUFDLENBQUM7SUFDcEMsTUFBTTRJLGNBQWMsR0FBR25CLElBQUksQ0FBQ08sRUFBRSxDQUFDaEksSUFBSSxDQUFDLENBQUM7SUFFckMsSUFBSTtNQUNGdk0sTUFBTSxDQUFDaVYsS0FBSyxDQUFDLGdDQUFnQzVELE1BQU0sQ0FBQzlLLFFBQVEsT0FBTzRPLGNBQWMsRUFBRSxFQUFFO1FBQ25GQyxVQUFVLEVBQUUvRCxNQUFNLENBQUN3QyxJQUFJO1FBQ3ZCd0IsY0FBYyxFQUFFaEUsTUFBTSxDQUFDdEwsRUFBRTtRQUN6QmdCLE1BQU0sRUFBRXNLLE1BQU0sQ0FBQ3RLO01BQ2pCLENBQUMsQ0FBQzs7TUFFRjtNQUNBLElBQUlvTyxjQUFjLENBQUNwRyxNQUFNLEtBQUssQ0FBQyxJQUFJb0csY0FBYyxDQUFDcEcsTUFBTSxHQUFHLEVBQUUsRUFBRTtRQUM3RHNDLE1BQU0sQ0FBQ3lCLElBQUksQ0FBQyxPQUFPLEVBQUU7VUFDbkJuUixPQUFPLEVBQUUsOEJBQThCO1VBQ3ZDb0IsSUFBSSxFQUFFO1FBQ1IsQ0FBQyxDQUFDO1FBQ0Y7TUFDRjs7TUFFQTtNQUNBLElBQUlvUyxjQUFjLEtBQUs5RCxNQUFNLENBQUM5SyxRQUFRLEVBQUU7UUFDdEM4SyxNQUFNLENBQUN5QixJQUFJLENBQUMsT0FBTyxFQUFFO1VBQ25CblIsT0FBTyxFQUFFLHlDQUF5QztVQUNsRG9CLElBQUksRUFBRTtRQUNSLENBQUMsQ0FBQztRQUNGO01BQ0Y7O01BRUE7TUFDQSxNQUFNdVMsVUFBVSxHQUFHbkIsS0FBSyxDQUFDQyxJQUFJLENBQUNwRCxXQUFXLENBQUMzTCxNQUFNLENBQUMsQ0FBQyxDQUFDLENBQUNxRyxJQUFJLENBQ3RENEksQ0FBQyxJQUFJQSxDQUFDLENBQUMvTixRQUFRLEtBQUs0TyxjQUFjLElBQUliLENBQUMsQ0FBQ1QsSUFBSSxLQUFLeEMsTUFBTSxDQUFDd0MsSUFDMUQsQ0FBQztNQUVEN1QsTUFBTSxDQUFDaVYsS0FBSyxDQUFDLDRDQUE0Q0UsY0FBYyxFQUFFLEVBQUU7UUFDekVJLFdBQVcsRUFBRSxDQUFDLENBQUNELFVBQVU7UUFDekJFLFVBQVUsRUFBRUYsVUFBVSxFQUFFekIsSUFBSTtRQUM1QnVCLFVBQVUsRUFBRS9ELE1BQU0sQ0FBQ3dDLElBQUk7UUFDdkI0QixpQkFBaUIsRUFBRXRCLEtBQUssQ0FBQ0MsSUFBSSxDQUFDcEQsV0FBVyxDQUFDM0wsTUFBTSxDQUFDLENBQUMsQ0FBQyxDQUNoRGdQLE1BQU0sQ0FBQ0MsQ0FBQyxJQUFJQSxDQUFDLENBQUNULElBQUksS0FBS3hDLE1BQU0sQ0FBQ3dDLElBQUksQ0FBQyxDQUNuQ3ZPLEdBQUcsQ0FBQ2dQLENBQUMsS0FBSztVQUFFL04sUUFBUSxFQUFFK04sQ0FBQyxDQUFDL04sUUFBUTtVQUFFc04sSUFBSSxFQUFFUyxDQUFDLENBQUNUO1FBQUssQ0FBQyxDQUFDO01BQ3RELENBQUMsQ0FBQztNQUVGLElBQUksQ0FBQ3lCLFVBQVUsRUFBRTtRQUNmO1FBQ0EsTUFBTUksdUJBQXVCLEdBQUd2QixLQUFLLENBQUNDLElBQUksQ0FBQ3BELFdBQVcsQ0FBQzNMLE1BQU0sQ0FBQyxDQUFDLENBQUMsQ0FDN0RnUCxNQUFNLENBQUNDLENBQUMsSUFBSUEsQ0FBQyxDQUFDVCxJQUFJLEtBQUt4QyxNQUFNLENBQUN3QyxJQUFJLENBQUMsQ0FDbkN2TyxHQUFHLENBQUNnUCxDQUFDLElBQUlBLENBQUMsQ0FBQy9OLFFBQVEsQ0FBQztRQUV2QjhLLE1BQU0sQ0FBQ3lCLElBQUksQ0FBQyxPQUFPLEVBQUU7VUFDbkJuUixPQUFPLEVBQUUsU0FBU3dULGNBQWMsd0RBQXdETyx1QkFBdUIsQ0FBQ2xCLElBQUksQ0FBQyxJQUFJLENBQUMsSUFBSSxNQUFNLEVBQUU7VUFDdEl6UixJQUFJLEVBQUUseUJBQXlCO1VBQy9CK1IsTUFBTSxFQUFFSyxjQUFjO1VBQ3RCUSxjQUFjLEVBQUVELHVCQUF1QjtVQUN2Q04sVUFBVSxFQUFFL0QsTUFBTSxDQUFDd0M7UUFDckIsQ0FBQyxDQUFDO1FBQ0Y7TUFDRjs7TUFFQTtNQUNBLE1BQU1sUyxPQUFPLEdBQUcsSUFBSTdCLE9BQU8sQ0FBQztRQUMxQjRVLE1BQU0sRUFBRXJELE1BQU0sQ0FBQzlLLFFBQVE7UUFDdkJzSyxPQUFPLEVBQUVRLE1BQU0sQ0FBQ3dDLElBQUk7UUFDcEJjLElBQUksRUFBRU8sV0FBVztRQUNqQi9MLElBQUksRUFBRSxTQUFTO1FBQ2YyTCxNQUFNLEVBQUVLO01BQ1YsQ0FBQyxDQUFDO01BQ0YsTUFBTXhULE9BQU8sQ0FBQzZMLElBQUksQ0FBQyxDQUFDO01BRXBCLE1BQU13SCxXQUFXLEdBQUc7UUFDbEJOLE1BQU0sRUFBRS9TLE9BQU8sQ0FBQytTLE1BQU07UUFDdEJiLElBQUksRUFBRWxTLE9BQU8sQ0FBQ2tQLE9BQU87UUFDckI4RCxJQUFJLEVBQUVoVCxPQUFPLENBQUNnVCxJQUFJO1FBQ2xCdFUsU0FBUyxFQUFFc0IsT0FBTyxDQUFDdEIsU0FBUztRQUM1QjhJLElBQUksRUFBRXhILE9BQU8sQ0FBQ3dILElBQUk7UUFDbEIyTCxNQUFNLEVBQUVuVCxPQUFPLENBQUNtVCxNQUFNO1FBQ3RCN1IsTUFBTSxFQUFFO01BQ1YsQ0FBQzs7TUFFRDtNQUNBLE1BQU0yUyxjQUFjLEdBQUd6QixLQUFLLENBQUNDLElBQUksQ0FBQ3BELFdBQVcsQ0FBQ3BMLElBQUksQ0FBQyxDQUFDLENBQUMsQ0FBQzhGLElBQUksQ0FDeEQzRixFQUFFLElBQUlpTCxXQUFXLENBQUMvTyxHQUFHLENBQUM4RCxFQUFFLENBQUMsQ0FBQ1EsUUFBUSxLQUFLNE8sY0FDekMsQ0FBQztNQUVELElBQUlTLGNBQWMsRUFBRTtRQUNsQnRULEVBQUUsQ0FBQ2lTLEVBQUUsQ0FBQ3FCLGNBQWMsQ0FBQyxDQUFDOUMsSUFBSSxDQUFDLGlCQUFpQixFQUFFa0MsV0FBVyxDQUFDO1FBQzFEaFYsTUFBTSxDQUFDaVYsS0FBSyxDQUFDLGtDQUFrQ0UsY0FBYyxFQUFFLEVBQUU7VUFDL0RTLGNBQWMsRUFBRUEsY0FBYztVQUM5QkMsTUFBTSxFQUFFeEUsTUFBTSxDQUFDOUssUUFBUTtVQUN2QnNOLElBQUksRUFBRXhDLE1BQU0sQ0FBQ3dDLElBQUk7VUFDakJpQyxTQUFTLEVBQUVuVSxPQUFPLENBQUNzRjtRQUNyQixDQUFDLENBQUM7TUFDSixDQUFDLE1BQU07UUFDTGpILE1BQU0sQ0FBQ21ILElBQUksQ0FBQyxlQUFlZ08sY0FBYywrQ0FBK0MsRUFBRTtVQUN4RkEsY0FBYztVQUNkdEIsSUFBSSxFQUFFeEMsTUFBTSxDQUFDd0MsSUFBSTtVQUNqQmtDLGdCQUFnQixFQUFFL0UsV0FBVyxDQUFDOEMsSUFBSTtVQUNsQ2dDLFNBQVMsRUFBRW5VLE9BQU8sQ0FBQ3NGO1FBQ3JCLENBQUMsQ0FBQztRQUNGO01BQ0Y7O01BRUE7TUFDQW9LLE1BQU0sQ0FBQ3lCLElBQUksQ0FBQyxpQkFBaUIsRUFBRTtRQUM3QjRCLE1BQU0sRUFBRS9TLE9BQU8sQ0FBQytTLE1BQU07UUFDdEJiLElBQUksRUFBRWxTLE9BQU8sQ0FBQ2tTLElBQUk7UUFDbEJjLElBQUksRUFBRWhULE9BQU8sQ0FBQ2dULElBQUk7UUFDbEJ0VSxTQUFTLEVBQUVzQixPQUFPLENBQUN0QixTQUFTO1FBQzVCOEksSUFBSSxFQUFFeEgsT0FBTyxDQUFDd0gsSUFBSTtRQUNsQjJMLE1BQU0sRUFBRSxJQUFJO1FBQUU7UUFDZDdSLE1BQU0sRUFBRTtNQUNWLENBQUMsQ0FBQztNQUVGakQsTUFBTSxDQUFDb0csSUFBSSxDQUFDLG1DQUFtQyxFQUFFO1FBQy9DeVAsTUFBTSxFQUFFeEUsTUFBTSxDQUFDOUssUUFBUTtRQUN2QnVPLE1BQU0sRUFBRUssY0FBYztRQUN0QnRCLElBQUksRUFBRXhDLE1BQU0sQ0FBQ3dDLElBQUk7UUFDakJpQyxTQUFTLEVBQUVuVSxPQUFPLENBQUNzRixHQUFHO1FBQ3RCK08sYUFBYSxFQUFFZCxXQUFXLENBQUNuRztNQUM3QixDQUFDLENBQUM7SUFFSixDQUFDLENBQUMsT0FBT25OLEtBQUssRUFBRTtNQUNkNUIsTUFBTSxDQUFDNEIsS0FBSyxDQUFDLGdDQUFnQyxFQUFFO1FBQzdDQSxLQUFLLEVBQUVBLEtBQUssQ0FBQ0QsT0FBTztRQUNwQmtVLE1BQU0sRUFBRXhFLE1BQU0sQ0FBQzlLLFFBQVE7UUFDdkJ1TyxNQUFNLEVBQUVkLElBQUksQ0FBQ08sRUFBRTtRQUNmVixJQUFJLEVBQUV4QyxNQUFNLENBQUN3QyxJQUFJO1FBQ2pCOU0sTUFBTSxFQUFFc0ssTUFBTSxDQUFDdEssTUFBTTtRQUNyQnhHLEtBQUssRUFBRXFCLEtBQUssQ0FBQ3JCO01BQ2YsQ0FBQyxDQUFDO01BQ0Y4USxNQUFNLENBQUN5QixJQUFJLENBQUMsT0FBTyxFQUFFO1FBQ25CblIsT0FBTyxFQUFFLGdDQUFnQztRQUN6Q29CLElBQUksRUFBRTtNQUNSLENBQUMsQ0FBQztJQUNKO0VBQ0YsQ0FBQyxDQUFDOztFQUVGO0VBQ0FzTyxNQUFNLENBQUMxTyxFQUFFLENBQUMsVUFBVSxFQUFHcVIsSUFBSSxJQUFLO0lBQzlCRCxlQUFlLENBQUMsQ0FBQztJQUNqQjFDLE1BQU0sQ0FBQ2tELEVBQUUsQ0FBQ2xELE1BQU0sQ0FBQ3dDLElBQUksQ0FBQyxDQUFDZixJQUFJLENBQUMsVUFBVSxFQUFFO01BQUV2TSxRQUFRLEVBQUU4SyxNQUFNLENBQUM5SyxRQUFRO01BQUUwUCxRQUFRLEVBQUVqQyxJQUFJLENBQUNpQztJQUFTLENBQUMsQ0FBQztFQUNqRyxDQUFDLENBQUM7O0VBRUY7RUFDQTVFLE1BQU0sQ0FBQzFPLEVBQUUsQ0FBQyxvQkFBb0IsRUFBRSxNQUFPcVIsSUFBSSxJQUFLO0lBQzlDRCxlQUFlLENBQUMsQ0FBQztJQUNqQixNQUFNO01BQUVqRDtJQUFVLENBQUMsR0FBR2tELElBQUk7SUFDMUIsSUFBSSxDQUFDbEQsU0FBUyxFQUFFO0lBRWhCLElBQUk7TUFDRjtNQUNBLE1BQU1ELE9BQU8sR0FBRyxNQUFNOVEsT0FBTyxDQUFDeVAsT0FBTyxDQUFDO1FBQUV6SixFQUFFLEVBQUUrSyxTQUFTO1FBQUUzSCxJQUFJLEVBQUU7TUFBUSxDQUFDLENBQUM7TUFDdkUsSUFBSSxDQUFDMEgsT0FBTyxFQUFFO1FBQ1pRLE1BQU0sQ0FBQ3lCLElBQUksQ0FBQyxhQUFhLEVBQUU7VUFBRW5SLE9BQU8sRUFBRTtRQUEwQixDQUFDLENBQUM7UUFDbEU7TUFDRjs7TUFFQTtNQUNBLElBQUksQ0FBQzBRLGFBQWEsQ0FBQzZELEdBQUcsQ0FBQ3BGLFNBQVMsQ0FBQyxFQUFFO1FBQ2pDdUIsYUFBYSxDQUFDTyxHQUFHLENBQUM5QixTQUFTLEVBQUUsSUFBSXFCLEdBQUcsQ0FBQyxDQUFDLENBQUM7TUFDekM7TUFFQSxNQUFNZ0UsWUFBWSxHQUFHOUQsYUFBYSxDQUFDcFEsR0FBRyxDQUFDNk8sU0FBUyxDQUFDOztNQUVqRDtNQUNBTyxNQUFNLENBQUNrRCxFQUFFLENBQUN6RCxTQUFTLENBQUMsQ0FBQ2dDLElBQUksQ0FBQyxtQkFBbUIsRUFBRTtRQUFFdk0sUUFBUSxFQUFFOEssTUFBTSxDQUFDOUssUUFBUTtRQUFFMkssUUFBUSxFQUFFRyxNQUFNLENBQUN0TDtNQUFHLENBQUMsQ0FBQzs7TUFFbEc7TUFDQXNMLE1BQU0sQ0FBQ21ELElBQUksQ0FBQzFELFNBQVMsQ0FBQztNQUN0QnFGLFlBQVksQ0FBQ3ZELEdBQUcsQ0FBQ3ZCLE1BQU0sQ0FBQ3RMLEVBQUUsRUFBRTtRQUFFcVEsY0FBYyxFQUFFLElBQUk7UUFBRUMsTUFBTSxFQUFFO01BQUssQ0FBQyxDQUFDOztNQUVuRTtNQUNBaEYsTUFBTSxDQUFDaUYsWUFBWSxHQUFHeEYsU0FBUztNQUUvQjlRLE1BQU0sQ0FBQ29HLElBQUksQ0FBQyxRQUFRaUwsTUFBTSxDQUFDOUssUUFBUSx5QkFBeUJ1SyxTQUFTLEVBQUUsQ0FBQztNQUN4RU8sTUFBTSxDQUFDeUIsSUFBSSxDQUFDLGNBQWMsRUFBRTtRQUFFaEM7TUFBVSxDQUFDLENBQUM7SUFFNUMsQ0FBQyxDQUFDLE9BQU9sUCxLQUFLLEVBQUU7TUFDZDVCLE1BQU0sQ0FBQzRCLEtBQUssQ0FBQyw4QkFBOEIsRUFBRUEsS0FBSyxDQUFDO01BQ25EeVAsTUFBTSxDQUFDeUIsSUFBSSxDQUFDLGFBQWEsRUFBRTtRQUFFblIsT0FBTyxFQUFFO01BQStCLENBQUMsQ0FBQztJQUN6RTtFQUNGLENBQUMsQ0FBQztFQUVGMFAsTUFBTSxDQUFDMU8sRUFBRSxDQUFDLHFCQUFxQixFQUFFLE1BQU07SUFDckNvUixlQUFlLENBQUMsQ0FBQztJQUNqQixJQUFJLENBQUMxQyxNQUFNLENBQUNpRixZQUFZLEVBQUU7SUFFMUIsTUFBTXhGLFNBQVMsR0FBR08sTUFBTSxDQUFDaUYsWUFBWTtJQUNyQyxNQUFNSCxZQUFZLEdBQUc5RCxhQUFhLENBQUNwUSxHQUFHLENBQUM2TyxTQUFTLENBQUM7SUFFakQsSUFBSXFGLFlBQVksRUFBRTtNQUNoQkEsWUFBWSxDQUFDeEMsTUFBTSxDQUFDdEMsTUFBTSxDQUFDdEwsRUFBRSxDQUFDO01BQzlCLElBQUlvUSxZQUFZLENBQUNyQyxJQUFJLEtBQUssQ0FBQyxFQUFFO1FBQzNCekIsYUFBYSxDQUFDc0IsTUFBTSxDQUFDN0MsU0FBUyxDQUFDO01BQ2pDO0lBQ0Y7O0lBRUE7SUFDQU8sTUFBTSxDQUFDa0QsRUFBRSxDQUFDekQsU0FBUyxDQUFDLENBQUNnQyxJQUFJLENBQUMsaUJBQWlCLEVBQUU7TUFBRXZNLFFBQVEsRUFBRThLLE1BQU0sQ0FBQzlLLFFBQVE7TUFBRTJLLFFBQVEsRUFBRUcsTUFBTSxDQUFDdEw7SUFBRyxDQUFDLENBQUM7SUFFaEdzTCxNQUFNLENBQUM0QyxLQUFLLENBQUNuRCxTQUFTLENBQUM7SUFDdkJPLE1BQU0sQ0FBQ2lGLFlBQVksR0FBRyxJQUFJO0lBRTFCdFcsTUFBTSxDQUFDb0csSUFBSSxDQUFDLFFBQVFpTCxNQUFNLENBQUM5SyxRQUFRLHVCQUF1QnVLLFNBQVMsRUFBRSxDQUFDO0lBQ3RFTyxNQUFNLENBQUN5QixJQUFJLENBQUMsWUFBWSxDQUFDO0VBQzNCLENBQUMsQ0FBQztFQUVGekIsTUFBTSxDQUFDMU8sRUFBRSxDQUFDLGFBQWEsRUFBR3FSLElBQUksSUFBSztJQUNqQyxNQUFNO01BQUV1QyxLQUFLO01BQUVYO0lBQWUsQ0FBQyxHQUFHNUIsSUFBSTtJQUN0QzNDLE1BQU0sQ0FBQ2tELEVBQUUsQ0FBQ3FCLGNBQWMsQ0FBQyxDQUFDOUMsSUFBSSxDQUFDLGFBQWEsRUFBRTtNQUM1Q3lELEtBQUs7TUFDTG5DLElBQUksRUFBRS9DLE1BQU0sQ0FBQ3RMLEVBQUU7TUFDZnlRLFlBQVksRUFBRW5GLE1BQU0sQ0FBQzlLO0lBQ3ZCLENBQUMsQ0FBQztFQUNKLENBQUMsQ0FBQztFQUVGOEssTUFBTSxDQUFDMU8sRUFBRSxDQUFDLGNBQWMsRUFBR3FSLElBQUksSUFBSztJQUNsQyxNQUFNO01BQUV5QyxNQUFNO01BQUViO0lBQWUsQ0FBQyxHQUFHNUIsSUFBSTtJQUN2QzNDLE1BQU0sQ0FBQ2tELEVBQUUsQ0FBQ3FCLGNBQWMsQ0FBQyxDQUFDOUMsSUFBSSxDQUFDLGNBQWMsRUFBRTtNQUM3QzJELE1BQU07TUFDTnJDLElBQUksRUFBRS9DLE1BQU0sQ0FBQ3RMLEVBQUU7TUFDZnlRLFlBQVksRUFBRW5GLE1BQU0sQ0FBQzlLO0lBQ3ZCLENBQUMsQ0FBQztFQUNKLENBQUMsQ0FBQztFQUVGOEssTUFBTSxDQUFDMU8sRUFBRSxDQUFDLGVBQWUsRUFBR3FSLElBQUksSUFBSztJQUNuQyxNQUFNO01BQUUwQyxTQUFTO01BQUVkO0lBQWUsQ0FBQyxHQUFHNUIsSUFBSTtJQUMxQzNDLE1BQU0sQ0FBQ2tELEVBQUUsQ0FBQ3FCLGNBQWMsQ0FBQyxDQUFDOUMsSUFBSSxDQUFDLGVBQWUsRUFBRTtNQUM5QzRELFNBQVM7TUFDVHRDLElBQUksRUFBRS9DLE1BQU0sQ0FBQ3RMLEVBQUU7TUFDZnlRLFlBQVksRUFBRW5GLE1BQU0sQ0FBQzlLO0lBQ3ZCLENBQUMsQ0FBQztFQUNKLENBQUMsQ0FBQzs7RUFFRjtFQUNBOEssTUFBTSxDQUFDMU8sRUFBRSxDQUFDLFlBQVksRUFBRSxZQUFZO0lBQ2xDM0MsTUFBTSxDQUFDb0csSUFBSSxDQUFDLFFBQVFpTCxNQUFNLENBQUM5SyxRQUFRLGVBQWUsQ0FBQztJQUVuRCxJQUFJO01BQ0YsTUFBTVEsTUFBTSxHQUFHc0ssTUFBTSxDQUFDdEssTUFBTTs7TUFFNUI7TUFDQSxJQUFJQSxNQUFNLEVBQUU7UUFDVixNQUFNNFAsWUFBWSxHQUFHdkUsZUFBZSxDQUFDblEsR0FBRyxDQUFDOEUsTUFBTSxDQUFDLElBQUksQ0FBQztRQUNyRCxNQUFNNlAsUUFBUSxHQUFHMUssSUFBSSxDQUFDNUssR0FBRyxDQUFDLENBQUMsRUFBRXFWLFlBQVksR0FBRyxDQUFDLENBQUM7UUFDOUN2RSxlQUFlLENBQUNRLEdBQUcsQ0FBQzdMLE1BQU0sRUFBRTZQLFFBQVEsQ0FBQztRQUVyQzVXLE1BQU0sQ0FBQ29HLElBQUksQ0FBQyxRQUFRaUwsTUFBTSxDQUFDOUssUUFBUSx5Q0FBeUNxUSxRQUFRLEdBQUcsRUFBRTtVQUN2RjdQLE1BQU0sRUFBRUEsTUFBTTtVQUNkbUssUUFBUSxFQUFFRyxNQUFNLENBQUN0TCxFQUFFO1VBQ25CME4sZUFBZSxFQUFFbUQ7UUFDbkIsQ0FBQyxDQUFDO01BQ0o7O01BRUE7TUFDQSxJQUFJdkYsTUFBTSxDQUFDaUYsWUFBWSxFQUFFO1FBQ3ZCLE1BQU14RixTQUFTLEdBQUdPLE1BQU0sQ0FBQ2lGLFlBQVk7UUFDckMsTUFBTUgsWUFBWSxHQUFHOUQsYUFBYSxDQUFDcFEsR0FBRyxDQUFDNk8sU0FBUyxDQUFDO1FBRWpELElBQUlxRixZQUFZLEVBQUU7VUFDaEJBLFlBQVksQ0FBQ3hDLE1BQU0sQ0FBQ3RDLE1BQU0sQ0FBQ3RMLEVBQUUsQ0FBQztVQUM5QixJQUFJb1EsWUFBWSxDQUFDckMsSUFBSSxLQUFLLENBQUMsRUFBRTtZQUMzQnpCLGFBQWEsQ0FBQ3NCLE1BQU0sQ0FBQzdDLFNBQVMsQ0FBQztVQUNqQztRQUNGOztRQUVBO1FBQ0FPLE1BQU0sQ0FBQ2tELEVBQUUsQ0FBQ3pELFNBQVMsQ0FBQyxDQUFDZ0MsSUFBSSxDQUFDLGlCQUFpQixFQUFFO1VBQUV2TSxRQUFRLEVBQUU4SyxNQUFNLENBQUM5SyxRQUFRO1VBQUUySyxRQUFRLEVBQUVHLE1BQU0sQ0FBQ3RMO1FBQUcsQ0FBQyxDQUFDO01BQ2xHO01BRUEsSUFBSXNMLE1BQU0sQ0FBQ3dDLElBQUksRUFBRTtRQUNmeEMsTUFBTSxDQUFDNEMsS0FBSyxDQUFDNUMsTUFBTSxDQUFDd0MsSUFBSSxDQUFDOztRQUV6QjtRQUNBLE1BQU1nRCxZQUFZLEdBQUcsSUFBSS9XLE9BQU8sQ0FBQztVQUMvQjRVLE1BQU0sRUFBRSxRQUFRO1VBQ2hCN0QsT0FBTyxFQUFFUSxNQUFNLENBQUN3QyxJQUFJO1VBQ3BCYyxJQUFJLEVBQUUsR0FBR3RELE1BQU0sQ0FBQzlLLFFBQVEsb0JBQW9CO1VBQzVDNEMsSUFBSSxFQUFFO1FBQ1IsQ0FBQyxDQUFDO1FBQ0YsTUFBTTBOLFlBQVksQ0FBQ3JKLElBQUksQ0FBQyxDQUFDO1FBRXpCbEwsRUFBRSxDQUFDaVMsRUFBRSxDQUFDbEQsTUFBTSxDQUFDd0MsSUFBSSxDQUFDLENBQUNmLElBQUksQ0FBQyxTQUFTLEVBQUU7VUFDakM0QixNQUFNLEVBQUVtQyxZQUFZLENBQUNuQyxNQUFNO1VBQzNCYixJQUFJLEVBQUVnRCxZQUFZLENBQUNoRyxPQUFPO1VBQzFCOEQsSUFBSSxFQUFFa0MsWUFBWSxDQUFDbEMsSUFBSTtVQUN2QnhMLElBQUksRUFBRTBOLFlBQVksQ0FBQzFOLElBQUk7VUFDdkI5SSxTQUFTLEVBQUV3VyxZQUFZLENBQUN4VztRQUMxQixDQUFDLENBQUM7O1FBRUY7UUFDQSxNQUFNdVUsU0FBUyxHQUFHVCxLQUFLLENBQUNDLElBQUksQ0FBQ3BELFdBQVcsQ0FBQzNMLE1BQU0sQ0FBQyxDQUFDLENBQUMsQ0FDL0NnUCxNQUFNLENBQUNDLENBQUMsSUFBSUEsQ0FBQyxDQUFDVCxJQUFJLEtBQUt4QyxNQUFNLENBQUN3QyxJQUFJLElBQUlTLENBQUMsQ0FBQ3ZOLE1BQU0sS0FBS3NLLE1BQU0sQ0FBQ3RLLE1BQU0sQ0FBQyxDQUNqRXpCLEdBQUcsQ0FBQ2dQLENBQUMsS0FBSztVQUFFL04sUUFBUSxFQUFFK04sQ0FBQyxDQUFDL04sUUFBUTtVQUFFaUQsSUFBSSxFQUFFOEssQ0FBQyxDQUFDOUs7UUFBSyxDQUFDLENBQUMsQ0FBQztRQUNyRGxILEVBQUUsQ0FBQ2lTLEVBQUUsQ0FBQ2xELE1BQU0sQ0FBQ3dDLElBQUksQ0FBQyxDQUFDZixJQUFJLENBQUMsY0FBYyxFQUFFOEIsU0FBUyxDQUFDO01BQ3BEOztNQUVBO01BQ0E1RCxXQUFXLENBQUMyQyxNQUFNLENBQUN0QyxNQUFNLENBQUN0TCxFQUFFLENBQUM7O01BRTdCO01BQ0EvRixNQUFNLENBQUNvRyxJQUFJLENBQUMsZ0RBQWdENEssV0FBVyxDQUFDOEMsSUFBSSxFQUFFLENBQUM7O01BRS9FO01BQ0EsSUFBSS9NLE1BQU0sRUFBRTtRQUNWLE1BQU0rUCxvQkFBb0IsR0FBRzFFLGVBQWUsQ0FBQ25RLEdBQUcsQ0FBQzhFLE1BQU0sQ0FBQyxJQUFJLENBQUM7UUFDN0QsSUFBSStQLG9CQUFvQixLQUFLLENBQUMsRUFBRTtVQUM5QixNQUFNalgsSUFBSSxDQUFDMFIsaUJBQWlCLENBQUN4SyxNQUFNLEVBQUU7WUFDbkM5RCxNQUFNLEVBQUUsU0FBUztZQUNqQjJHLFVBQVUsRUFBRSxJQUFJM0QsSUFBSSxDQUFDO1VBQ3ZCLENBQUMsQ0FBQztVQUNGcEQsT0FBTyxDQUFDQyxHQUFHLENBQUMsV0FBV3VPLE1BQU0sQ0FBQzlLLFFBQVEsMENBQTBDLENBQUM7VUFDakZ2RyxNQUFNLENBQUNvRyxJQUFJLENBQUMsOENBQThDLEVBQUU7WUFDMURXLE1BQU0sRUFBRUEsTUFBTTtZQUNkUixRQUFRLEVBQUU4SyxNQUFNLENBQUM5SztVQUNuQixDQUFDLENBQUM7UUFDSixDQUFDLE1BQU07VUFDTDtVQUNBLE1BQU0xRyxJQUFJLENBQUMwUixpQkFBaUIsQ0FBQ3hLLE1BQU0sRUFBRTtZQUNuQzZDLFVBQVUsRUFBRSxJQUFJM0QsSUFBSSxDQUFDO1VBQ3ZCLENBQUMsQ0FBQztVQUNGcEQsT0FBTyxDQUFDQyxHQUFHLENBQUMsVUFBVXVPLE1BQU0sQ0FBQzlLLFFBQVEsa0JBQWtCdVEsb0JBQW9CLG9CQUFvQixDQUFDO1VBQ2hHOVcsTUFBTSxDQUFDb0csSUFBSSxDQUFDLHFCQUFxQixFQUFFO1lBQ2pDVyxNQUFNLEVBQUVBLE1BQU07WUFDZFIsUUFBUSxFQUFFOEssTUFBTSxDQUFDOUssUUFBUTtZQUN6QmtOLGVBQWUsRUFBRXFEO1VBQ25CLENBQUMsQ0FBQztRQUNKO01BQ0Y7SUFFRixDQUFDLENBQUMsT0FBT2xWLEtBQUssRUFBRTtNQUNkNUIsTUFBTSxDQUFDNEIsS0FBSyxDQUFDLDhCQUE4QixFQUFFQSxLQUFLLENBQUM7SUFDckQ7RUFDSCxDQUFDLENBQUM7QUFDSCxDQUFDLENBQUM7O0FBRUY7QUFDQSxNQUFNbVYsZ0JBQWdCLEdBQUcsTUFBQUEsQ0FBQSxLQUFZO0VBQ25DLElBQUk7SUFDRjtJQUNBLE1BQU1yWCxTQUFTLENBQUMsQ0FBQzs7SUFFakI7SUFDQSxNQUFNc1gsZUFBZSxHQUFHLENBQ3RCO01BQUVqUixFQUFFLEVBQUUsU0FBUztNQUFFckIsSUFBSSxFQUFFLFNBQVM7TUFBRXlFLElBQUksRUFBRSxNQUFNO01BQUVXLFNBQVMsRUFBRTtJQUFTLENBQUMsRUFDckU7TUFBRS9ELEVBQUUsRUFBRSxZQUFZO01BQUVyQixJQUFJLEVBQUUsWUFBWTtNQUFFeUUsSUFBSSxFQUFFLE9BQU87TUFBRVcsU0FBUyxFQUFFO0lBQVMsQ0FBQyxDQUM3RTtJQUVELEtBQUssTUFBTW1OLFdBQVcsSUFBSUQsZUFBZSxFQUFFO01BQ3pDLE1BQU1qWCxPQUFPLENBQUNpVCxnQkFBZ0IsQ0FDNUI7UUFBRWpOLEVBQUUsRUFBRWtSLFdBQVcsQ0FBQ2xSO01BQUcsQ0FBQyxFQUN0QmtSLFdBQVcsRUFDWDtRQUFFQyxNQUFNLEVBQUUsSUFBSTtRQUFFaEUsR0FBRyxFQUFFO01BQUssQ0FDNUIsQ0FBQztJQUNIO0lBRUFsVCxNQUFNLENBQUNvRyxJQUFJLENBQUMsOEJBQThCLENBQUM7O0lBRTNDO0lBQ0EsTUFBTStRLElBQUksR0FBRzVWLE9BQU8sQ0FBQ0MsR0FBRyxDQUFDMlYsSUFBSSxJQUFJLElBQUk7SUFDckNqVyxNQUFNLENBQUNrVyxNQUFNLENBQUNELElBQUksRUFBRSxTQUFTLEVBQUUsTUFBTTtNQUNuQ25YLE1BQU0sQ0FBQ29HLElBQUksQ0FBQywwQkFBMEIrUSxJQUFJLEVBQUUsQ0FBQztNQUM3Q3RVLE9BQU8sQ0FBQ0MsR0FBRyxDQUFDLDBCQUEwQnFVLElBQUksRUFBRSxDQUFDO0lBQy9DLENBQUMsQ0FBQztFQUVKLENBQUMsQ0FBQyxPQUFPdlYsS0FBSyxFQUFFO0lBQ2Q1QixNQUFNLENBQUM0QixLQUFLLENBQUMsOEJBQThCLEVBQUVBLEtBQUssQ0FBQztJQUNuREwsT0FBTyxDQUFDOFYsSUFBSSxDQUFDLENBQUMsQ0FBQztFQUNqQjtBQUNGLENBQUM7O0FBRUQ7QUFDQTlWLE9BQU8sQ0FBQ29CLEVBQUUsQ0FBQyxRQUFRLEVBQUUsWUFBWTtFQUMvQjNDLE1BQU0sQ0FBQ29HLElBQUksQ0FBQyw4Q0FBOEMsQ0FBQztFQUMzRCxNQUFNekcsT0FBTyxDQUFDLENBQUM7RUFDZjJDLEVBQUUsQ0FBQ2dWLEtBQUssQ0FBQyxNQUFNO0lBQ2J0WCxNQUFNLENBQUNvRyxJQUFJLENBQUMsa0JBQWtCLENBQUM7SUFDL0I3RSxPQUFPLENBQUM4VixJQUFJLENBQUMsQ0FBQyxDQUFDO0VBQ2pCLENBQUMsQ0FBQztBQUNKLENBQUMsQ0FBQztBQUVGOVYsT0FBTyxDQUFDb0IsRUFBRSxDQUFDLFNBQVMsRUFBRSxZQUFZO0VBQ2hDM0MsTUFBTSxDQUFDb0csSUFBSSxDQUFDLCtDQUErQyxDQUFDO0VBQzVELE1BQU16RyxPQUFPLENBQUMsQ0FBQztFQUNmMkMsRUFBRSxDQUFDZ1YsS0FBSyxDQUFDLE1BQU07SUFDYnRYLE1BQU0sQ0FBQ29HLElBQUksQ0FBQyxrQkFBa0IsQ0FBQztJQUMvQjdFLE9BQU8sQ0FBQzhWLElBQUksQ0FBQyxDQUFDLENBQUM7RUFDakIsQ0FBQyxDQUFDO0FBQ0osQ0FBQyxDQUFDOztBQUVGO0FBQ0FOLGdCQUFnQixDQUFDLENBQUMsQ0FBQ3JELEtBQUssQ0FBQzlRLEdBQUcsSUFBSTtFQUM5QjVDLE1BQU0sQ0FBQzRCLEtBQUssQ0FBQyx3Q0FBd0MsRUFBRWdCLEdBQUcsQ0FBQztFQUMzRHJCLE9BQU8sQ0FBQzhWLElBQUksQ0FBQyxDQUFDLENBQUM7QUFDakIsQ0FBQyxDQUFDIiwiaWdub3JlTGlzdCI6W119